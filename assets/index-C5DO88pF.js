(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Z_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zf={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function pT(){if(wy)return Ql;wy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var Cy;function yT(){return Cy||(Cy=1,zf.exports=pT()),zf.exports}var Z=yT(),Uf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function _T(){if(Dy)return Et;Dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function dt(M,X,nt){this.props=M,this.context=X,this.refs=$,this.updater=nt||J}dt.prototype.isReactComponent={},dt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},dt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function mt(){}mt.prototype=dt.prototype;function ut(M,X,nt){this.props=M,this.context=X,this.refs=$,this.updater=nt||J}var ct=ut.prototype=new mt;ct.constructor=ut,W(ct,dt.prototype),ct.isPureReactComponent=!0;var Ct=Array.isArray;function wt(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,X,nt){var st=nt.ref;return{$$typeof:r,type:M,key:X,ref:st!==void 0?st:null,props:nt}}function O(M,X){return C(M.type,X,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return X[nt]})}var b=/\/+/g;function yt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):X.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(wt,wt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,X,nt,st,_t){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(bt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case r:case e:Lt=!0;break;case A:return Lt=M._init,H(Lt(M._payload),X,nt,st,_t)}}if(Lt)return _t=_t(M),Lt=st===""?"."+yt(M,0):st,Ct(_t)?(nt="",Lt!=null&&(nt=Lt.replace(b,"$&/")+"/"),H(_t,X,nt,"",function(ka){return ka})):_t!=null&&(I(_t)&&(_t=O(_t,nt+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(b,"$&/")+"/")+Lt)),X.push(_t)),1;Lt=0;var De=st===""?".":st+":";if(Ct(M))for(var se=0;se<M.length;se++)st=M[se],bt=De+yt(st,se),Lt+=H(st,X,nt,bt,_t);else if(se=P(M),typeof se=="function")for(M=se.call(M),se=0;!(st=M.next()).done;)st=st.value,bt=De+yt(st,se++),Lt+=H(st,X,nt,bt,_t);else if(bt==="object"){if(typeof M.then=="function")return H(Dt(M),X,nt,st,_t);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(M,X,nt){if(M==null)return M;var st=[],_t=0;return H(M,st,"","",function(bt){return X.call(nt,bt,_t++)}),st}function ot(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Pt={map:et,forEach:function(M,X,nt){et(M,function(){X.apply(this,arguments)},nt)},count:function(M){var X=0;return et(M,function(){X++}),X},toArray:function(M){return et(M,function(X){return X})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=S,Et.Children=Pt,Et.Component=dt,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=ut,Et.StrictMode=s,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,X,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=W({},M.props),_t=M.key;if(X!=null)for(bt in X.key!==void 0&&(_t=""+X.key),X)!R.call(X,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&X.ref===void 0||(st[bt]=X[bt]);var bt=arguments.length-2;if(bt===1)st.children=nt;else if(1<bt){for(var Lt=Array(bt),De=0;De<bt;De++)Lt[De]=arguments[De+2];st.children=Lt}return C(M.type,_t,st)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Et.createElement=function(M,X,nt){var st,_t={},bt=null;if(X!=null)for(st in X.key!==void 0&&(bt=""+X.key),X)R.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=X[st]);var Lt=arguments.length-2;if(Lt===1)_t.children=nt;else if(1<Lt){for(var De=Array(Lt),se=0;se<Lt;se++)De[se]=arguments[se+2];_t.children=De}if(M&&M.defaultProps)for(st in Lt=M.defaultProps,Lt)_t[st]===void 0&&(_t[st]=Lt[st]);return C(M,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:y,render:M}},Et.isValidElement=I,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ot}},Et.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},Et.startTransition=function(M){var X=D.T,nt={};D.T=nt;try{var st=M(),_t=D.S;_t!==null&&_t(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(wt,zt)}catch(bt){zt(bt)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),D.T=X}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(M){return D.H.use(M)},Et.useActionState=function(M,X,nt){return D.H.useActionState(M,X,nt)},Et.useCallback=function(M,X){return D.H.useCallback(M,X)},Et.useContext=function(M){return D.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,X){return D.H.useDeferredValue(M,X)},Et.useEffect=function(M,X){return D.H.useEffect(M,X)},Et.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(M,X,nt){return D.H.useImperativeHandle(M,X,nt)},Et.useInsertionEffect=function(M,X){return D.H.useInsertionEffect(M,X)},Et.useLayoutEffect=function(M,X){return D.H.useLayoutEffect(M,X)},Et.useMemo=function(M,X){return D.H.useMemo(M,X)},Et.useOptimistic=function(M,X){return D.H.useOptimistic(M,X)},Et.useReducer=function(M,X,nt){return D.H.useReducer(M,X,nt)},Et.useRef=function(M){return D.H.useRef(M)},Et.useState=function(M){return D.H.useState(M)},Et.useSyncExternalStore=function(M,X,nt){return D.H.useSyncExternalStore(M,X,nt)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.1",Et}var Vy;function Ed(){return Vy||(Vy=1,Uf.exports=_T()),Uf.exports}var te=Ed();const J_=Z_(te);var Lf={exports:{}},Fl={},Bf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function vT(){return Ny||(Ny=1,(function(r){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var zt=ot-1>>>1,Pt=H[zt];if(0<o(Pt,et))H[zt]=et,H[ot]=Pt,ot=zt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var zt=0,Pt=H.length,M=Pt>>>1;zt<M;){var X=2*(zt+1)-1,nt=H[X],st=X+1,_t=H[st];if(0>o(nt,ot))st<Pt&&0>o(_t,nt)?(H[zt]=_t,H[st]=ot,zt=st):(H[zt]=nt,H[X]=ot,zt=X);else if(st<Pt&&0>o(_t,ot))H[zt]=_t,H[st]=ot,zt=st;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,S=null,N=3,P=!1,J=!1,W=!1,$=!1,dt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function ct(H){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Ct(H){if(W=!1,ct(H),!J)if(i(v)!==null)J=!0,wt||(wt=!0,V());else{var et=i(_);et!==null&&Dt(Ct,et.startTime-H)}}var wt=!1,D=-1,R=5,C=-1;function O(){return $?!0:!(r.unstable_now()-C<R)}function I(){if($=!1,wt){var H=r.unstable_now();C=H;var et=!0;try{t:{J=!1,W&&(W=!1,mt(D),D=-1),P=!0;var ot=N;try{e:{for(ct(H),S=i(v);S!==null&&!(S.expirationTime>H&&O());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,N=S.priorityLevel;var Pt=zt(S.expirationTime<=H);if(H=r.unstable_now(),typeof Pt=="function"){S.callback=Pt,ct(H),et=!0;break e}S===i(v)&&s(v),ct(H)}else s(v);S=i(v)}if(S!==null)et=!0;else{var M=i(_);M!==null&&Dt(Ct,M.startTime-H),et=!1}}break t}finally{S=null,N=ot,P=!1}et=void 0}}finally{et?V():wt=!1}}}var V;if(typeof ut=="function")V=function(){ut(I)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,yt=b.port2;b.port1.onmessage=I,V=function(){yt.postMessage(null)}}else V=function(){dt(I,0)};function Dt(H,et){D=dt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(H){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ot=N;N=et;try{return H()}finally{N=ot}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=N;N=H;try{return et()}finally{N=ot}},r.unstable_scheduleCallback=function(H,et,ot){var zt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ot+Pt,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:Pt,sortIndex:-1},ot>zt?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(W?(mt(D),D=-1):W=!0,Dt(Ct,ot-zt))):(H.sortIndex=Pt,e(v,H),J||P||(J=!0,wt||(wt=!0,V()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var et=N;return function(){var ot=N;N=et;try{return H.apply(this,arguments)}finally{N=ot}}}})(jf)),jf}var Iy;function ET(){return Iy||(Iy=1,Bf.exports=vT()),Bf.exports}var qf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function TT(){if(xy)return Fe;xy=1;var r=Ed();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Fe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:P}):A==="script"&&s.d.X(v,{crossOrigin:S,integrity:N,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Fe.requestFormReset=function(v){s.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.1",Fe}var My;function AT(){if(My)return qf.exports;My=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qf.exports=TT(),qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function ST(){if(Oy)return Fl;Oy=1;var r=ET(),e=Ed(),i=AT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case dt:return"Profiler";case $:return"StrictMode";case Ct:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ut:return t.displayName||"Context";case mt:return(t._context.displayName||"Context")+".Consumer";case ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:yt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return yt(t(n))}catch{}}return null}var Dt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],Pt=-1;function M(t){return{current:t}}function X(t){0>Pt||(t.current=zt[Pt],zt[Pt]=null,Pt--)}function nt(t,n){Pt++,zt[Pt]=t.current,t.current=n}var st=M(null),_t=M(null),bt=M(null),Lt=M(null);function De(t,n){switch(nt(bt,n),nt(_t,t),nt(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Kp(n),t=Zp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(st),nt(st,t)}function se(){X(st),X(_t),X(bt)}function ka(t){t.memoizedState!==null&&nt(Lt,t);var n=st.current,a=Zp(n,t.type);n!==a&&(nt(_t,t),nt(st,a))}function Ds(t){_t.current===t&&(X(st),X(_t)),Lt.current===t&&(X(Lt),kl._currentValue=ot)}var Vs,Ns;function Kn(t){if(Vs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Vs=n&&n[1]||"",Ns=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vs+t+Ns}var kr=!1;function Pa(t,n){if(!t||kr)return"";kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var j=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){j=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){j=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&j&&typeof k.stack=="string")return[k.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{kr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kn(a):""}function Pr(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return Kn("Activity");default:return""}}function Hr(t){try{var n="",a=null;do n+=Pr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Yi=r.unstable_cancelCallback,Uc=r.unstable_shouldYield,yo=r.unstable_requestPaint,Ze=r.unstable_now,Ha=r.unstable_getCurrentPriorityLevel,Gr=r.unstable_ImmediatePriority,Qr=r.unstable_UserBlockingPriority,Xi=r.unstable_NormalPriority,Lc=r.unstable_LowPriority,_o=r.unstable_IdlePriority,vo=r.log,Eo=r.unstable_setDisableYieldValue,zn=null,Le=null;function Tn(t){if(typeof vo=="function"&&Eo(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(zn,t)}catch{}}var he=Math.clz32?Math.clz32:Ao,To=Math.log,Is=Math.LN2;function Ao(t){return t>>>=0,t===0?32:31-(To(t)/Is|0)|0}var Zn=256,Ga=262144,ye=4194304;function Jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $n(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Jn(l):(g&=E,g!==0?c=Jn(g):a||(a=E&~t,a!==0&&(c=Jn(a))))):(E=l&~f,E!==0?c=Jn(E):g!==0?c=Jn(g):a||(a=l&~t,a!==0&&(c=Jn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Wn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-he(a),Y=1<<G;E[G]=0,w[G]=-1;var j=B[G];if(j!==null)for(B[G]=null,G=0;G<j.length;G++){var k=j[G];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&Fa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Fa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Yr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ya(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:vy(t.type))}function Ln(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,xe="__reactProps$"+Bn,ti="__reactContainer$"+Bn,xs="__reactEvents$"+Bn,qc="__reactListeners$"+Bn,Ro="__reactHandles$"+Bn,wo="__reactResources$"+Bn,ei="__reactMarker$"+Bn;function Ms(t){delete t[_e],delete t[xe],delete t[xs],delete t[qc],delete t[Ro]}function ni(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ti]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=iy(t);t!==null;){if(a=t[_e])return a;t=iy(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[_e]||t[ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ii(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ei]=!0}var Xr=new Set,Kr={};function ai(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(Kr[t]=n,t=0;t<n.length;t++)Xr.add(n[t])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},$r={};function Co(t){return pe.call($r,t)?!0:pe.call(Jr,t)?!1:Zr.test(t)?$r[t]=!0:(Jr[t]=!0,!1)}function Os(t,n,a){if(Co(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=Wr(t,n,""+t[n])}}function Xa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function We(t){return t.replace(Ka,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zs(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?tl(t,g,Me(n)):a!=null?tl(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Do(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function tl(t,n,a){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Zi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Vo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Ji(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||No.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function nl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&el(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&el(t,f,n[f])}function Us(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(t){return $i.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var il=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,li=null;function Za(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(zs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[xe]||null;if(!c)throw Error(s(90));zs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Xa(l)}break t;case"textarea":Vo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zi(t,!!a.multiple,n,!1)}}}var Bs=!1;function ta(t,n,a){if(Bs)return t(n,a);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(Wi!==null||li!==null)&&(bu(),Wi&&(n=Wi,t=li,li=Wi=null,Za(n),t)))for(n=0;n<t.length;n++)Za(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Ja=!1}var oi=null,al=null,$a=null;function sl(){if($a)return $a;var t,n=al,a=n.length,l,c="value"in oi?oi.value:oi.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return $a=c.slice(t,1<l?1-l:void 0)}function Wa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function kn(){return!1}function Be(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:kn,this.isPropagationStopped=kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Be(Ci),ea=S({},Ci,{view:0,detail:0}),rl=Be(ea),na,js,ci,qs=S({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(na=t.screenX-ci.screenX,js=t.screenY-ci.screenY):js=na=0,ci=t),na)},movementY:function(t){return"movementY"in t?t.movementY:js}}),ll=Be(qs),ts=S({},qs,{dataTransfer:0}),xo=Be(ts),Mo=S({},ea,{relatedTarget:0}),es=Be(Mo),ol=S({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=Be(ol),ks=S({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zo=Be(ks),Uo=S({},Ci,{data:0}),hi=Be(Uo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jo[t])?!!n[t]:!1}function ia(){return qo}var Je=S({},ea,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ko=Be(Je),Po=S({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Be(Po),u=S({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),m=Be(u),p=S({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),U=S({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),tt=S({},Ci,{newState:0,oldState:0}),At=Be(tt),fe=[9,13,27,32],Ht=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var Rn=bn&&"TextEvent"in window&&!re,fi=bn&&(!Ht||re&&8<re&&11>=re),Pn=" ",Hn=!1;function ns(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ps(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function q0(t,n){switch(t){case"compositionend":return Ps(n);case"keypress":return n.which!==32?null:(Hn=!0,Pn);case"textInput":return t=n.data,t===Pn&&Hn?null:t;default:return null}}function k0(t,n){if(Hs)return t==="compositionend"||!Ht&&ns(t,n)?(t=sl(),$a=al=oi=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fi&&n.locale!=="ko"?null:n.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!P0[t.type]:n==="textarea"}function lm(t,n,a,l){Wi?li?li.push(l):li=[l]:Wi=l,n=Iu(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ul=null,cl=null;function H0(t){Hp(t,0)}function Ho(t){var n=cn(t);if(Xa(n))return t}function om(t,n){if(t==="change")return n}var um=!1;if(bn){var kc;if(bn){var Pc="oninput"in document;if(!Pc){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Pc=typeof cm.oninput=="function"}kc=Pc}else kc=!1;um=kc&&(!document.documentMode||9<document.documentMode)}function hm(){ul&&(ul.detachEvent("onpropertychange",fm),cl=ul=null)}function fm(t){if(t.propertyName==="value"&&Ho(cl)){var n=[];lm(n,cl,t,Sn(t)),ta(H0,n)}}function G0(t,n,a){t==="focusin"?(hm(),ul=n,cl=a,ul.attachEvent("onpropertychange",fm)):t==="focusout"&&hm()}function Q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(cl)}function F0(t,n){if(t==="click")return Ho(n)}function Y0(t,n){if(t==="input"||t==="change")return Ho(n)}function X0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:X0;function hl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pe.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,n){var a=dm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=dm(a)}}function gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function pm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ri(t.document)}return n}function Hc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var K0=bn&&"documentMode"in document&&11>=document.documentMode,Gs=null,Gc=null,fl=null,Qc=!1;function ym(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qc||Gs==null||Gs!==ri(l)||(l=Gs,"selectionStart"in l&&Hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Iu(Gc,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Gs)))}function is(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Qs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Fc={},_m={};bn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function as(t){if(Fc[t])return Fc[t];if(!Qs[t])return t;var n=Qs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in _m)return Fc[t]=n[a];return t}var vm=as("animationend"),Em=as("animationiteration"),Tm=as("animationstart"),Z0=as("transitionrun"),J0=as("transitionstart"),$0=as("transitioncancel"),Am=as("transitionend"),Sm=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function Gn(t,n){Sm.set(t,n),ai(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],Fs=0,Xc=0;function Qo(){for(var t=Fs,n=Xc=Fs=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&bm(a,c,f)}}function Fo(t,n,a,l){wn[Fs++]=t,wn[Fs++]=n,wn[Fs++]=a,wn[Fs++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,a,l){return Fo(t,n,a,l),Yo(t)}function ss(t,n){return Fo(t,null,null,n),Yo(t)}function bm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Yo(t){if(50<Ol)throw Ol=0,sf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ys={};function W0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new W0(t,n,a,l)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Zc(t)&&(g=1);else if(typeof t=="string")g=aT(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=dn(31,a,n,c),t.elementType=C,t.lanes=f,t;case W:return rs(a.children,c,f,n);case $:g=8,c|=24;break;case dt:return t=dn(12,a,n,c|2),t.elementType=dt,t.lanes=f,t;case Ct:return t=dn(13,a,n,c),t.elementType=Ct,t.lanes=f,t;case wt:return t=dn(19,a,n,c),t.elementType=wt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:g=10;break t;case mt:g=9;break t;case ct:g=11;break t;case D:g=14;break t;case R:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function rs(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function Jc(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function wm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function $c(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Cm=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=Cm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Hr(n)},Cm.set(t,n),n)}return{value:t,source:n,stack:Hr(n)}}var Xs=[],Ks=0,Ko=null,dl=0,Dn=[],Vn=0,aa=null,di=1,mi="";function Ni(t,n){Xs[Ks++]=dl,Xs[Ks++]=Ko,Ko=t,dl=n}function Dm(t,n,a){Dn[Vn++]=di,Dn[Vn++]=mi,Dn[Vn++]=aa,aa=t;var l=di;t=mi;var c=32-he(l)-1;l&=~(1<<c),a+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,di=1<<32-he(n)+c|a<<c|l,mi=f+t}else di=1<<f|a<<c|l,mi=t}function Wc(t){t.return!==null&&(Ni(t,1),Dm(t,1,0))}function th(t){for(;t===Ko;)Ko=Xs[--Ks],Xs[Ks]=null,dl=Xs[--Ks],Xs[Ks]=null;for(;t===aa;)aa=Dn[--Vn],Dn[Vn]=null,mi=Dn[--Vn],Dn[Vn]=null,di=Dn[--Vn],Dn[Vn]=null}function Vm(t,n){Dn[Vn++]=di,Dn[Vn++]=mi,Dn[Vn++]=aa,di=n.id,mi=n.overflow,aa=t}var je=null,ne=null,Ut=!1,sa=null,Nn=!1,eh=Error(s(519));function ra(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Cn(n,t)),eh}function Nm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[xe]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Nt(Ul[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Do(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Ji(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Yp(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ra(t,!0)}function Im(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:je=je.return}}function Zs(t){if(t!==je)return!1;if(!Ut)return Im(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ef(t.type,t.memoizedProps)),a=!a),a&&ne&&ra(t),Im(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=ny(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=ny(t)}else n===27?(n=ne,Ea(t.type)?(t=Rf,Rf=null,ne=t):ne=n):ne=je?xn(t.stateNode.nextSibling):null;return!0}function ls(){ne=je=null,Ut=!1}function nh(){var t=sa;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),sa=null),t}function ml(t){sa===null?sa=[t]:sa.push(t)}var ih=M(null),os=null,Ii=null;function la(t,n,a){nt(ih,n._currentValue),n._currentValue=a}function xi(t){t._currentValue=ih.current,X(ih)}function ah(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function sh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ah(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ah(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Js(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}c=c.return}t!==null&&sh(n,t,a,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function us(t){os=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return xm(os,t)}function Jo(t,n){return os===null&&us(t),xm(t,n)}function xm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(t===null)throw Error(s(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return a}var tE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},eE=r.unstable_scheduleCallback,nE=r.unstable_NormalPriority,Te={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new tE,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&eE(nE,function(){t.controller.abort()})}var pl=null,lh=0,$s=0,Ws=null;function iE(t,n){if(pl===null){var a=pl=[];lh=0,$s=hf(),Ws={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lh++,n.then(Mm,Mm),n}function Mm(){if(--lh===0&&pl!==null){Ws!==null&&(Ws.status="fulfilled");var t=pl;pl=null,$s=0,Ws=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function aE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Om=H.S;H.S=function(t,n){yp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&iE(t,n),Om!==null&&Om(t,n)};var cs=M(null);function oh(){var t=cs.current;return t!==null?t:Wt.pooledCache}function $o(t,n){n===null?nt(cs,cs.current):nt(cs,n.pool)}function zm(){var t=oh();return t===null?null:{parent:Te._currentValue,pool:t}}var tr=Error(s(460)),uh=Error(s(474)),Wo=Error(s(542)),tu={then:function(){}};function Um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw fs=n,tr}}function hs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fs=a,tr):a}}var fs=null;function Bm(){if(fs===null)throw Error(s(459));var t=fs;return fs=null,t}function jm(t){if(t===tr||t===Wo)throw Error(s(483))}var er=null,yl=0;function eu(t){var n=yl;return yl+=1,er===null&&(er=[]),Lm(er,t,n)}function _l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qm(t){function n(z,x){if(t){var L=z.deletions;L===null?(z.deletions=[x],z.flags|=16):L.push(x)}}function a(z,x){if(!t)return null;for(;x!==null;)n(z,x),x=x.sibling;return null}function l(z){for(var x=new Map;z!==null;)z.key!==null?x.set(z.key,z):x.set(z.index,z),z=z.sibling;return x}function c(z,x){return z=Vi(z,x),z.index=0,z.sibling=null,z}function f(z,x,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<x?(z.flags|=67108866,x):L):(z.flags|=67108866,x)):(z.flags|=1048576,x)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,x,L,Q){return x===null||x.tag!==6?(x=Jc(L,z.mode,Q),x.return=z,x):(x=c(x,L),x.return=z,x)}function w(z,x,L,Q){var ht=L.type;return ht===W?G(z,x,L.props.children,Q,L.key):x!==null&&(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&hs(ht)===x.type)?(x=c(x,L.props),_l(x,L),x.return=z,x):(x=Xo(L.type,L.key,L.props,null,z.mode,Q),_l(x,L),x.return=z,x)}function B(z,x,L,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=$c(L,z.mode,Q),x.return=z,x):(x=c(x,L.children||[]),x.return=z,x)}function G(z,x,L,Q,ht){return x===null||x.tag!==7?(x=rs(L,z.mode,Q,ht),x.return=z,x):(x=c(x,L),x.return=z,x)}function Y(z,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Jc(""+x,z.mode,L),x.return=z,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case P:return L=Xo(x.type,x.key,x.props,null,z.mode,L),_l(L,x),L.return=z,L;case J:return x=$c(x,z.mode,L),x.return=z,x;case R:return x=hs(x),Y(z,x,L)}if(Dt(x)||V(x))return x=rs(x,z.mode,L,null),x.return=z,x;if(typeof x.then=="function")return Y(z,eu(x),L);if(x.$$typeof===ut)return Y(z,Jo(z,x),L);nu(z,x)}return null}function j(z,x,L,Q){var ht=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(z,x,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===ht?w(z,x,L,Q):null;case J:return L.key===ht?B(z,x,L,Q):null;case R:return L=hs(L),j(z,x,L,Q)}if(Dt(L)||V(L))return ht!==null?null:G(z,x,L,Q,null);if(typeof L.then=="function")return j(z,x,eu(L),Q);if(L.$$typeof===ut)return j(z,x,Jo(z,L),Q);nu(z,L)}return null}function k(z,x,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(L)||null,E(x,z,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return z=z.get(Q.key===null?L:Q.key)||null,w(x,z,Q,ht);case J:return z=z.get(Q.key===null?L:Q.key)||null,B(x,z,Q,ht);case R:return Q=hs(Q),k(z,x,L,Q,ht)}if(Dt(Q)||V(Q))return z=z.get(L)||null,G(x,z,Q,ht,null);if(typeof Q.then=="function")return k(z,x,L,eu(Q),ht);if(Q.$$typeof===ut)return k(z,x,L,Jo(x,Q),ht);nu(x,Q)}return null}function rt(z,x,L,Q){for(var ht=null,qt=null,lt=x,Rt=x=0,xt=null;lt!==null&&Rt<L.length;Rt++){lt.index>Rt?(xt=lt,lt=null):xt=lt.sibling;var kt=j(z,lt,L[Rt],Q);if(kt===null){lt===null&&(lt=xt);break}t&&lt&&kt.alternate===null&&n(z,lt),x=f(kt,x,Rt),qt===null?ht=kt:qt.sibling=kt,qt=kt,lt=xt}if(Rt===L.length)return a(z,lt),Ut&&Ni(z,Rt),ht;if(lt===null){for(;Rt<L.length;Rt++)lt=Y(z,L[Rt],Q),lt!==null&&(x=f(lt,x,Rt),qt===null?ht=lt:qt.sibling=lt,qt=lt);return Ut&&Ni(z,Rt),ht}for(lt=l(lt);Rt<L.length;Rt++)xt=k(lt,z,Rt,L[Rt],Q),xt!==null&&(t&&xt.alternate!==null&&lt.delete(xt.key===null?Rt:xt.key),x=f(xt,x,Rt),qt===null?ht=xt:qt.sibling=xt,qt=xt);return t&&lt.forEach(function(Ra){return n(z,Ra)}),Ut&&Ni(z,Rt),ht}function gt(z,x,L,Q){if(L==null)throw Error(s(151));for(var ht=null,qt=null,lt=x,Rt=x=0,xt=null,kt=L.next();lt!==null&&!kt.done;Rt++,kt=L.next()){lt.index>Rt?(xt=lt,lt=null):xt=lt.sibling;var Ra=j(z,lt,kt.value,Q);if(Ra===null){lt===null&&(lt=xt);break}t&&lt&&Ra.alternate===null&&n(z,lt),x=f(Ra,x,Rt),qt===null?ht=Ra:qt.sibling=Ra,qt=Ra,lt=xt}if(kt.done)return a(z,lt),Ut&&Ni(z,Rt),ht;if(lt===null){for(;!kt.done;Rt++,kt=L.next())kt=Y(z,kt.value,Q),kt!==null&&(x=f(kt,x,Rt),qt===null?ht=kt:qt.sibling=kt,qt=kt);return Ut&&Ni(z,Rt),ht}for(lt=l(lt);!kt.done;Rt++,kt=L.next())kt=k(lt,z,Rt,kt.value,Q),kt!==null&&(t&&kt.alternate!==null&&lt.delete(kt.key===null?Rt:kt.key),x=f(kt,x,Rt),qt===null?ht=kt:qt.sibling=kt,qt=kt);return t&&lt.forEach(function(gT){return n(z,gT)}),Ut&&Ni(z,Rt),ht}function $t(z,x,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var ht=L.key;x!==null;){if(x.key===ht){if(ht=L.type,ht===W){if(x.tag===7){a(z,x.sibling),Q=c(x,L.props.children),Q.return=z,z=Q;break t}}else if(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&hs(ht)===x.type){a(z,x.sibling),Q=c(x,L.props),_l(Q,L),Q.return=z,z=Q;break t}a(z,x);break}else n(z,x);x=x.sibling}L.type===W?(Q=rs(L.props.children,z.mode,Q,L.key),Q.return=z,z=Q):(Q=Xo(L.type,L.key,L.props,null,z.mode,Q),_l(Q,L),Q.return=z,z=Q)}return g(z);case J:t:{for(ht=L.key;x!==null;){if(x.key===ht)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(z,x.sibling),Q=c(x,L.children||[]),Q.return=z,z=Q;break t}else{a(z,x);break}else n(z,x);x=x.sibling}Q=$c(L,z.mode,Q),Q.return=z,z=Q}return g(z);case R:return L=hs(L),$t(z,x,L,Q)}if(Dt(L))return rt(z,x,L,Q);if(V(L)){if(ht=V(L),typeof ht!="function")throw Error(s(150));return L=ht.call(L),gt(z,x,L,Q)}if(typeof L.then=="function")return $t(z,x,eu(L),Q);if(L.$$typeof===ut)return $t(z,x,Jo(z,L),Q);nu(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(z,x.sibling),Q=c(x,L),Q.return=z,z=Q):(a(z,x),Q=Jc(L,z.mode,Q),Q.return=z,z=Q),g(z)):a(z,x)}return function(z,x,L,Q){try{yl=0;var ht=$t(z,x,L,Q);return er=null,ht}catch(lt){if(lt===tr||lt===Wo)throw lt;var qt=dn(29,lt,null,z.mode);return qt.lanes=Q,qt.return=z,qt}finally{}}}var ds=qm(!0),km=qm(!1),oa=!1;function ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),bm(t,null,a),n}return Fo(t,l,n,a),Yo(t)}function vl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fr(t,a)}}function fh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var dh=!1;function El(){if(dh){var t=Ws;if(t!==null)throw t}}function Tl(t,n,a,l){dh=!1;var c=t.updateQueue;oa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?f=B:g.next=B,g=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=w))}if(f!==null){var Y=c.baseState;g=0,G=B=w=null,E=f;do{var j=E.lane&-536870913,k=j!==E.lane;if(k?(It&j)===j:(l&j)===j){j!==0&&j===$s&&(dh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,gt=E;j=n;var $t=a;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){Y=rt.call($t,Y,j);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,j=typeof rt=="function"?rt.call($t,Y,j):rt,j==null)break t;Y=S({},Y,j);break t;case 2:oa=!0}}j=E.callback,j!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[j]:k.push(j))}else k={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=k,w=Y):G=G.next=k,g|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(w=Y),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ga|=g,t.lanes=g,t.memoizedState=Y}}function Pm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Hm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pm(a[t],n)}var nr=M(null),iu=M(0);function Gm(t,n){t=ki,nt(iu,t),nt(nr,n),ki=t|n.baseLanes}function mh(){nt(iu,ki),nt(nr,nr.current)}function gh(){ki=iu.current,X(nr),X(iu)}var mn=M(null),In=null;function ha(t){var n=t.alternate;nt(de,de.current&1),nt(mn,t),In===null&&(n===null||nr.current!==null||n.memoizedState!==null)&&(In=t)}function ph(t){nt(de,de.current),nt(mn,t),In===null&&(In=t)}function Qm(t){t.tag===22?(nt(de,de.current),nt(mn,t),In===null&&(In=t)):fa()}function fa(){nt(de,de.current),nt(mn,mn.current)}function gn(t){X(mn),In===t&&(In=null),X(de)}var de=M(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sf(a)||bf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mi=0,St=null,Zt=null,Ae=null,su=!1,ir=!1,ms=!1,ru=0,Al=0,ar=null,sE=0;function ue(){throw Error(s(321))}function yh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function _h(t,n,a,l,c,f){return Mi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Dg:Mh,ms=!1,f=a(l,c),ms=!1,ir&&(f=Ym(n,a,l,c)),Fm(t),f}function Fm(t){H.H=Rl;var n=Zt!==null&&Zt.next!==null;if(Mi=0,Ae=Zt=St=null,su=!1,Al=0,ar=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&Zo(t)&&(Se=!0))}function Ym(t,n,a,l){St=t;var c=0;do{if(ir&&(ar=null),Al=0,ir=!1,25<=c)throw Error(s(301));if(c+=1,Ae=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Vg,f=n(a,l)}while(ir);return f}function rE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Sl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(St.flags|=1024),n}function vh(){var t=ru!==0;return ru=0,t}function Eh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Th(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}Mi=0,Ae=Zt=St=null,ir=!1,Al=ru=0,ar=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Zt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var n=Al;return Al+=1,ar===null&&(ar=[]),t=Lm(ar,t,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dg:Mh),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===ut)return qe(t)}throw Error(s(438,String(t)))}function Ah(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=me();return Sh(n,Zt,t)}function Sh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,B=n,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(It&Y)===Y:(Mi&Y)===Y){var j=B.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===$s&&(G=!0);else if((Mi&j)===j){B=B.next,j===$s&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=Y,g=f):w=w.next=Y,St.lanes|=j,ga|=j;Y=B.action,ms&&a(f,Y),f=B.hasEagerState?B.eagerState:a(f,Y)}else j={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=j,g=f):w=w.next=j,St.lanes|=Y,ga|=Y;B=B.next}while(B!==null&&B!==n);if(w===null?g=f:w.next=E,!fn(f,t.memoizedState)&&(Se=!0,G&&(a=Ws,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Xm(t,n,a){var l=St,c=me(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!fn((Zt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,Ch(Jm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,sr(9,{destroy:void 0},Zm.bind(null,l,c,a,n),null),Wt===null)throw Error(s(349));f||(Mi&127)!==0||Km(l,n,a)}return a}function Km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=lu(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Zm(t,n,a,l){n.value=a,n.getSnapshot=l,$m(n)&&Wm(t)}function Jm(t,n,a){return a(function(){$m(n)&&Wm(t)})}function $m(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function Wm(t){var n=ss(t,2);n!==null&&rn(n,t,2)}function Rh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ms){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function tg(t,n,a,l){return t.baseState=a,Sh(t,Zt,typeof l=="function"?l:Oi)}function lE(t,n,a,l,c){if(fu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,eg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function eg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),w=H.S;w!==null&&w(g,E),ng(t,n,E)}catch(B){wh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),ng(t,n,f)}catch(B){wh(t,n,B)}}function ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ig(t,n,l)},function(l){return wh(t,n,l)}):ig(t,n,a)}function ig(t,n,a){n.status="fulfilled",n.value=a,ag(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,eg(t,a)))}function wh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function sg(t,n){return n}function rg(t,n){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=St;if(Ut){if(ne){e:{for(var c=ne,f=Nn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=xn(c.nextSibling),l=c.data==="F!";break t}}ra(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},a.queue=l,a=Rg.bind(null,St,l),l.dispatch=a,l=Rh(!1),f=xh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=lE.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function lg(t){var n=me();return og(n,Zt,t)}function og(t,n,a){if(n=Sh(t,n,sg)[0],t=uu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Sl(n)}catch(g){throw g===tr?Wo:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,sr(9,{destroy:void 0},oE.bind(null,c,a),null)),[l,f,t]}function oE(t,n){t.action=n}function ug(t){var n=me(),a=Zt;if(a!==null)return og(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function sr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=lu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function cg(){return me().memoizedState}function cu(t,n,a,l){var c=$e();St.flags|=t,c.memoizedState=sr(1|n,{destroy:void 0},a,l===void 0?null:l)}function hu(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&yh(l,Zt.memoizedState.deps)?c.memoizedState=sr(n,f,a,l):(St.flags|=t,c.memoizedState=sr(1|n,f,a,l))}function hg(t,n){cu(8390656,8,t,n)}function Ch(t,n){hu(2048,8,t,n)}function uE(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=lu(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function fg(t){var n=me().memoizedState;return uE({ref:n,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function dg(t,n){return hu(4,2,t,n)}function mg(t,n){return hu(4,4,t,n)}function gg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pg(t,n,a){a=a!=null?a.concat([t]):null,hu(4,4,gg.bind(null,n,t),a)}function Dh(){}function yg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function _g(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=t(),ms){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function Vh(t,n,a){return a===void 0||(Mi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=vp(),St.lanes|=t,ga|=t,a)}function vg(t,n,a,l){return fn(a,n)?a:nr.current!==null?(t=Vh(t,a,l),fn(t,n)||(Se=!0),t):(Mi&42)===0||(Mi&1073741824)!==0&&(It&261930)===0?(Se=!0,t.memoizedState=a):(t=vp(),St.lanes|=t,ga|=t,n)}function Eg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,xh(t,!1,n,a);try{var w=c(),B=H.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=aE(w,l);bl(t,n,G,_n(t))}else bl(t,n,l,_n(t))}catch(Y){bl(t,n,{then:function(){},status:"rejected",reason:Y},_n())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function cE(){}function Nh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Tg(t).queue;Eg(t,c,n,ot,a===null?cE:function(){return Ag(t),a(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ag(t){var n=Tg(t);n.next===null&&(n=t.alternate.memoizedState),bl(t,n.next.queue,{},_n())}function Ih(){return qe(kl)}function Sg(){return me().memoizedState}function bg(){return me().memoizedState}function hE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ua(a);var l=ca(n,t,a);l!==null&&(rn(l,n,a),vl(l,n,a)),n={cache:rh()},t.payload=n;return}n=n.return}}function fE(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fu(t)?wg(n,a):(a=Kc(t,n,a,l),a!==null&&(rn(a,t,l),Cg(a,n,l)))}function Rg(t,n,a){var l=_n();bl(t,n,a,l)}function bl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(t))wg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Fo(t,n,c,0),Wt===null&&Qo(),!1}catch{}finally{}if(a=Kc(t,n,c,l),a!==null)return rn(a,t,l),Cg(a,n,l),!0}return!1}function xh(t,n,a,l){if(l={lane:2,revertLane:hf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(n)throw Error(s(479))}else n=Kc(t,a,l,2),n!==null&&rn(n,t,2)}function fu(t){var n=t.alternate;return t===St||n!==null&&n===St}function wg(t,n){ir=su=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Cg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fr(t,a)}}var Rl={readContext:qe,use:ou,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Rl.useEffectEvent=ue;var Dg={readContext:qe,use:ou,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:hg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,cu(4194308,4,gg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ms){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ms){Tn(!0);try{a(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=fE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Rh(t);var n=t.queue,a=Rg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Dh,useDeferredValue:function(t,n){var a=$e();return Vh(a,t,n)},useTransition:function(){var t=Rh(!1);return t=Eg.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=$e();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(It&127)!==0||Km(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,hg(Jm.bind(null,l,f,t),[t]),l.flags|=2048,sr(9,{destroy:void 0},Zm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Wt.identifierPrefix;if(Ut){var a=mi,l=di;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ru++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=sE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:rg,useActionState:rg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return $e().memoizedState=hE.bind(null,St)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Mh={readContext:qe,use:ou,useCallback:yg,useContext:qe,useEffect:Ch,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:uu,useRef:cg,useState:function(){return uu(Oi)},useDebugValue:Dh,useDeferredValue:function(t,n){var a=me();return vg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=uu(Oi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:Xm,useId:Sg,useHostTransitionStatus:Ih,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var a=me();return tg(a,Zt,t,n)},useMemoCache:Ah,useCacheRefresh:bg};Mh.useEffectEvent=fg;var Vg={readContext:qe,use:ou,useCallback:yg,useContext:qe,useEffect:Ch,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:bh,useRef:cg,useState:function(){return bh(Oi)},useDebugValue:Dh,useDeferredValue:function(t,n){var a=me();return Zt===null?Vh(a,t,n):vg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=bh(Oi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:Xm,useId:Sg,useHostTransitionStatus:Ih,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var a=me();return Zt!==null?tg(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:bg};Vg.useEffectEvent=fg;function Oh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(rn(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(rn(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=ca(t,l,a),n!==null&&(rn(n,t,a),vl(n,t,a))}};function Ng(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!hl(a,l)||!hl(c,f):!0}function Ig(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&zh.enqueueReplaceState(n,n.state,null)}function gs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function xg(t){Go(t)}function Mg(t){console.error(t)}function Og(t){Go(t)}function du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,n)},a}function Ug(t){return t=ua(t),t.tag=3,t}function Lg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){zg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){zg(n,a,l),typeof c!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function dE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Js(n,a,c,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return In===null?Ru():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),of(t,l,c)),!1}throw Error(s(435,a.tag))}return of(t,l,c),Ru(),!1}if(Ut)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==eh&&(t=Error(s(422),{cause:l}),ml(Cn(t,a)))):(l!==eh&&(n=Error(s(423),{cause:l}),ml(Cn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,a),c=Uh(t.stateNode,l,c),fh(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=Cn(f,a),Ml===null?Ml=[f]:Ml.push(f),ce!==4&&(ce=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Uh(a.stateNode,l,t),fh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pa===null||!pa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ug(c),Lg(c,t,a,l),fh(a,c),!1}a=a.return}while(a!==null);return!1}var Lh=Error(s(461)),Se=!1;function ke(t,n,a,l){n.child=t===null?km(n,null,a,l):ds(n,t.child,a,l)}function Bg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return us(n),l=_h(t,n,a,g,f,c),E=vh(),t!==null&&!Se?(Eh(t,n,c),zi(t,n,c)):(Ut&&E&&Wc(n),n.flags|=1,ke(t,n,l,c),n.child)}function jg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Zc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,qg(t,n,f,l,c)):(t=Xo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(g,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function qg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(hl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Qh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,zi(t,n,c)}return Bh(t,n,a,l,c)}function kg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Pg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,f!==null?f.cachePool:null),f!==null?Gm(n,f):mh(),Qm(n);else return l=n.lanes=536870912,Pg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?($o(n,f.cachePool),Gm(n,f),fa(),n.memoizedState=null):(t!==null&&$o(n,null),mh(),fa());return ke(t,n,c,a),n.child}function wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pg(t,n,a,l,c){var f=oh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&$o(n,null),mh(),Qm(n),t!==null&&Js(t,n,l,!0),n.childLanes=c,null}function mu(t,n){return n=pu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Hg(t,n,a){return ds(n,t.child,null,a),t=mu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function mE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=mu(n,l),n.lanes=536870912,wl(null,t);if(ph(n),(t=ne)?(t=ey(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,je=n,ne=null)):t=null,t===null)throw ra(n);return n.lanes=536870912,null}return mu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ph(n),c)if(n.flags&256)n.flags&=-257,n=Hg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||Js(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Wt,l!==null&&(g=Yr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ss(t,g),rn(l,t,g),Lh;Ru(),n=Hg(t,n,a)}else t=f.treeContext,ne=xn(g.nextSibling),je=n,Ut=!0,sa=null,Nn=!1,t!==null&&Vm(n,t),n=mu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function gu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bh(t,n,a,l,c){return us(n),a=_h(t,n,a,l,void 0,c),l=vh(),t!==null&&!Se?(Eh(t,n,c),zi(t,n,c)):(Ut&&l&&Wc(n),n.flags|=1,ke(t,n,a,c),n.child)}function Gg(t,n,a,l,c,f){return us(n),n.updateQueue=null,a=Ym(n,l,a,c),Fm(t),l=vh(),t!==null&&!Se?(Eh(t,n,f),zi(t,n,f)):(Ut&&l&&Wc(n),n.flags|=1,ke(t,n,a,f),n.child)}function Qg(t,n,a,l,c){if(us(n),n.stateNode===null){var f=Ys,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ch(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Ys,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Oh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zh.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=gs(a,E);f.props=w;var B=f.context,G=a.contextType;g=Ys,typeof G=="object"&&G!==null&&(g=qe(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Ig(n,f,l,g),oa=!1;var j=n.memoizedState;f.state=j,Tl(n,l,f,c),El(),B=n.memoizedState,E||j!==B||oa?(typeof Y=="function"&&(Oh(n,a,Y,l),B=n.memoizedState),(w=oa||Ng(n,a,w,l,j,B,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hh(t,n),g=n.memoizedProps,G=gs(a,g),f.props=G,Y=n.pendingProps,j=f.context,B=a.contextType,w=Ys,typeof B=="object"&&B!==null&&(w=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==w)&&Ig(n,f,l,w),oa=!1,j=n.memoizedState,f.state=j,Tl(n,l,f,c),El();var k=n.memoizedState;g!==Y||j!==k||oa||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(Oh(n,a,E,l),k=n.memoizedState),(G=oa||Ng(n,a,G,l,j,k,w)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ds(n,t.child,null,c),n.child=ds(n,null,a,c)):ke(t,n,a,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function Fg(t,n,a,l){return ls(),n.flags|=256,ke(t,n,a,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:zm()}}function kh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function Yg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?ha(n):fa(),(t=ne)?(t=ey(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,je=n,ne=null)):t=null,t===null)throw ra(n);return bf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(fa(),c=n.mode,E=pu({mode:"hidden",children:E},c),l=rs(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=qh(a),l.childLanes=kh(t,g,a),n.memoizedState=jh,wl(null,l)):(ha(n),Ph(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ha(n),n.flags&=-257,n=Hh(t,n,a)):n.memoizedState!==null?(fa(),n.child=t.child,n.flags|=128,n=null):(fa(),E=l.fallback,c=n.mode,l=pu({mode:"visible",children:l.children},c),E=rs(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ds(n,t.child,null,a),l=n.child,l.memoizedState=qh(a),l.childLanes=kh(t,g,a),n.memoizedState=jh,n=wl(null,l));else if(ha(n),bf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,ml({value:l,source:null,stack:null}),n=Hh(t,n,a)}else if(Se||Js(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(l=Yr(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,ss(t,l),rn(g,t,l),Lh;Sf(E)||Ru(),n=Hh(t,n,a)}else Sf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,ne=xn(E.nextSibling),je=n,Ut=!0,sa=null,Nn=!1,t!==null&&Vm(n,t),n=Ph(n,l.children),n.flags|=4096);return n}return c?(fa(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=Vi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=Vi(B,E):(E=rs(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,wl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=qh(a):(c=E.cachePool,c!==null?(w=Te._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=zm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=kh(t,g,a),n.memoizedState=jh,wl(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Ph(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Hh(t,n,a){return ds(n,t.child,null,a),t=Ph(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Xg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ah(t.return,n,a)}function Gh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Kg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),ke(t,n,l,a),l=Ut?dl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,a,n);else if(t.tag===19)Xg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Gh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Gh(n,!0,a,null,f,l);break;case"together":Gh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ga|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Js(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Qh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function gE(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),la(n,Te,t.memoizedState.cache),ls();break;case 27:case 5:ka(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ph(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Yg(t,n,a):(ha(n),t=zi(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Js(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Kg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,kg(t,n,a,n.pendingProps);case 24:la(n,Te,t.memoizedState.cache)}return zi(t,n,a)}function Zg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Qh(t,a)&&(n.flags&128)===0)return Se=!1,gE(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ut&&(n.flags&1048576)!==0&&Dm(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=hs(n.elementType),n.type=t,typeof t=="function")Zc(t)?(l=gs(t,l),n.tag=1,n=Qg(null,n,t,l,a)):(n.tag=0,n=Bh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===ct){n.tag=11,n=Bg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=jg(null,n,t,l,a);break t}}throw n=yt(t)||t,Error(s(306,n,""))}}return n;case 0:return Bh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=gs(l,n.pendingProps),Qg(t,n,l,c,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,hh(t,n),Tl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,la(n,Te,l),l!==f.cache&&sh(n,[Te],a,!0),El(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fg(t,n,l,a);break t}else if(l!==c){c=Cn(Error(s(424)),n),ml(c),n=Fg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=xn(t.firstChild),je=n,Ut=!0,sa=null,Nn=!0,a=km(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ls(),l===c){n=zi(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return gu(t,n),t===null?(a=ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=xu(bt.current).createElement(a),l[_e]=n,l[xe]=t,Pe(l,a,t),ve(l),n.stateNode=l):n.memoizedState=ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ka(n),t===null&&Ut&&(l=n.stateNode=ay(n.type,n.pendingProps,bt.current),je=n,Nn=!0,c=ne,Ea(n.type)?(Rf=c,ne=xn(l.firstChild)):ne=c),ke(t,n,n.pendingProps.children,a),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ne)&&(l=QE(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,je=n,ne=xn(l.firstChild),Nn=!1,c=!0):c=!1),c||ra(n)),ka(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Ef(c,f)?l=null:g!==null&&Ef(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=_h(t,n,rE,null,null,a),kl._currentValue=c),gu(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ne)&&(a=FE(a,n.pendingProps,Nn),a!==null?(n.stateNode=a,je=n,ne=null,t=!0):t=!1),t||ra(n)),null;case 13:return Yg(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ds(n,null,l,a):ke(t,n,l,a),n.child;case 11:return Bg(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,us(n),c=qe(c),l=l(c),n.flags|=1,ke(t,n,l,a),n.child;case 14:return jg(t,n,n.type,n.pendingProps,a);case 15:return qg(t,n,n.type,n.pendingProps,a);case 19:return Kg(t,n,a);case 31:return mE(t,n,a);case 22:return kg(t,n,a,n.pendingProps);case 24:return us(n),l=qe(Te),t===null?(c=oh(),c===null&&(c=Wt,f=rh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ch(n),la(n,Te,c)):((t.lanes&a)!==0&&(hh(t,n),Tl(n,null,null,a),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),la(n,Te,l)):(l=f.cache,la(n,Te,l),l!==c.cache&&sh(n,[Te],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(t){t.flags|=4}function Fh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Sp())t.flags|=8192;else throw fs=tu,uh}else t.flags&=-16777217}function Jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fy(n))if(Sp())t.flags|=8192;else throw fs=tu,uh}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?So():536870912,t.lanes|=n,ur|=n)}function Cl(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function pE(t,n,a){var l=n.pendingProps;switch(th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xi(Te),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nh())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ui(n),f!==null?(ie(n),Jg(n,f)):(ie(n),Fh(n,c,null,l,a))):f?f!==t.memoizedState?(Ui(n),ie(n),Jg(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(n),ie(n),Fh(n,c,t,l,a)),null;case 27:if(Ds(n),a=bt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=st.current,Zs(n)?Nm(n):(t=ay(c,l,a),n.stateNode=t,Ui(n))}return ie(n),null;case 5:if(Ds(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=st.current,Zs(n))Nm(n);else{var g=xu(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[xe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Pe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ui(n)}}return ie(n),Fh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=bt.current,Zs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yp(t.nodeValue,a)),t||ra(n,!0)}else t=xu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Zs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[_e]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),yu(n,n.updateQueue),ie(n),null);case 4:return se(),t===null&&gf(n.stateNode.containerInfo),ie(n),null;case 10:return xi(n.type),ie(n),null;case 19:if(X(de),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Cl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Cl(l,!1),t=f.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Rm(a,t),a=a.sibling;return nt(de,de.current&1|2),Ut&&Ni(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Au&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304)}else{if(!c)if(t=au(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*Ze()-l.renderingStartTime>Au&&a!==536870912&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=de.current,nt(de,c?a&1|2:a&1),Ut&&Ni(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return gn(n),gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xi(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function yE(t,n){switch(th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xi(Te),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ds(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(de),null;case 4:return se(),null;case 10:return xi(n.type),null;case 22:case 23:return gn(n),gh(),t!==null&&X(cs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xi(Te),null;case 25:return null;default:return null}}function $g(t,n){switch(th(n),n.tag){case 3:xi(Te),se();break;case 26:case 27:case 5:Ds(n);break;case 4:se();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:X(de);break;case 10:xi(n.type);break;case 22:case 23:gn(n),gh(),t!==null&&X(cs);break;case 24:xi(Te)}}function Dl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(G){Xt(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Wg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Hm(n,a)}catch(l){Xt(t,t.return,l)}}}function tp(t,n,a){a.props=gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function gi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function ep(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Yh(t,n,a){try{var l=t.stateNode;jE(l,t.type,a,n),l[xe]=n}catch(c){Xt(t,t.return,c)}}function np(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ea(t.type)||t.tag===4}function Xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kh(t,n,a),t=t.sibling;t!==null;)Kh(t,n,a),t=t.sibling}function _u(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_u(t,n,a),t=t.sibling;t!==null;)_u(t,n,a),t=t.sibling}function ip(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[_e]=t,n[xe]=a}catch(f){Xt(t,t.return,f)}}var Li=!1,be=!1,Zh=!1,ap=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function _E(t,n){if(t=t.containerInfo,_f=ju,t=pm(t),Hc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,B=0,G=0,Y=t,j=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(w=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(k=Y.firstChild)!==null;)j=Y,Y=k;for(;;){if(Y===t)break e;if(j===a&&++B===c&&(E=g),j===f&&++G===l&&(w=g),(k=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=k}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(vf={focusedElem:t,selectionRange:a},ju=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=gs(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Xt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Af(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function sp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&Dl(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Xt(a,a.return,g)}else{var c=gs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(a,a.return,g)}}l&64&&Wg(a),l&512&&Vl(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Hm(t,n)}catch(g){Xt(a,a.return,g)}}break;case 27:n===null&&l&4&&ip(a);case 26:case 5:ji(t,a),n===null&&l&4&&ep(a),l&512&&Vl(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),l&4&&op(t,a);break;case 13:ji(t,a),l&4&&up(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=CE.bind(null,a),YE(t,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){n=n!==null&&n.memoizedState!==null||be,c=Li;var f=be;Li=l,(be=n)&&!f?qi(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Li=c,be=f}break;case 30:break;default:ji(t,a)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ms(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,en=!1;function Bi(t,n,a){for(a=a.child;a!==null;)lp(t,n,a),a=a.sibling}function lp(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:be||gi(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||gi(a,n);var l=le,c=en;Ea(a.type)&&(le=a.stateNode,en=!1),Bi(t,n,a),Bl(a.stateNode),le=l,en=c;break;case 5:be||gi(a,n);case 6:if(l=le,c=en,le=null,Bi(t,n,a),le=l,en=c,le!==null)if(en)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:le!==null&&(en?(t=le,Wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yr(t)):Wp(le,a.stateNode));break;case 4:l=le,c=en,le=a.stateNode.containerInfo,en=!0,Bi(t,n,a),le=l,en=c;break;case 0:case 11:case 14:case 15:da(2,a,n),be||da(4,a,n),Bi(t,n,a);break;case 1:be||(gi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&tp(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,Bi(t,n,a),be=l;break;default:Bi(t,n,a)}}function op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yr(t)}catch(a){Xt(n,n.return,a)}}}function up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yr(t)}catch(a){Xt(n,n.return,a)}}function vE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ap),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ap),n;default:throw Error(s(435,t.tag))}}function vu(t,n){var a=vE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=DE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ea(E.type)){le=E.stateNode,en=!1;break t}break;case 5:le=E.stateNode,en=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(le===null)throw Error(s(160));lp(f,g,c),le=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cp(n,t),n=n.sibling}var Qn=null;function cp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(da(3,t,t.return),Dl(3,t),da(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(be||a===null||gi(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Qn;if(nn(n,t),an(t),l&512&&(be||a===null||gi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ei]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[_e]=t,ve(f),l=f;break t;case"link":var g=cy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=cy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else hy(c,t.type,t.stateNode);else t.stateNode=uy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?hy(c,t.type,t.stateNode):uy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(be||a===null||gi(a,a.return)),a!==null&&l&4&&Yh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(be||a===null||gi(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(rt){Xt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Yh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Zh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Xt(t,t.return,rt)}}break;case 3:if(zu=null,c=Qn,Qn=Mu(n.containerInfo),nn(n,t),Qn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yr(n.containerInfo)}catch(rt){Xt(t,t.return,rt)}Zh&&(Zh=!1,hp(t));break;case 4:l=Qn,Qn=Mu(t.stateNode.containerInfo),nn(n,t),an(t),Qn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Li,G=be;if(Li=B||c,be=G||w,nn(n,t),be=G,Li=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Li||be||ps(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Xt(w,w.return,rt)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(rt){Xt(w,w.return,rt)}}}else if(n.tag===18){if(a===null){w=n;try{var k=w.stateNode;c?ty(k,!0):ty(w.stateNode,!1)}catch(rt){Xt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(np(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Xh(t);_u(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Xh(t);_u(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,B=Xh(t);Kh(t,B,w);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sp(t,n.alternate,n),n=n.sibling}function ps(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),ps(n);break;case 1:gi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&tp(n,n.return,a),ps(n);break;case 27:Bl(n.stateNode);case 26:case 5:gi(n,n.return),ps(n);break;case 22:n.memoizedState===null&&ps(n);break;case 30:ps(n);break;default:ps(n)}t=t.sibling}}function qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(c,f,a),Dl(4,f);break;case 1:if(qi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Pm(w[c],E)}catch(B){Xt(l,l.return,B)}}a&&g&64&&Wg(f),Vl(f,f.return);break;case 27:ip(f);case 26:case 5:qi(c,f,a),a&&l===null&&g&4&&ep(f),Vl(f,f.return);break;case 12:qi(c,f,a);break;case 31:qi(c,f,a),a&&g&4&&op(c,f);break;case 13:qi(c,f,a),a&&g&4&&up(c,f);break;case 22:f.memoizedState===null&&qi(c,f,a),Vl(f,f.return);break;case 30:break;default:qi(c,f,a)}n=n.sibling}}function Jh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function $h(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function Fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(t,n,a,l),n=n.sibling}function fp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,a,l),c&2048&&Dl(9,n);break;case 1:Fn(t,n,a,l);break;case 3:Fn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){Fn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Xt(n,n.return,w)}}else Fn(t,n,a,l);break;case 31:Fn(t,n,a,l);break;case 13:Fn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,a,l):Nl(t,n):f._visibility&2?Fn(t,n,a,l):(f._visibility|=2,rr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Jh(g,n);break;case 24:Fn(t,n,a,l),c&2048&&$h(n.alternate,n);break;default:Fn(t,n,a,l)}}function rr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:rr(f,g,E,w,c),Dl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?rr(f,g,E,w,c):Nl(f,g):(G._visibility|=2,rr(f,g,E,w,c)),c&&B&2048&&Jh(g.alternate,g);break;case 24:rr(f,g,E,w,c),c&&B&2048&&$h(g.alternate,g);break;default:rr(f,g,E,w,c)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Nl(a,l),c&2048&&Jh(l.alternate,l);break;case 24:Nl(a,l),c&2048&&$h(l.alternate,l);break;default:Nl(a,l)}n=n.sibling}}var Il=8192;function lr(t,n,a){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)dp(t,n,a),t=t.sibling}function dp(t,n,a){switch(t.tag){case 26:lr(t,n,a),t.flags&Il&&t.memoizedState!==null&&sT(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:lr(t,n,a);break;case 3:case 4:var l=Qn;Qn=Mu(t.stateNode.containerInfo),lr(t,n,a),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,lr(t,n,a),Il=l):lr(t,n,a));break;default:lr(t,n,a)}}function mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,pp(l,t)}mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&da(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):xl(t);break;default:xl(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,pp(l,t)}mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),Eu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function pp(t,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(rp(l),l===a){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var EE={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},TE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Vt=null,It=0,Yt=0,pn=null,ma=!1,or=!1,Wh=!1,ki=0,ce=0,ga=0,ys=0,tf=0,yn=0,ur=0,Ml=null,sn=null,ef=!1,Tu=0,yp=0,Au=1/0,Su=null,pa=null,Ne=0,ya=null,cr=null,Pi=0,nf=0,af=null,_p=null,Ol=0,sf=null;function _n(){return(Gt&2)!==0&&It!==0?It&-It:H.T!==null?hf():bo()}function vp(){if(yn===0)if((It&536870912)===0||Ut){var t=Ga;Ga<<=1,(Ga&3932160)===0&&(Ga=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function rn(t,n,a){(t===Wt&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(hr(t,0),_a(t,It,yn,!1)),Qa(t,a),((Gt&2)===0||t!==Wt)&&(t===Wt&&((Gt&2)===0&&(ys|=a),ce===4&&_a(t,It,yn,!1)),pi(t))}function Ep(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),c=l?bE(t,n):lf(t,n,!0),f=l;do{if(c===0){or&&!l&&_a(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!AE(a)){c=lf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Ml;var w=E.current.memoizedState.isDehydrated;if(w&&(hr(E,g).flags|=256),g=lf(E,g,!1),g!==2){if(Wh&&!w){E.errorRecoveryDisabledLanes|=f,ys|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){hr(t,0),_a(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,yn,!ma);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Tu+300-Ze(),10<c)){if(_a(l,n,yn,!ma),$n(l,0,!0)!==0)break t;Pi=n,l.timeoutHandle=Jp(Tp.bind(null,l,a,sn,Su,ef,n,yn,ys,ur,ma,f,"Throttled",-0,0),c);break t}Tp(l,a,sn,Su,ef,n,yn,ys,ur,ma,f,null,-0,0)}}break}while(!0);pi(t)}function Tp(t,n,a,l,c,f,g,E,w,B,G,Y,j,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},dp(n,f,Y);var rt=(f&62914560)===f?Tu-Ze():(f&4194048)===f?yp-Ze():0;if(rt=rT(Y,rt),rt!==null){Pi=f,t.cancelPendingCommit=rt(Vp.bind(null,t,n,f,a,l,c,g,E,w,G,Y,null,j,k)),_a(t,f,g,!B);return}}Vp(t,n,f,a,l,c,g,E,w)}function AE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(t,n,a,l){n&=~tf,n&=~ys,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Fa(t,a,n)}function bu(){return(Gt&6)===0?(zl(0),!1):!0}function rf(){if(Vt!==null){if(Yt===0)var t=Vt.return;else t=Vt,Ii=os=null,Th(t),er=null,yl=0,t=Vt;for(;t!==null;)$g(t.alternate,t),t=t.return;Vt=null}}function hr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pi=0,rf(),Wt=t,Vt=a=Vi(t.current,null),It=n,Yt=0,pn=null,ma=!1,or=Un(t,n),Wh=!1,ur=yn=tf=ys=ga=ce=0,sn=Ml=null,ef=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return ki=n,Qo(),a}function Ap(t,n){St=null,H.H=Rl,n===tr||n===Wo?(n=Bm(),Yt=3):n===uh?(n=Bm(),Yt=4):Yt=n===Lh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Vt===null&&(ce=1,du(t,Cn(n,t.current)))}function Sp(){var t=mn.current;return t===null?!0:(It&4194048)===It?In===null:(It&62914560)===It||(It&536870912)!==0?t===In:!1}function bp(){var t=H.H;return H.H=Rl,t===null?Rl:t}function Rp(){var t=H.A;return H.A=EE,t}function Ru(){ce=4,ma||(It&4194048)!==It&&mn.current!==null||(or=!0),(ga&134217727)===0&&(ys&134217727)===0||Wt===null||_a(Wt,It,yn,!1)}function lf(t,n,a){var l=Gt;Gt|=2;var c=bp(),f=Rp();(Wt!==t||It!==n)&&(Su=null,hr(t,n)),n=!1;var g=ce;t:do try{if(Yt!==0&&Vt!==null){var E=Vt,w=pn;switch(Yt){case 8:rf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var B=Yt;if(Yt=0,pn=null,fr(t,E,w,B),a&&or){g=0;break t}break;default:B=Yt,Yt=0,pn=null,fr(t,E,w,B)}}SE(),g=ce;break}catch(G){Ap(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ii=os=null,Gt=l,H.H=c,H.A=f,Vt===null&&(Wt=null,It=0,Qo()),g}function SE(){for(;Vt!==null;)wp(Vt)}function bE(t,n){var a=Gt;Gt|=2;var l=bp(),c=Rp();Wt!==t||It!==n?(Su=null,Au=Ze()+500,hr(t,n)):or=Un(t,n);t:do try{if(Yt!==0&&Vt!==null){n=Vt;var f=pn;e:switch(Yt){case 1:Yt=0,pn=null,fr(t,n,f,1);break;case 2:case 9:if(Um(f)){Yt=0,pn=null,Cp(n);break}n=function(){Yt!==2&&Yt!==9||Wt!==t||(Yt=7),pi(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Um(f)?(Yt=0,pn=null,Cp(n)):(Yt=0,pn=null,fr(t,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?fy(g):E.stateNode.complete){Yt=0,pn=null;var w=E.sibling;if(w!==null)Vt=w;else{var B=E.return;B!==null?(Vt=B,wu(B)):Vt=null}break e}}Yt=0,pn=null,fr(t,n,f,5);break;case 6:Yt=0,pn=null,fr(t,n,f,6);break;case 8:rf(),ce=6;break t;default:throw Error(s(462))}}RE();break}catch(G){Ap(t,G)}while(!0);return Ii=os=null,H.H=l,H.A=c,Gt=a,Vt!==null?0:(Wt=null,It=0,Qo(),ce)}function RE(){for(;Vt!==null&&!Uc();)wp(Vt)}function wp(t){var n=Zg(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?wu(t):Vt=n}function Cp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Gg(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Gg(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Th(n);default:$g(a,n),n=Vt=Rm(n,ki),n=Zg(a,n,ki)}t.memoizedProps=t.pendingProps,n===null?wu(t):Vt=n}function fr(t,n,a,l){Ii=os=null,Th(n),er=null,yl=0;var c=n.return;try{if(dE(t,c,n,a,It)){ce=1,du(t,Cn(a,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ce=1,du(t,Cn(a,t.current)),Vt=null;return}n.flags&32768?(Ut||l===1?t=!0:or||(It&536870912)!==0?t=!1:(ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dp(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){Dp(n,ma);return}t=n.return;var a=pE(n.alternate,n,ki);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ce===0&&(ce=5)}function Dp(t,n){do{var a=yE(t.alternate,t);if(a!==null){a.flags&=32767,Vt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=a}while(t!==null);ce=6,Vt=null}function Vp(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do Cu();while(Ne!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Xc,jc(t,a,f,g,E,w),t===Wt&&(Vt=Wt=null,It=0),cr=n,ya=t,Pi=a,nf=f,af=c,_p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VE(Xi,function(){return Op(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,g=Gt,Gt|=4;try{_E(t,n,a)}finally{Gt=g,et.p=c,H.T=l}}Ne=1,Np(),Ip(),xp()}}function Np(){if(Ne===1){Ne=0;var t=ya,n=cr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{cp(n,t);var f=vf,g=pm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&gm(E.ownerDocument.documentElement,E)){if(w!==null&&Hc(E)){var B=w.start,G=w.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var k=j.getSelection(),rt=E.textContent.length,gt=Math.min(w.start,rt),$t=w.end===void 0?gt:Math.min(w.end,rt);!k.extend&&gt>$t&&(g=$t,$t=gt,gt=g);var z=mm(E,gt),x=mm(E,$t);if(z&&x&&(k.rangeCount!==1||k.anchorNode!==z.node||k.anchorOffset!==z.offset||k.focusNode!==x.node||k.focusOffset!==x.offset)){var L=Y.createRange();L.setStart(z.node,z.offset),k.removeAllRanges(),gt>$t?(k.addRange(L),k.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),k.addRange(L))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ju=!!_f,vf=_f=null}finally{Gt=c,et.p=l,H.T=a}}t.current=n,Ne=2}}function Ip(){if(Ne===2){Ne=0;var t=ya,n=cr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{sp(t,n.alternate,n)}finally{Gt=c,et.p=l,H.T=a}}Ne=3}}function xp(){if(Ne===4||Ne===3){Ne=0,yo();var t=ya,n=cr,a=Pi,l=_p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,cr=ya=null,Mp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(pa=null),Ri(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Pi&3)!==0&&Cu(),pi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===sf?Ol++:(Ol=0,sf=t):Ol=0,zl(0)}}function Mp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function Cu(){return Np(),Ip(),xp(),Op()}function Op(){if(Ne!==5)return!1;var t=ya,n=nf;nf=0;var a=Ri(Pi),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=af,af=null;var f=ya,g=Pi;if(Ne=0,cr=ya=null,Pi=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,gp(f.current),fp(f,f.current,g,a),Gt=E,zl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{et.p=c,H.T=l,Mp(t,n)}}function zp(t,n,a){n=Cn(a,n),n=Uh(t.stateNode,n,2),t=ca(t,n,2),t!==null&&(Qa(t,2),pi(t))}function Xt(t,n,a){if(t.tag===3)zp(t,t,a);else for(;n!==null;){if(n.tag===3){zp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){t=Cn(a,t),a=Ug(2),l=ca(n,a,2),l!==null&&(Lg(a,l,n,t),Qa(l,2),pi(l));break}}n=n.return}}function of(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new TE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Wh=!0,c.add(a),t=wE.bind(null,t,n,a),n.then(t,t))}function wE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>Ze()-Tu?(Gt&2)===0&&hr(t,0):tf|=a,ur===It&&(ur=0)),pi(t)}function Up(t,n){n===0&&(n=So()),t=ss(t,n),t!==null&&(Qa(t,n),pi(t))}function CE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Up(t,a)}function DE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Up(t,a)}function VE(t,n){return Ve(t,n)}var Du=null,dr=null,uf=!1,Vu=!1,cf=!1,va=0;function pi(t){t!==dr&&t.next===null&&(dr===null?Du=dr=t:dr=dr.next=t),Vu=!0,uf||(uf=!0,IE())}function zl(t,n){if(!cf&&Vu){cf=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,qp(l,f))}else f=It,f=$n(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(a=!0,qp(l,f));l=l.next}while(a);cf=!1}}function NE(){Lp()}function Lp(){Vu=uf=!1;var t=0;va!==0&&kE()&&(t=va);for(var n=Ze(),a=null,l=Du;l!==null;){var c=l.next,f=Bp(l,n);f===0?(l.next=null,a===null?Du=c:a.next=c,c===null&&(dr=a)):(a=l,(t!==0||(f&3)!==0)&&(Vu=!0)),l=c}Ne!==0&&Ne!==5||zl(t),va!==0&&(va=0)}function Bp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Bc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,a=It,a=$n(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Yi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Yi(l),Ri(a)){case 2:case 8:a=Qr;break;case 32:a=Xi;break;case 268435456:a=_o;break;default:a=Xi}return l=jp.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Yi(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=It;return l=$n(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ep(t,l,n),Bp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?jp.bind(null,t):null)}function qp(t,n){if(Cu())return null;Ep(t,n,!0)}function IE(){HE(function(){(Gt&6)!==0?Ve(Gr,NE):Lp()})}function hf(){if(va===0){var t=$s;t===0&&(t=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),va=t}return va}function kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ls(""+t)}function Pp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function xE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=kp((c[xe]||null).action),g=l.submitter;g&&(n=(n=g[xe]||null)?kp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ui("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var w=g?Pp(c,g):new FormData(c);Nh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Pp(c,g):new FormData(c),Nh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var ff=0;ff<Yc.length;ff++){var df=Yc[ff],ME=df.toLowerCase(),OE=df[0].toUpperCase()+df.slice(1);Gn(ME,"on"+OE)}Gn(vm,"onAnimationEnd"),Gn(Em,"onAnimationIteration"),Gn(Tm,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Z0,"onTransitionRun"),Gn(J0,"onTransitionStart"),Gn($0,"onTransitionCancel"),Gn(Am,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Hp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Go(G)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Go(G)}c.currentTarget=null,f=w}}}}function Nt(t,n){var a=n[xs];a===void 0&&(a=n[xs]=new Set);var l=t+"__bubble";a.has(l)||(Gp(n,t,2,!1),a.add(l))}function mf(t,n,a){var l=0;n&&(l|=4),Gp(a,t,l,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[Nu]){t[Nu]=!0,Xr.forEach(function(a){a!=="selectionchange"&&(zE.has(a)||mf(a,!1,t),mf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,mf("selectionchange",!1,n))}}function Gp(t,n,a,l){switch(vy(n)){case 2:var c=uT;break;case 8:c=cT;break;default:c=Nf}a=c.bind(null,n,a,t),c=void 0,!Ja||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function pf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ni(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ta(function(){var B=f,G=Sn(a),Y=[];t:{var j=Sm.get(t);if(j!==void 0){var k=ui,rt=t;switch(t){case"keypress":if(Wa(a)===0)break t;case"keydown":case"keyup":k=ko;break;case"focusin":rt="focus",k=es;break;case"focusout":rt="blur",k=es;break;case"beforeblur":case"afterblur":k=es;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case vm:case Em:case Tm:k=Oo;break;case Am:k=T;break;case"scroll":case"scrollend":k=rl;break;case"wheel":k=q;break;case"copy":case"cut":case"paste":k=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Di;break;case"toggle":case"beforetoggle":k=At}var gt=(n&4)!==0,$t=!gt&&(t==="scroll"||t==="scrollend"),z=gt?j!==null?j+"Capture":null:j;gt=[];for(var x=B,L;x!==null;){var Q=x;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||z===null||(Q=qn(x,z),Q!=null&&gt.push(Ll(x,Q,L))),$t)break;x=x.return}0<gt.length&&(j=new k(j,rt,null,a,G),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",j&&a!==il&&(rt=a.relatedTarget||a.fromElement)&&(ni(rt)||rt[ti]))break t;if((k||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,k?(rt=a.relatedTarget||a.toElement,k=B,rt=rt?ni(rt):null,rt!==null&&($t=h(rt),gt=rt.tag,rt!==$t||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(k=null,rt=B),k!==rt)){if(gt=ll,Q="onMouseLeave",z="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Di,Q="onPointerLeave",z="onPointerEnter",x="pointer"),$t=k==null?j:cn(k),L=rt==null?j:cn(rt),j=new gt(Q,x+"leave",k,a,G),j.target=$t,j.relatedTarget=L,Q=null,ni(G)===B&&(gt=new gt(z,x+"enter",rt,a,G),gt.target=L,gt.relatedTarget=$t,Q=gt),$t=Q,k&&rt)e:{for(gt=UE,z=k,x=rt,L=0,Q=z;Q;Q=gt(Q))L++;Q=0;for(var ht=x;ht;ht=gt(ht))Q++;for(;0<L-Q;)z=gt(z),L--;for(;0<Q-L;)x=gt(x),Q--;for(;L--;){if(z===x||x!==null&&z===x.alternate){gt=z;break e}z=gt(z),x=gt(x)}gt=null}else gt=null;k!==null&&Qp(Y,j,k,gt,!1),rt!==null&&$t!==null&&Qp(Y,$t,rt,gt,!0)}}t:{if(j=B?cn(B):window,k=j.nodeName&&j.nodeName.toLowerCase(),k==="select"||k==="input"&&j.type==="file")var qt=om;else if(rm(j))if(um)qt=Y0;else{qt=Q0;var lt=G0}else k=j.nodeName,!k||k.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Us(B.elementType)&&(qt=om):qt=F0;if(qt&&(qt=qt(t,B))){lm(Y,qt,a,G);break t}lt&&lt(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&tl(j,"number",j.value)}switch(lt=B?cn(B):window,t){case"focusin":(rm(lt)||lt.contentEditable==="true")&&(Gs=lt,Gc=B,fl=null);break;case"focusout":fl=Gc=Gs=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,ym(Y,a,G);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":ym(Y,a,G)}var Rt;if(Ht)t:{switch(t){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Hs?ns(t,a)&&(xt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(fi&&a.locale!=="ko"&&(Hs||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Hs&&(Rt=sl()):(oi=G,al="value"in oi?oi.value:oi.textContent,Hs=!0)),lt=Iu(B,xt),0<lt.length&&(xt=new hi(xt,t,null,a,G),Y.push({event:xt,listeners:lt}),Rt?xt.data=Rt:(Rt=Ps(a),Rt!==null&&(xt.data=Rt)))),(Rt=Rn?q0(t,a):k0(t,a))&&(xt=Iu(B,"onBeforeInput"),0<xt.length&&(lt=new hi("onBeforeInput","beforeinput",null,a,G),Y.push({event:lt,listeners:xt}),lt.data=Rt)),xE(Y,t,B,a,G)}Hp(Y,n)})}function Ll(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Iu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qn(t,a),c!=null&&l.unshift(Ll(t,c,f)),c=qn(t,n),c!=null&&l.push(Ll(t,c,f))),t.tag===3)return l;t=t.return}return[]}function UE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=qn(a,f),B!=null&&g.unshift(Ll(a,B,w))):c||(B=qn(a,f),B!=null&&g.push(Ll(a,B,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var LE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function Fp(t){return(typeof t=="string"?t:""+t).replace(LE,`
`).replace(BE,"")}function Yp(t,n){return n=Fp(n),Fp(t)===n}function Jt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":nl(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ls(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ls(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ls(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Os(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Os(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Io.get(a)||a,Os(t,a,l))}}function yf(t,n,a,l,c,f){switch(a){case"style":nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Os(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,f,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var E=f=g=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":w=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Jt(t,n,l,G,a,null)}}Do(t,f,E,w,B,g,c,!1);return;case"select":Nt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Zi(t,!!l,n,!1):a!=null&&Zi(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(t,n,g,E,a,null)}Ji(t,l,c,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(t,n,w,l,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Nt(Ul[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,B,l,a,null)}return;default:if(Us(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&yf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function jE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,B=null,G=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=Y;default:l.hasOwnProperty(k)||Jt(t,n,k,null,l,Y)}}for(var j in l){var k=l[j];if(Y=a[j],l.hasOwnProperty(j)&&(k!=null||Y!=null))switch(j){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":G=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==Y&&Jt(t,n,j,k,l,Y)}}zs(t,g,E,w,B,G,f,c);return;case"select":k=g=E=j=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Jt(t,n,c,f,l,w)}n=E,a=g,l=k,j!=null?Zi(t,!!a,j,!1):!!l!=!!a&&(n!=null?Zi(t,!!a,n,!0):Zi(t,!!a,a?[]:"",!1));return;case"textarea":k=j=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":j=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Vo(t,j,k);return;case"option":for(var rt in a)if(j=a[rt],a.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Jt(t,n,rt,null,l,j)}for(w in l)if(j=l[w],k=a[w],l.hasOwnProperty(w)&&j!==k&&(j!=null||k!=null))switch(w){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(t,n,w,j,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Jt(t,n,gt,null,l,j);for(B in l)if(j=l[B],k=a[B],l.hasOwnProperty(B)&&j!==k&&(j!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Jt(t,n,B,j,l,k)}return;default:if(Us(n)){for(var $t in a)j=a[$t],a.hasOwnProperty($t)&&j!==void 0&&!l.hasOwnProperty($t)&&yf(t,n,$t,void 0,l,j);for(G in l)j=l[G],k=a[G],!l.hasOwnProperty(G)||j===k||j===void 0&&k===void 0||yf(t,n,G,j,l,k);return}}for(var z in a)j=a[z],a.hasOwnProperty(z)&&j!=null&&!l.hasOwnProperty(z)&&Jt(t,n,z,null,l,j);for(Y in l)j=l[Y],k=a[Y],!l.hasOwnProperty(Y)||j===k||j==null&&k==null||Jt(t,n,Y,j,l,k)}function Xp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Xp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var G=w.transferSize,Y=w.initiatorType;G&&Xp(Y)&&(w=w.responseEnd,g+=G*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _f=null,vf=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function kE(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(GE)}:Jp;function GE(t){setTimeout(function(){throw t})}function Ea(t){return t==="head"}function Wp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),yr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Bl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Bl(t.ownerDocument.body);a=c}while(a);yr(n)}function ty(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Af(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function QE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function FE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function ey(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$?"||t.data==="$~"}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function YE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rf=null;function ny(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return xn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function ay(t,n,a){switch(n=xu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ms(t)}var Mn=new Map,sy=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=et.d;et.d={f:XE,r:KE,D:ZE,C:JE,L:$E,m:WE,X:eT,S:tT,M:nT};function XE(){var t=Hi.f(),n=bu();return t||n}function KE(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Ag(n):Hi.r(t)}var mr=typeof document>"u"?null:document;function ry(t,n,a){var l=mr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),sy.has(c)||(sy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ve(n),l.head.appendChild(n)))}}function ZE(t){Hi.D(t),ry("dns-prefetch",t,null)}function JE(t,n){Hi.C(t,n),ry("preconnect",t,n)}function $E(t,n,a){Hi.L(t,n,a);var l=mr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=gr(t);break;case"script":f=pr(t)}Mn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(jl(f))||n==="script"&&l.querySelector(ql(f))||(n=l.createElement("link"),Pe(n,"link",t),ve(n),l.head.appendChild(n)))}}function WE(t,n){Hi.m(t,n);var a=mr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pr(t)}if(!Mn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Mn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(f)))return}l=a.createElement("link"),Pe(l,"link",t),ve(l),a.head.appendChild(l)}}}function tT(t,n,a){Hi.S(t,n,a);var l=mr;if(l&&t){var c=ii(l).hoistableStyles,f=gr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(jl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(f))&&wf(t,a);var w=g=l.createElement("link");ve(w),Pe(w,"link",t),w._p=new Promise(function(B,G){w.onload=B,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function eT(t,n){Hi.X(t,n);var a=mr;if(a&&t){var l=ii(a).hoistableScripts,c=pr(t),f=l.get(c);f||(f=a.querySelector(ql(c)),f||(t=S({src:t,async:!0},n),(n=Mn.get(c))&&Cf(t,n),f=a.createElement("script"),ve(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function nT(t,n){Hi.M(t,n);var a=mr;if(a&&t){var l=ii(a).hoistableScripts,c=pr(t),f=l.get(c);f||(f=a.querySelector(ql(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&Cf(t,n),f=a.createElement("script"),ve(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ly(t,n,a,l){var c=(c=bt.current)?Mu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=gr(a.href),a=ii(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=gr(a.href);var f=ii(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(jl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),f||iT(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pr(a),a=ii(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gr(t){return'href="'+We(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function oy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function iT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),ve(n),t.head.appendChild(n))}function pr(t){return'[src="'+We(t)+'"]'}function ql(t){return"script[async]"+t}function uy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),Pe(l,"style",c),Ou(l,a.precedence,t),n.instance=l;case"stylesheet":c=gr(a.href);var f=t.querySelector(jl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=oy(a),(c=Mn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(f,"link",l),n.state.loading|=4,Ou(f,a.precedence,t),n.instance=f;case"script":return f=pr(a.src),(c=t.querySelector(ql(f)))?(n.instance=c,ve(c),c):(l=a,(c=Mn.get(f))&&(l=S({},a),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,t));return n.instance}function Ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zu=null;function cy(t,n,a){if(zu===null){var l=new Map,c=zu=new Map;c.set(a,l)}else c=zu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ei]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function aT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=gr(l.href),f=n.querySelector(jl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,l=oy(l),(c=Mn.get(c))&&wf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Df=0;function rT(t,n){return t.stylesheets&&t.count===0&&Bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Df===0&&(Df=62500*qE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Df?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Bu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(lT,t),Lu=null,Uu.call(t))}function lT(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function oT(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function dy(t,n,a,l,c,f,g,E,w,B,G,Y){return t=new oT(t,n,a,g,w,B,G,Y,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ch(f),t}function my(t){return t?(t=Ys,t):Ys}function gy(t,n,a,l,c,f){c=my(c),l.context===null?l.context=c:l.pendingContext=c,l=ua(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ca(t,l,n),a!==null&&(rn(a,t,n),vl(a,t,n))}function py(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Vf(t,n){py(t,n),(t=t.alternate)&&py(t,n)}function yy(t){if(t.tag===13||t.tag===31){var n=ss(t,67108864);n!==null&&rn(n,t,67108864),Vf(t,67108864)}}function _y(t){if(t.tag===13||t.tag===31){var n=_n();n=Ya(n);var a=ss(t,n);a!==null&&rn(a,t,n),Vf(t,n)}}var ju=!0;function uT(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Nf(t,n,a,l)}finally{et.p=f,H.T=c}}function cT(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Nf(t,n,a,l)}finally{et.p=f,H.T=c}}function Nf(t,n,a,l){if(ju){var c=If(l);if(c===null)pf(t,n,l,qu,a),Ey(t,l);else if(fT(c,t,n,a,l))l.stopPropagation();else if(Ey(t,l),n&4&&-1<hT.indexOf(t)){for(;c!==null;){var f=An(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Jn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-he(g);E.entanglements[1]|=w,g&=~w}pi(f),(Gt&6)===0&&(Au=Ze()+500,zl(0))}}break;case 31:case 13:E=ss(f,2),E!==null&&rn(E,f,2),bu(),Vf(f,2)}if(f=If(l),f===null&&pf(t,n,l,qu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else pf(t,n,l,null,a)}}function If(t){return t=Sn(t),xf(t)}var qu=null;function xf(t){if(qu=null,t=ni(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function vy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ha()){case Gr:return 2;case Qr:return 8;case Xi:case Lc:return 32;case _o:return 268435456;default:return 32}default:return 32}}var Mf=!1,Ta=null,Aa=null,Sa=null,Pl=new Map,Hl=new Map,ba=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Gl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=An(n),n!==null&&yy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function fT(t,n,a,l,c){switch(n){case"focusin":return Ta=Gl(Ta,t,n,a,l,c),!0;case"dragenter":return Aa=Gl(Aa,t,n,a,l,c),!0;case"mouseover":return Sa=Gl(Sa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,Gl(Pl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Hl.set(f,Gl(Hl.get(f)||null,t,n,a,l,c)),!0}return!1}function Ty(t){var n=ni(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){_y(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){_y(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=If(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return n=An(a),n!==null&&yy(n),t.blockedOn=a,!1;n.shift()}return!0}function Ay(t,n,a){ku(t)&&a.delete(n)}function dT(){Mf=!1,Ta!==null&&ku(Ta)&&(Ta=null),Aa!==null&&ku(Aa)&&(Aa=null),Sa!==null&&ku(Sa)&&(Sa=null),Pl.forEach(Ay),Hl.forEach(Ay)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dT)))}var Hu=null;function Sy(t){Hu!==t&&(Hu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(xf(l||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,Nh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function yr(t){function n(w){return Pu(w,t)}Ta!==null&&Pu(Ta,t),Aa!==null&&Pu(Aa,t),Sa!==null&&Pu(Sa,t),Pl.forEach(n),Hl.forEach(n);for(var a=0;a<ba.length;a++){var l=ba[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)Ty(a),a.blockedOn===null&&ba.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[xe]||null;if(typeof f=="function")g||Sy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[xe]||null)E=g.formAction;else if(xf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Sy(a)}}}function by(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Of(t){this._internalRoot=t}Gu.prototype.render=Of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();gy(a,l,t,n,null,null)},Gu.prototype.unmount=Of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;gy(t.current,2,null,t,null,null),bu(),n[ti]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ba.length&&n!==0&&n<ba[a].priority;a++);ba.splice(a,0,t),a===0&&Ty(t)}};var Ry=e.version;if(Ry!=="19.2.1")throw Error(s(527,Ry,"19.2.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{zn=Qu.inject(mT),Le=Qu}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=xg,f=Mg,g=Og;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=dy(t,1,!1,null,null,a,l,null,c,f,g,by),t[ti]=n.current,gf(t),new Of(n)},Fl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=xg,g=Mg,E=Og,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=dy(t,1,!0,n,a??null,l,c,w,f,g,E,by),n.context=my(null),a=n.current,l=_n(),l=Ya(l),c=ua(l),c.callback=null,ca(a,c,l),a=l,n.current.lanes=a,Qa(n,a),pi(n),t[ti]=n.current,gf(t),new Gu(n)},Fl.version="19.2.1",Fl}var zy;function bT(){if(zy)return Lf.exports;zy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=ST(),Lf.exports}var RT=bT();const wT=Z_(RT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Uy=r=>{const e=DT(r);return e.charAt(0).toUpperCase()+e.slice(1)},$_=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),VT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=te.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...y},v)=>te.createElement("svg",{ref:v,...NT,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:$_("lucide",o),...!h&&!VT(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>te.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=(r,e)=>{const i=te.forwardRef(({className:s,...o},h)=>te.createElement(IT,{ref:h,iconNode:e,className:$_(`lucide-${CT(Uy(r))}`,`lucide-${r}`,s),...o}));return i.displayName=Uy(r),i};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],MT=bi("arrow-left",xT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zT=bi("copy",OT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],LT=bi("ellipsis-vertical",UT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jT=bi("menu",BT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kT=bi("pen-line",qT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],HT=bi("plus",PT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QT=bi("save",GT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],YT=bi("square-check-big",FT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],KT=bi("trash-2",XT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JT=bi("x",ZT),on={Menu:jT,Close:JT,Plus:HT,Trash:KT,Check:YT,Save:QT,Edit:kT,Back:MT,Copy:zT,More:LT},$T=({isMobileOpen:r,isAlwaysOpen:e,onClose:i,documents:s,templates:o,onSelectDocument:h,onPreviewTemplate:d,onCreateTemplate:y,onCreateNew:v,onDeleteDocument:_,onDeleteTemplate:A,onEditTemplate:S,onBackup:N,onRestore:P})=>{const[J,W]=te.useState("docs"),[$,dt]=te.useState(null),mt=J_.useRef(null);if(!r&&!e)return null;const ut=ct=>new Date(ct).toLocaleDateString("ko-KR",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"});return Z.jsxs("div",{className:`
      ${e?"relative flex-shrink-0 w-[250px] h-full":"fixed inset-0 z-50 flex"}
      ${!e&&!r?"transform -translate-x-full":"transform translate-x-0"}
      transition-transform duration-300 ease-in-out
    `,children:[!e&&r&&Z.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:i}),Z.jsxs("div",{className:`
        relative flex flex-col h-full bg-white shadow-xl
        ${e?"w-full":"w-[85%] max-w-sm"}
      `,children:[Z.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[Z.jsx("h2",{className:"text-lg font-bold text-gray-800",children:""}),Z.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-200 rounded-full",children:Z.jsx(on.Close,{size:20})})]}),Z.jsxs("div",{className:"p-4 grid grid-cols-4 gap-2 border-b",children:[Z.jsx("button",{onClick:()=>{v(),i()},className:"flex items-center justify-center p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:Z.jsx("span",{className:"text-xs font-medium",children:" "})}),Z.jsx("button",{onClick:()=>{y(),i()},className:"flex items-center justify-center p-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:Z.jsx("span",{className:"text-xs font-medium",children:""})}),Z.jsx("button",{onClick:N,className:"flex items-center justify-center p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:Z.jsx("span",{className:"text-xs font-medium",children:""})}),Z.jsx("button",{onClick:()=>{var ct;return(ct=mt.current)==null?void 0:ct.click()},className:"flex items-center justify-center p-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:Z.jsx("span",{className:"text-xs font-medium",children:""})}),Z.jsx("input",{ref:mt,type:"file",accept:".json",onChange:ct=>{var wt;const Ct=(wt=ct.target.files)==null?void 0:wt[0];Ct&&(P(Ct),ct.target.value="")},className:"hidden"})]}),Z.jsxs("div",{className:"flex border-b",children:[Z.jsxs("button",{className:`flex-1 p-3 text-sm font-medium ${J==="docs"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>W("docs"),children:[" (",s.length,")"]}),Z.jsx("button",{className:`flex-1 p-3 text-sm font-medium ${J==="templates"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>W("templates"),children:""})]}),Z.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:J==="docs"?Z.jsxs("div",{className:"space-y-2",children:[s.length===0&&Z.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),s.map(ct=>Z.jsx("div",{className:"group bg-white p-3 rounded-lg border shadow-sm hover:shadow-md transition-all",children:Z.jsxs("div",{className:"flex justify-between items-start",children:[Z.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>{h(ct),i()},children:[Z.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:ct.title||" "}),Z.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ut(ct.updatedAt)})]}),Z.jsx("button",{onClick:Ct=>{Ct.stopPropagation(),_(ct.id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:Z.jsx(on.Trash,{size:16})})]})},ct.id))]}):Z.jsxs("div",{className:"space-y-2",children:[o.length===0&&Z.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:["  .",Z.jsx("br",{}),"' '   ."]}),o.map(ct=>Z.jsxs("div",{className:"bg-white p-3 rounded-lg border border-dashed border-gray-300 hover:border-blue-400 transition-all relative",children:[Z.jsxs("div",{onClick:()=>{d(ct),i()},className:"cursor-pointer flex items-center justify-between",children:[Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsx(on.Copy,{size:16,className:"text-blue-500"}),Z.jsx("span",{className:"font-semibold text-gray-800",children:ct.title||"( )"})]}),Z.jsx("button",{onClick:Ct=>{Ct.stopPropagation(),dt($===ct.id?null:ct.id)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:Z.jsx(on.More,{size:16})})]}),$===ct.id&&Z.jsxs("div",{className:"absolute right-2 top-10 bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[150px]",children:[Z.jsxs("button",{onClick:Ct=>{Ct.stopPropagation(),S(ct),dt(null),i()},className:"w-full text-left px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 transition-colors flex items-center gap-2 border-b border-gray-100",children:[Z.jsx(on.Edit,{size:14}),Z.jsx("span",{children:" "})]}),Z.jsxs("button",{onClick:Ct=>{Ct.stopPropagation(),A(ct.id),dt(null)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2",children:[Z.jsx(on.Trash,{size:14}),Z.jsx("span",{children:""})]})]})]},ct.id))]})})]})]})},vr=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),W_=({isOpen:r,title:e,message:i,onConfirm:s,onClose:o})=>r?Z.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[Z.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px] transition-opacity animate-in fade-in duration-200",onClick:o}),Z.jsxs("div",{className:"relative w-full max-w-[280px] bg-white rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 transform",children:[Z.jsxs("div",{className:"p-5 text-center",children:[Z.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:e}),Z.jsx("p",{className:"text-sm text-gray-500 leading-relaxed break-keep",children:i})]}),Z.jsxs("div",{className:"flex border-t border-gray-100",children:[Z.jsx("button",{onClick:o,className:"flex-1 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors active:bg-gray-100",children:""}),Z.jsx("div",{className:"w-px bg-gray-100"}),Z.jsx("button",{onClick:s,className:"flex-1 py-3 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors active:bg-red-100",children:""})]})]})]}):null,WT=({item:r,onToggle:e,onEdit:i,onDelete:s})=>{const o=te.useRef(null);te.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=`${o.current.scrollHeight}px`)},[r.text]);const h=d=>{const y=d.target;y.style.height="auto",y.style.height=`${y.scrollHeight}px`};return Z.jsxs("div",{className:`group flex items-start gap-3 p-3 rounded-lg border shadow-sm transition-all duration-200 ${r.isChecked?"bg-gray-50 border-gray-200":"bg-white border-gray-300 hover:border-blue-400 hover:shadow-md"}`,children:[Z.jsx("button",{onClick:()=>e(r.id),className:`mt-0.5 flex-none transition-colors ${r.isChecked?"text-blue-500":"text-gray-400 hover:text-blue-500"}`,children:r.isChecked?Z.jsx(on.Check,{size:20}):Z.jsx("div",{className:"w-[20px] h-[20px] border-2 border-current rounded-md"})}),Z.jsx("textarea",{ref:o,className:`flex-1 bg-transparent text-sm resize-none outline-none h-auto min-h-[1.5rem] leading-relaxed py-0.5 ${r.isChecked?"line-through text-gray-400":"text-gray-800 font-medium"}`,value:r.text,onChange:d=>i(r.id,d.target.value),onInput:h,rows:1}),Z.jsx("button",{onClick:()=>s(r.id),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-all",children:Z.jsx(on.Trash,{size:16})})]})},t1=({items:r,onChange:e})=>{const[i,s]=te.useState(""),[o,h]=te.useState(null),d=S=>{if(S==null||S.preventDefault(),!i.trim())return;const N={id:vr(),text:i.trim(),isChecked:!1};e([...r,N]),s("")},y=S=>{const N=r.map(P=>P.id===S?{...P,isChecked:!P.isChecked}:P);e(N)},v=S=>{h(S)},_=()=>{o&&(e(r.filter(S=>S.id!==o)),h(null))},A=(S,N)=>{const P=r.map(J=>J.id===S?{...J,text:N}:J);e(P)};return Z.jsxs("div",{className:"flex flex-col h-full bg-slate-50 border-t border-gray-200",children:[Z.jsx("div",{className:"px-3 py-3 border-b bg-white flex-none shadow-sm z-10",children:Z.jsxs("form",{onSubmit:d,className:"flex gap-2 items-center",children:[Z.jsx("div",{className:"flex-1 relative",children:Z.jsx("input",{type:"text",value:i,onChange:S=>s(S.target.value),placeholder:" ...",className:"w-full pl-3 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 transition-all"})}),Z.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 transition-colors flex-shrink-0 shadow-sm",children:Z.jsx(on.Plus,{size:18})})]})}),Z.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-2.5",children:[r.length===0&&Z.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-gray-400",children:[Z.jsx(on.Check,{size:28,className:"mb-2 opacity-30"}),Z.jsx("span",{className:"text-sm",children:" "})]}),r.map(S=>Z.jsx(WT,{item:S,onToggle:y,onEdit:A,onDelete:v},S.id))]}),Z.jsx(W_,{isOpen:!!o,title:" ",message:"   ?",onConfirm:_,onClose:()=>h(null)})]})},Ly=({data:r,onSave:e,isTemplateMode:i=!1,isTemplatePreview:s=!1,sourceTemplateName:o,onCancel:h,onOpenSidebar:d,screenWidth:y,mdBreakpoint:v})=>{const[_,A]=te.useState(r.title),[S,N]=te.useState(r.content),[P,J]=te.useState(r.checklist),[W,$]=te.useState(!1);te.useEffect(()=>{A(r.title),N(r.content),J(r.checklist),$(!1)},[r.id]);const dt=()=>{e({...r,title:_,content:S,checklist:P,updatedAt:Date.now()}),$(!1)},mt=()=>$(!0);return Z.jsxs("div",{className:"flex flex-col h-full bg-white",children:[Z.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b shadow-sm z-10 bg-white flex-none h-12",children:[Z.jsxs("div",{className:"flex items-center gap-2 flex-1 mr-2 min-w-0",children:[i&&h?Z.jsx("button",{onClick:h,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-600 flex-shrink-0",children:Z.jsx(on.Back,{size:18})}):y<v&&d&&Z.jsx("button",{onClick:d,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-700 flex-shrink-0",children:Z.jsx(on.Menu,{size:18})}),Z.jsx("input",{type:"text",value:_,onChange:ut=>{A(ut.target.value),mt()},placeholder:i?" ":" ()",className:"text-base font-bold text-gray-800 placeholder-gray-300 outline-none bg-transparent w-full truncate leading-tight"})]}),Z.jsx("button",{onClick:dt,disabled:!W,className:`p-1.5 rounded-md transition-colors flex-shrink-0 ${W?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:"",children:Z.jsx(on.Save,{size:18})}),h&&Z.jsx("button",{onClick:h,className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 text-gray-600 hover:bg-gray-100",title:"",children:Z.jsx(on.Back,{size:18})})]}),Z.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[Z.jsx("div",{className:"flex-1 flex flex-col border-b border-gray-200 relative group min-h-0 basis-1/2",children:Z.jsx("textarea",{value:S,onChange:ut=>{N(ut.target.value),mt()},placeholder:i?"  ...":"  ...",className:"flex-1 w-full p-3 resize-none outline-none text-gray-700 leading-relaxed text-sm"})}),Z.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 min-h-0 basis-1/2",children:Z.jsx(t1,{items:P,onChange:ut=>{J(ut),mt()}})})]})]})},e1=()=>{};var By={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},n1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,S=(h&3)<<4|y>>4;let N=(y&15)<<2|_>>6,P=_&63;v||(P=64,d||(N=64)),s.push(i[A],i[S],i[N],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):n1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||_==null||S==null)throw new i1;const N=h<<2|y>>4;if(s.push(N),_!==64){const P=y<<4&240|_>>2;if(s.push(P),S!==64){const J=_<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a1=function(r){const e=tv(r);return ev.encodeByteArray(e,!0)},sc=function(r){return a1(r).replace(/\./g,"")},s1=function(r){try{return ev.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>r1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof By>"u")return;const r=By.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},u1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&s1(r[1]);return e&&JSON.parse(e)},Td=()=>{try{return e1()||l1()||o1()||u1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c1=r=>{var e,i;return(i=(e=Td())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},h1=r=>{const e=c1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},nv=()=>{var r;return(r=Td())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sc(JSON.stringify(i)),sc(JSON.stringify(d)),""].join(".")}const Zl={};function g1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function p1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let jy=!1;function y1(r,e){if(typeof window>"u"||typeof document>"u"||!Ad(window.location.host)||Zl[r]===e||Zl[r]||jy)return;Zl[r]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=g1().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,P){N.setAttribute("width","24"),N.setAttribute("id",P),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{jy=!0,d()},N}function A(N,P){N.setAttribute("id",P),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=p1(s),P=i("text"),J=document.getElementById(P)||document.createElement("span"),W=i("learnmore"),$=document.getElementById(W)||document.createElement("a"),dt=i("preprendIcon"),mt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ut=N.element;y(ut),A($,W);const ct=_();v(mt,dt),ut.append(mt,J,$,ct),document.body.appendChild(ut)}h?(J.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){var e;const r=(e=Td())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return!v1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function A1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="FirebaseError";class zr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=S1,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iv.prototype.create)}}class iv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?b1(h,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new zr(o,y,s)}}function b1(r,e){return r.replace(R1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const R1=/\{\$([^}]+)}/g;function rc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(qy(h)&&qy(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function qy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(r){return r&&r._delegate?r._delegate:r}class eo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new f1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D1(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:C1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(r){return r===Ts?void 0:r}function D1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new w1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jt||(jt={}));const N1={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},I1=jt.INFO,x1={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},M1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=x1[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class av{constructor(e){this.name=e,this._logLevel=I1,this._logHandler=M1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const O1=(r,e)=>e.some(i=>r instanceof i);let ky,Py;function z1(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sv=new WeakMap,Jf=new WeakMap,rv=new WeakMap,kf=new WeakMap,Sd=new WeakMap;function L1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Da(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&sv.set(i,r)}).catch(()=>{}),Sd.set(e,r),e}function B1(r){if(Jf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Jf.set(r,e)}let $f={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Jf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function j1(r){$f=r($f)}function q1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Pf(this),e,...i);return rv.set(s,e.sort?e.sort():[e]),Da(s)}:U1().includes(r)?function(...e){return r.apply(Pf(this),e),Da(sv.get(this))}:function(...e){return Da(r.apply(Pf(this),e))}}function k1(r){return typeof r=="function"?q1(r):(r instanceof IDBTransaction&&B1(r),O1(r,z1())?new Proxy(r,$f):r)}function Da(r){if(r instanceof IDBRequest)return L1(r);if(kf.has(r))return kf.get(r);const e=k1(r);return e!==r&&(kf.set(r,e),Sd.set(e,r)),e}const Pf=r=>Sd.get(r);function P1(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=Da(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Da(d.result),v.oldVersion,v.newVersion,Da(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const H1=["get","getKey","getAll","getAllKeys","count"],G1=["put","add","delete","clear"],Hf=new Map;function Hy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=G1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||H1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Hf.set(e,h),h}j1(r=>({...r,get:(e,i,s)=>Hy(e,i)||r.get(e,i,s),has:(e,i)=>!!Hy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(F1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function F1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",Gy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new av("@firebase/app"),Y1="@firebase/app-compat",X1="@firebase/analytics-compat",K1="@firebase/analytics",Z1="@firebase/app-check-compat",J1="@firebase/app-check",$1="@firebase/auth",W1="@firebase/auth-compat",tA="@firebase/database",eA="@firebase/data-connect",nA="@firebase/database-compat",iA="@firebase/functions",aA="@firebase/functions-compat",sA="@firebase/installations",rA="@firebase/installations-compat",lA="@firebase/messaging",oA="@firebase/messaging-compat",uA="@firebase/performance",cA="@firebase/performance-compat",hA="@firebase/remote-config",fA="@firebase/remote-config-compat",dA="@firebase/storage",mA="@firebase/storage-compat",gA="@firebase/firestore",pA="@firebase/ai",yA="@firebase/firestore-compat",_A="firebase",vA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",EA={[Wf]:"fire-core",[Y1]:"fire-core-compat",[K1]:"fire-analytics",[X1]:"fire-analytics-compat",[J1]:"fire-app-check",[Z1]:"fire-app-check-compat",[$1]:"fire-auth",[W1]:"fire-auth-compat",[tA]:"fire-rtdb",[eA]:"fire-data-connect",[nA]:"fire-rtdb-compat",[iA]:"fire-fn",[aA]:"fire-fn-compat",[sA]:"fire-iid",[rA]:"fire-iid-compat",[lA]:"fire-fcm",[oA]:"fire-fcm-compat",[uA]:"fire-perf",[cA]:"fire-perf-compat",[hA]:"fire-rc",[fA]:"fire-rc-compat",[dA]:"fire-gcs",[mA]:"fire-gcs-compat",[gA]:"fire-fst",[yA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[_A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,TA=new Map,ed=new Map;function Qy(r,e){try{r.container.addComponent(e)}catch(i){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function oc(r){const e=r.name;if(ed.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,r);for(const i of lc.values())Qy(i,r);for(const i of TA.values())Qy(i,r);return!0}function AA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function SA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new iv("app","Firebase",bA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=vA;function lv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:td,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Va.create("bad-app-name",{appName:String(o)});if(i||(i=nv()),!i)throw Va.create("no-options");const h=lc.get(o);if(h){if(rc(i,h.options)&&rc(s,h.config))return h;throw Va.create("duplicate-app",{appName:o})}const d=new V1(o);for(const v of ed.values())d.addComponent(v);const y=new RA(i,s,d);return lc.set(o,y),y}function CA(r=td){const e=lc.get(r);if(!e&&r===td&&nv())return lv();if(!e)throw Va.create("no-app",{appName:r});return e}function Rr(r,e,i){let s=EA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(d.join(" "));return}oc(new eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebase-heartbeat-database",VA=1,no="firebase-heartbeat-store";let Gf=null;function ov(){return Gf||(Gf=P1(DA,VA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),Gf}async function NA(r){try{const i=(await ov()).transaction(no),s=await i.objectStore(no).get(uv(r));return await i.done,s}catch(e){if(e instanceof zr)Gi.warn(e.message);else{const i=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(i.message)}}}async function Fy(r,e){try{const s=(await ov()).transaction(no,"readwrite");await s.objectStore(no).put(e,uv(r)),await s.done}catch(i){if(i instanceof zr)Gi.warn(i.message);else{const s=Va.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gi.warn(s.message)}}}function uv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=1024,xA=30;class MA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Yy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>xA){const d=UA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Yy(),{heartbeatsToSend:s,unsentEntries:o}=OA(this._heartbeatsCache.heartbeats),h=sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Gi.warn(i),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function OA(r,e=IA){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Xy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class zA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?A1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await NA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xy(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function UA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r){oc(new eo("platform-logger",e=>new Q1(e),"PRIVATE")),oc(new eo("heartbeat",e=>new MA(e),"PRIVATE")),Rr(Wf,Gy,r),Rr(Wf,Gy,"esm2020"),Rr("fire-js","")}LA("");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,cv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function C(){}C.prototype=R.prototype,D.F=R.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(O,I,V){for(var b=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)b[yt-2]=arguments[yt];return R.prototype[I].apply(O,b)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,C){C||(C=0);const O=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)O[I]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(I=0;I<16;++I)O[I]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=D.g[0],C=D.g[1],I=D.g[2];let V=D.g[3],b;b=R+(V^C&(I^V))+O[0]+3614090360&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(I^R&(C^I))+O[1]+3905402710&4294967295,V=R+(b<<12&4294967295|b>>>20),b=I+(C^V&(R^C))+O[2]+606105819&4294967295,I=V+(b<<17&4294967295|b>>>15),b=C+(R^I&(V^R))+O[3]+3250441966&4294967295,C=I+(b<<22&4294967295|b>>>10),b=R+(V^C&(I^V))+O[4]+4118548399&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(I^R&(C^I))+O[5]+1200080426&4294967295,V=R+(b<<12&4294967295|b>>>20),b=I+(C^V&(R^C))+O[6]+2821735955&4294967295,I=V+(b<<17&4294967295|b>>>15),b=C+(R^I&(V^R))+O[7]+4249261313&4294967295,C=I+(b<<22&4294967295|b>>>10),b=R+(V^C&(I^V))+O[8]+1770035416&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(I^R&(C^I))+O[9]+2336552879&4294967295,V=R+(b<<12&4294967295|b>>>20),b=I+(C^V&(R^C))+O[10]+4294925233&4294967295,I=V+(b<<17&4294967295|b>>>15),b=C+(R^I&(V^R))+O[11]+2304563134&4294967295,C=I+(b<<22&4294967295|b>>>10),b=R+(V^C&(I^V))+O[12]+1804603682&4294967295,R=C+(b<<7&4294967295|b>>>25),b=V+(I^R&(C^I))+O[13]+4254626195&4294967295,V=R+(b<<12&4294967295|b>>>20),b=I+(C^V&(R^C))+O[14]+2792965006&4294967295,I=V+(b<<17&4294967295|b>>>15),b=C+(R^I&(V^R))+O[15]+1236535329&4294967295,C=I+(b<<22&4294967295|b>>>10),b=R+(I^V&(C^I))+O[1]+4129170786&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^I&(R^C))+O[6]+3225465664&4294967295,V=R+(b<<9&4294967295|b>>>23),b=I+(R^C&(V^R))+O[11]+643717713&4294967295,I=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(I^V))+O[0]+3921069994&4294967295,C=I+(b<<20&4294967295|b>>>12),b=R+(I^V&(C^I))+O[5]+3593408605&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^I&(R^C))+O[10]+38016083&4294967295,V=R+(b<<9&4294967295|b>>>23),b=I+(R^C&(V^R))+O[15]+3634488961&4294967295,I=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(I^V))+O[4]+3889429448&4294967295,C=I+(b<<20&4294967295|b>>>12),b=R+(I^V&(C^I))+O[9]+568446438&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^I&(R^C))+O[14]+3275163606&4294967295,V=R+(b<<9&4294967295|b>>>23),b=I+(R^C&(V^R))+O[3]+4107603335&4294967295,I=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(I^V))+O[8]+1163531501&4294967295,C=I+(b<<20&4294967295|b>>>12),b=R+(I^V&(C^I))+O[13]+2850285829&4294967295,R=C+(b<<5&4294967295|b>>>27),b=V+(C^I&(R^C))+O[2]+4243563512&4294967295,V=R+(b<<9&4294967295|b>>>23),b=I+(R^C&(V^R))+O[7]+1735328473&4294967295,I=V+(b<<14&4294967295|b>>>18),b=C+(V^R&(I^V))+O[12]+2368359562&4294967295,C=I+(b<<20&4294967295|b>>>12),b=R+(C^I^V)+O[5]+4294588738&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^I)+O[8]+2272392833&4294967295,V=R+(b<<11&4294967295|b>>>21),b=I+(V^R^C)+O[11]+1839030562&4294967295,I=V+(b<<16&4294967295|b>>>16),b=C+(I^V^R)+O[14]+4259657740&4294967295,C=I+(b<<23&4294967295|b>>>9),b=R+(C^I^V)+O[1]+2763975236&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^I)+O[4]+1272893353&4294967295,V=R+(b<<11&4294967295|b>>>21),b=I+(V^R^C)+O[7]+4139469664&4294967295,I=V+(b<<16&4294967295|b>>>16),b=C+(I^V^R)+O[10]+3200236656&4294967295,C=I+(b<<23&4294967295|b>>>9),b=R+(C^I^V)+O[13]+681279174&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^I)+O[0]+3936430074&4294967295,V=R+(b<<11&4294967295|b>>>21),b=I+(V^R^C)+O[3]+3572445317&4294967295,I=V+(b<<16&4294967295|b>>>16),b=C+(I^V^R)+O[6]+76029189&4294967295,C=I+(b<<23&4294967295|b>>>9),b=R+(C^I^V)+O[9]+3654602809&4294967295,R=C+(b<<4&4294967295|b>>>28),b=V+(R^C^I)+O[12]+3873151461&4294967295,V=R+(b<<11&4294967295|b>>>21),b=I+(V^R^C)+O[15]+530742520&4294967295,I=V+(b<<16&4294967295|b>>>16),b=C+(I^V^R)+O[2]+3299628645&4294967295,C=I+(b<<23&4294967295|b>>>9),b=R+(I^(C|~V))+O[0]+4096336452&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~I))+O[7]+1126891415&4294967295,V=R+(b<<10&4294967295|b>>>22),b=I+(R^(V|~C))+O[14]+2878612391&4294967295,I=V+(b<<15&4294967295|b>>>17),b=C+(V^(I|~R))+O[5]+4237533241&4294967295,C=I+(b<<21&4294967295|b>>>11),b=R+(I^(C|~V))+O[12]+1700485571&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~I))+O[3]+2399980690&4294967295,V=R+(b<<10&4294967295|b>>>22),b=I+(R^(V|~C))+O[10]+4293915773&4294967295,I=V+(b<<15&4294967295|b>>>17),b=C+(V^(I|~R))+O[1]+2240044497&4294967295,C=I+(b<<21&4294967295|b>>>11),b=R+(I^(C|~V))+O[8]+1873313359&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~I))+O[15]+4264355552&4294967295,V=R+(b<<10&4294967295|b>>>22),b=I+(R^(V|~C))+O[6]+2734768916&4294967295,I=V+(b<<15&4294967295|b>>>17),b=C+(V^(I|~R))+O[13]+1309151649&4294967295,C=I+(b<<21&4294967295|b>>>11),b=R+(I^(C|~V))+O[4]+4149444226&4294967295,R=C+(b<<6&4294967295|b>>>26),b=V+(C^(R|~I))+O[11]+3174756917&4294967295,V=R+(b<<10&4294967295|b>>>22),b=I+(R^(V|~C))+O[2]+718787259&4294967295,I=V+(b<<15&4294967295|b>>>17),b=C+(V^(I|~R))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+V&4294967295}s.prototype.v=function(D,R){R===void 0&&(R=D.length);const C=R-this.blockSize,O=this.C;let I=this.h,V=0;for(;V<R;){if(I==0)for(;V<=C;)o(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<R;)if(O[I++]=D.charCodeAt(V++),I==this.blockSize){o(this,O),I=0;break}}else for(;V<R;)if(O[I++]=D[V++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=R},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)D[R++]=this.g[C]>>>O&255;return D};function h(D,R){var C=y;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=R(D)}function d(D,R){this.h=R;const C=[];let O=!0;for(let I=D.length-1;I>=0;I--){const V=D[I]|0;O&&V==R||(C[I]=V,O=!1)}this.g=C}var y={};function v(D){return-128<=D&&D<128?h(D,function(R){return new d([R|0],R<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return $(_(-D));const R=[];let C=1;for(let O=0;D>=C;O++)R[O]=D/C|0,C*=4294967296;return new d(R,0)}function A(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return $(A(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(R,8));let O=S;for(let V=0;V<D.length;V+=8){var I=Math.min(8,D.length-V);const b=parseInt(D.substring(V,V+I),R);I<8?(I=_(Math.pow(R,I)),O=O.j(I).add(_(b))):(O=O.j(C),O=O.add(_(b)))}return O}var S=v(0),N=v(1),P=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-$(this).m();let D=0,R=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);D+=(O>=0?O:4294967296+O)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+$(this).toString(D);const R=_(Math.pow(D,6));var C=this;let O="";for(;;){const I=ct(C,R).g;C=dt(C,I.j(R));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=I,J(C))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=dt(this,D),W(D)?-1:J(D)?0:1};function $(D){const R=D.g.length,C=[];for(let O=0;O<R;O++)C[O]=~D.g[O];return new d(C,~D.h).add(N)}r.abs=function(){return W(this)?$(this):this},r.add=function(D){const R=Math.max(this.g.length,D.g.length),C=[];let O=0;for(let I=0;I<=R;I++){let V=O+(this.i(I)&65535)+(D.i(I)&65535),b=(V>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);O=b>>>16,V&=65535,b&=65535,C[I]=b<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(D,R){return D.add($(R))}r.j=function(D){if(J(this)||J(D))return S;if(W(this))return W(D)?$(this).j($(D)):$($(this).j(D));if(W(D))return $(this.j($(D)));if(this.l(P)<0&&D.l(P)<0)return _(this.m()*D.m());const R=this.g.length+D.g.length,C=[];for(var O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<D.g.length;I++){const V=this.i(O)>>>16,b=this.i(O)&65535,yt=D.i(I)>>>16,Dt=D.i(I)&65535;C[2*O+2*I]+=b*Dt,mt(C,2*O+2*I),C[2*O+2*I+1]+=V*Dt,mt(C,2*O+2*I+1),C[2*O+2*I+1]+=b*yt,mt(C,2*O+2*I+1),C[2*O+2*I+2]+=V*yt,mt(C,2*O+2*I+2)}for(D=0;D<R;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=R;D<2*R;D++)C[D]=0;return new d(C,0)};function mt(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ut(D,R){this.g=D,this.h=R}function ct(D,R){if(J(R))throw Error("division by zero");if(J(D))return new ut(S,S);if(W(D))return R=ct($(D),R),new ut($(R.g),$(R.h));if(W(R))return R=ct(D,$(R)),new ut($(R.g),R.h);if(D.g.length>30){if(W(D)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var C=N,O=R;O.l(D)<=0;)C=Ct(C),O=Ct(O);var I=wt(C,1),V=wt(O,1);for(O=wt(O,2),C=wt(C,2);!J(O);){var b=V.add(O);b.l(D)<=0&&(I=I.add(C),V=b),O=wt(O,1),C=wt(C,1)}return R=dt(D,I.j(R)),new ut(I,R)}for(I=S;D.l(R)>=0;){for(C=Math.max(1,Math.floor(D.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=_(C),b=V.j(R);W(b)||b.l(D)>0;)C-=O,V=_(C),b=V.j(R);J(V)&&(V=N),I=I.add(V),D=dt(D,b)}return new ut(I,D)}r.B=function(D){return ct(this,D).h},r.and=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)&D.i(O);return new d(C,this.h&D.h)},r.or=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)|D.i(O);return new d(C,this.h|D.h)},r.xor=function(D){const R=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)^D.i(O);return new d(C,this.h^D.h)};function Ct(D){const R=D.g.length+1,C=[];for(let O=0;O<R;O++)C[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(C,D.h)}function wt(D,R){const C=R>>5;R%=32;const O=D.g.length-C,I=[];for(let V=0;V<O;V++)I[V]=R>0?D.i(V+C)>>>R|D.i(V+C+1)<<32-R:D.i(V+C);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Na=d}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hv,Yl,fv,Wu,nd,dv,mv,gv;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[U].apply(T,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=u.length||0;const q=U.length||0;u.length=p+q;for(let tt=0;tt<q;tt++)u[p+tt]=U[tt]}else u.push(U)}}class W{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,p){const T=ut.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new W(()=>new ct,u=>u.reset());class ct{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,wt=!1,D=new mt,R=()=>{const u=Promise.resolve(void 0);Ct=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(p){$(p)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function yt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(yt,I),yt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Pt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function M(u){const m={};for(const p in u)m[p]=u[p];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<X.length;q++)p=X[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,p,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=bt(u,m,T,U);return tt>-1?(m=u[tt],p||(m.fa=!1)):(m=new et(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function _t(u,m){const p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ot(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function bt(u,m,p,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,p,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(u,m[q],p,T,U);return null}return p=Hr(p),u&&u[Dt]?u.J(m,p,y(T)?!!T.capture:!1,U):ka(u,m,p,!1,T,U)}function ka(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");const tt=y(U)?!!U.capture:!!U;let At=Pa(u);if(At||(u[Lt]=At=new st(u)),p=At.add(m,p,T,tt,q),p.proxy)return p;if(T=Ds(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)V||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Kn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ds(){function u(p){return m.call(u.src,u.listener,p)}const m=kr;return u}function Vs(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Vs(u,m[q],p,T,U);else T=y(T)?!!T.capture:!!T,p=Hr(p),u&&u[Dt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=bt(m,p,T,U),p>-1&&(ot(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Pa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,p,T,U)),(p=u>-1?m[u]:null)&&Ns(p))}function Ns(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Dt])_t(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Kn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Pa(m))?(_t(p,u),p.h==0&&(p.src=null,m[Lt]=null)):ot(u)}}}function Kn(u){return u in De?De[u]:De[u]="on"+u}function kr(u,m){if(u.da)u=!0;else{m=new yt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Ns(u),u=p.call(T,m)}return u}function Pa(u){return u=u[Lt],u instanceof st?u:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hr(u){return typeof u=="function"?u:(u[Pr]||(u[Pr]=function(m){return u.handleEvent(m)}),u[Pr])}function pe(){O.call(this),this.i=new st(this),this.M=this,this.G=null}S(pe,O),pe.prototype[Dt]=!0,pe.prototype.removeEventListener=function(u,m,p,T){Vs(this,u,m,p,T)};function Ve(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var U=m;m=new I(T,u),nt(m,U)}U=!0;let q,tt;if(p)for(tt=p.length-1;tt>=0;tt--)q=m.g=p[tt],U=Yi(q,T,!0,m)&&U;if(q=m.g=u,U=Yi(q,T,!0,m)&&U,U=Yi(q,T,!1,m)&&U,p)for(tt=0;tt<p.length;tt++)q=m.g=p[tt],U=Yi(q,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ot(p[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},pe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Yi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==p){const At=tt.listener,fe=tt.ha||tt.src;tt.fa&&_t(u.i,tt),U=At.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Uc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function yo(u){u.g=Uc(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ha(u){O.call(this),this.h=u,this.g={}}S(Ha,O);var Gr=[];function Qr(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ns(m)},u),u.g={}}Ha.prototype.N=function(){Ha.Z.N.call(this),Qr(this)},Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,Lc=d.JSON.parse,_o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vo(){}function Eo(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){I.call(this,"d")}S(Le,I);function Tn(){I.call(this,"c")}S(Tn,I);var he={},To=null;function Is(){return To=To||new pe}he.Ia="serverreachability";function Ao(u){I.call(this,he.Ia,u)}S(Ao,I);function Zn(u){const m=Is();Ve(m,new Ao(m))}he.STAT_EVENT="statevent";function Ga(u,m){I.call(this,he.STAT_EVENT,u),this.stat=m}S(Ga,I);function ye(u){const m=Is();Ve(m,new Ga(m,u))}he.Ja="timingevent";function Jn(u,m){I.call(this,he.Ja,u),this.size=m}S(Jn,I);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Bc(u,m,p,T,U,q){u.info(function(){if(u.g)if(q){var tt="",At=q.split("&");for(let Ht=0;Ht<At.length;Ht++){var fe=At[Ht].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Rn=re.split("_");tt=Rn.length>=2&&Rn[1]=="type"?tt+(re+"="+fe+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+tt})}function So(u,m,p,T,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+tt})}function Wn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jc(u,p)+(T?" "+T:"")})}function Qa(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function jc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Xi(q)}catch{return m}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yr;function Ya(){}S(Ya,vo),Ya.prototype.g=function(){return new XMLHttpRequest},Yr=new Ya;function Ri(u){return encodeURIComponent(String(u))}function bo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Ln(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function ti(u,m,p){u.M=1,u.A=Xa(Ee(m)),u.u=p,u.R=!0,xs(u,null)}function xs(u,m){u.F=Date.now(),ei(u),u.B=Ee(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Us(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Bn,u.g=jo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Gr[0]=U.toString()),U=Gr);for(let q=0;q<U.length;q++){const tt=se(p,U[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),Bc(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&kn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const At=kn(this.g),fe=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||fe==7||(fe==8||Ht<=0?Zn(3):Zn(2)),ni(this);var m=this.g.ca();this.X=m;var p=qc(this);if(this.o=m==200,So(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var q=T;break e}}q=null}if(u=q)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ii(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<p.length;)if(re=wo(this,p),re==xe){At==4&&(this.m=4,ye(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),Wn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,re,null),ii(this,re);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),An(this);else if(p.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),ol(tt),tt.P=!0,ye(11))}}else Wn(this.i,this.l,p,null),ii(this,p);At==4&&cn(this),this.o&&!this.K&&(At==4?zo(this.j,this):(this.o=!1,ei(this)))}else Ci(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),An(this)}}}catch{}finally{}};function qc(u){if(!Ro(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,U=kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Ro(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?xe:(p=Number(m.substring(p,T)),isNaN(p)?_e:(T+=1,T+p>m.length?xe:(m=m.slice(T,T+p),u.C=T+p,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function ei(u){u.T=Date.now()+u.H,Ms(u,u.H)}function Ms(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(_(u.aa,u),m)}function ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qa(this.i,this.B),this.M!=2&&(Zn(),ye(17)),cn(this),this.m=2,An(this)):Ms(this,this.T-u)};function An(u){u.j.I==0||u.K||zo(u.j,u)}function cn(u){ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Qr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ii(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||si(p.h,u))){if(!u.L&&si(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)ks(p),na(p);else break t;es(p),ye(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=$n(_(p.Va,p),6e3));ai(p.h)<=1&&p.ta&&(p.ta=void 0)}else hi(p,11)}else if((u.L||p.g==u)&&ks(p),!b(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const re=Ht[0];if(!(re<=p.K))if(p.K=re,Ht=Ht[1],p.I==2)if(Ht[0]=="c"){p.M=Ht[1],p.ba=Ht[2];const Rn=Ht[3];Rn!=null&&(p.ka=Rn,p.j.info("VER="+p.ka));const fi=Ht[4];fi!=null&&(p.za=fi,p.j.info("SVER="+p.za));const Pn=Ht[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Hn=u.g;if(Hn){const ns=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var q=T.h;q.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Zr(q,q.h),q.h=null))}if(T.G){const Ps=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(T.wa=Ps,Ft(T.J,T.G,Ps))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var tt=u;if(T.na=Bo(T,T.L?T.ba:null,T.W),tt.L){Jr(T.h,tt);var At=tt,fe=T.O;fe&&(At.H=fe),At.D&&(ni(At),ei(At)),T.g=tt}else Mo(T);p.i.length>0&&ci(p)}else Ht[0]!="stop"&&Ht[0]!="close"||hi(p,7);else p.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?hi(p,7):rl(p):Ht[0]!="noop"&&p.l&&p.l.qa(Ht),p.A=0)}}Zn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Xr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zr(u,m){u.g?u.g.add(m):u.h=m}function Jr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Xr.prototype.cancel=function(){if(this.i=$r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $r(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return P(u.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let U,q=null;T>=0?(U=u[p].substring(0,T),q=u[p].substring(T+1)):U=u[p],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.u),this.h=u.h,Wr(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(Co))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),Ki(this,m[4]),this.h=ri(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new Ji(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ka(m,zs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ka(m,zs,!0),"@"),u.push(Ri(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ka(p,p.charAt(0)=="/"?tl:Do,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ka(p,Vo)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Ki(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let tt=0;tt<U.length;){const At=U[tt++];At=="."?T&&tt==U.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==U.length&&q.push("")):(q.push(At),T=!0)}T=q.join("/")}else T=U}return p?m.h=T:p=u.i.toString()!=="",p?Wr(m,Io(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ee(u){return new hn(u)}function Me(u,m,p){u.j=p?ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Wr(u,m,p){m instanceof Ji?(u.i=m,Ls(u.i,u.l)):(p||(m=Ka(m,Zi)),u.i=new Ji(m,u.l))}function Ft(u,m,p){u.i.set(m,p)}function Xa(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ka(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zs=/[#\/\?@]/g,Do=/[#\?:]/g,tl=/[#\?]/g,Zi=/[#\?@]/g,Vo=/#/g;function Ji(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Os(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Ji.prototype,r.add=function(u,m){tn(this),this.i=null,u=$i(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function No(u,m){tn(u),m=$i(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function el(u,m){return tn(u),m=$i(u,m),u.g.has(m)}r.forEach=function(u,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)};function nl(u,m){tn(u);let p=[];if(typeof m=="string")el(u,m)&&(p=p.concat(u.g.get($i(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return tn(this),this.i=null,u=$i(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=nl(this,u),u.length>0?String(u[0]):m):m};function Us(u,m,p){No(u,m),p.length>0&&(u.i=null,u.g.set($i(u,m),P(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ri(p);p=nl(this,p);for(let q=0;q<p.length;q++){let tt=U;p[q]!==""&&(tt+="="+Ri(p[q])),u.push(tt)}}return this.i=u.join("&")};function Io(u){const m=new Ji;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function $i(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ls(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(No(this,T),Us(this,U,p))},u)),u.j=m}function jn(u,m){const p=new Un;if(d.Image){const T=new Image;T.onload=A(Sn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function il(u,m){const p=new Un,T=new AbortController,U=setTimeout(()=>{T.abort(),Sn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Sn(p,"TestPingServer: ok",!0,m):Sn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(p,"TestPingServer: error",!1,m)})}function Sn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Wi(){this.g=new _o}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}S(li,vo),li.prototype.g=function(){return new Za(this.i,this.h)};function Za(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Za,pe),r=Za.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ta(this):qn(this),this.readyState==3&&Bs(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ta(this))},r.Na=function(u){this.g&&(this.response=u,ta(this))},r.ga=function(){this.g&&ta(this)};function ta(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ja(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=bn(p),typeof u=="string"?p!=null&&Ri(p):Ft(u,m,p))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var oi=/^https?$/i,al=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yr.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){$a(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(al,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){$a(this,q)}};function $a(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,sl(u),wi(u)}function sl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Wa(this):this.Xa())},r.Xa=function(){Wa(this)};function Wa(u){if(u.h&&typeof h<"u"){if(u.v&&kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),kn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let tt=String(u.D).match(Co)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!oi.test(tt?tt.toLowerCase():"")}p=T}if(p)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var U=kn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",sl(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ve(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(u){const m={};u=(u.g&&kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var p=bo(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}Pt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ea(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,u),this.Za=ui("retryDelaySeedMs",1e4,u),this.Ta=ui("forwardChannelMaxRetries",2,u),this.va=ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Xr(u&&u.concurrentRequestLimit),this.Ba=new Wi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ea.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){ye(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Bo(this,null,this.W),ci(this)};function rl(u){if(js(u),u.I==3){var m=u.V++,p=Ee(u.J);if(Ft(p,"SID",u.M),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),ts(u,p),m=new Ln(u,u.j,m),m.M=2,m.A=Xa(Ee(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=jo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}Lo(u)}function na(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function js(u){na(u),u.v&&(d.clearTimeout(u.v),u.v=null),ks(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ci(u){if(!Kr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ct||R(),wt||(Ct(),wt=!0),D.add(m,u),u.D=0}}function qs(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(_(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ln(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=xo(this,U,m),p=Ee(this.J),Ft(p,"RID",u),Ft(p,"CVER",22),this.G&&Ft(p,"X-HTTP-Session-Id",this.G),ts(this,p),q&&(this.R?m="headers="+Ri(bn(q))+"&"+m:this.u&&Ja(p,this.u,q)),Zr(this.h,U),this.Ra&&Ft(p,"TYPE","init"),this.S?(Ft(p,"$req",m),Ft(p,"SID","null"),U.U=!0,ti(U,p,null)):ti(U,p,m),this.I=2}}else this.I==3&&(u?ll(this,u):this.i.length==0||Kr(this.h)||ll(this))};function ll(u,m){var p;m?p=m.l:p=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",p),Ft(T,"AID",u.K),ts(u,T),u.u&&u.o&&Ja(T,u.u,u.o),p=new Ln(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zr(u.h,p),ti(p,T,m)}function ts(u,m){u.H&&zt(u.H,function(p,T){Ft(m,T,p)}),u.l&&zt({},function(p,T){Ft(m,T,p)})}function xo(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const fe=["count="+p];At==-1?p>0?(At=U[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let Ht=!0;for(let re=0;re<p;re++){var q=U[re].g;const Rn=U[re].map;if(q-=At,q<0)At=Math.max(0,U[re].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var tt=Rn instanceof Map?Rn:Object.entries(Rn);for(const[fi,Pn]of tt){let Hn=Pn;y(Pn)&&(Hn=Xi(Pn)),fe.push(q+fi+"="+encodeURIComponent(Hn))}}catch(fi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),fi}}catch{T&&T(Rn)}}if(Ht){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,p),m.G=u,tt}function Mo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ct||R(),wt||(Ct(),wt=!0),D.add(m,u),u.A=0}}function es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(_(u.Da,u),Uo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),na(this),Oo(this))};function ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Oo(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),ts(u,m),u.u&&u.o&&Ja(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Xa(Ee(m)),p.u=null,p.R=!0,xs(p,u)}r.Va=function(){this.C!=null&&(this.C=null,na(this),es(this),ye(19))};function ks(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function zo(u,m){var p=null;if(u.g==m){ks(u),ol(u),u.g=null;var T=2}else if(si(u.h,m))p=m.G,Jr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Is(),Ve(T,new Jn(T,p)),ci(u)}else Mo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&qs(u,m)||T==2&&es(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),U){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Uo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const U=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Xa(T),U?jn(T.toString(),p):il(T.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),Lo(u),js(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=$r(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Bo(u,m,p){var T=p instanceof hn?Ee(p):new hn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ki(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new hn(null);T&&Me(q,T),m&&(q.g=m),U&&Ki(q,U),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Ft(T,p,m),Ft(T,"VER",u.ka),ts(u,T),T}function jo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new li({ab:p})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qo(){}r=qo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ia(){}ia.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}S(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){rl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Xi(u),u=p);m.i.push(new ve(m.Ya++,u)),m.I==3&&ci(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,Je.Z.N.call(this)};function ko(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(ko,Le);function Po(){Tn.call(this),this.status=1}S(Po,Tn);function Di(u){this.g=u}S(Di,qo),Di.prototype.ra=function(){Ve(this.g,"a")},Di.prototype.qa=function(u){Ve(this.g,new ko(u))},Di.prototype.pa=function(u){Ve(this.g,new Po)},Di.prototype.oa=function(){Ve(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,gv=function(){return new ia},mv=function(){return Is()},dv=he,nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,Wu=Fa,Fr.COMPLETE="complete",fv=Fr,Eo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Yl=Eo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,hv=Kt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore",Jy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new av("@firebase/firestore");function Er(){return Ss.logLevel}function at(r,...e){if(Ss.logLevel<=jt.DEBUG){const i=e.map(bd);Ss.debug(`Firestore (${Ur}): ${r}`,...i)}}function Qi(r,...e){if(Ss.logLevel<=jt.ERROR){const i=e.map(bd);Ss.error(`Firestore (${Ur}): ${r}`,...i)}}function Vr(r,...e){if(Ss.logLevel<=jt.WARN){const i=e.map(bd);Ss.warn(`Firestore (${Ur}): ${r}`,...i)}}function bd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,pv(r,s,i)}function pv(r,e,i){let s=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Qi(s),new Error(s)}function Qt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||pv(e,o,s)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends zr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class jA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ia,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ia)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new yv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class kA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new kA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,SA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $y(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $y(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Mt(r,e){return r<e?-1:r>e?1:0}function id(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return Qf(o)===Qf(h)?Mt(o,h):Qf(o)?1:-1}return Mt(r.length,e.length)}const QA=55296,FA=57343;function Qf(r){const e=r.charCodeAt(0);return e>=QA&&e<=FA}function Nr(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="__name__";class yi{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=yi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const s=yi.isNumericId(e),o=yi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(i)):id(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class ee extends yi{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new it(F.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends yi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wy}static keyField(){return new Ge([Wy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new it(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new it(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(h(),o++)}if(h(),d)throw new it(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ee.fromString(e))}static fromName(e){return new ft(ee.fromString(e).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r,e,i){if(!i)throw new it(F.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function XA(r,e,i,s){if(e===!0&&s===!0)throw new it(F.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function t_(r){if(!ft.isDocumentKey(r))throw new it(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function e_(r){if(ft.isDocumentKey(r))throw new it(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Tc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function uc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tc(r);throw new it(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e){const i={typeString:r};return e&&(i.value=e),i}function co(r,e){if(!vv(r))throw new it(F.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new it(F.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,i_=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*i_);return new ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<n_)throw new it(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(co(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ce("string",ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new ae(0,0))}static max(){return new vt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function KA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new Ma(o,ft.empty(),e)}function ZA(r){return new Ma(r.readTime,r.key,io)}class Ma{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ma(vt.min(),ft.empty(),io)}static max(){return new Ma(vt.max(),ft.empty(),io)}}function JA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:Mt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lr(r){if(r.code!==F.FAILED_PRECONDITION||r.message!==$A)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,s)=>{i(e)}))}static reject(e){return new K(((i,s)=>{s(e)}))}static waitFor(e){return new K(((i,s)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next((o=>o?K.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new K(((s,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new K(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function tS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Br(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=-1;function Sc(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function eS(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="";function nS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=a_(e)),e=iS(r.get(i),e);return a_(e)}function iS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Ev:i+="";break;default:i+=h}}return i}function a_(r){return r+Ev+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ja(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Tv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new He(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new En([])}unionWith(e){let i=new Ie(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new En(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Nr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Av("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const aS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(Qt(!!r,39018),typeof r=="string"){let e=0;const i=aS.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function za(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="server_timestamp",bv="__type__",Rv="__previous_value__",wv="__local_write_time__";function Cd(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[bv])==null?void 0:s.stringValue)===Sv}function bc(r){const e=r.mapValue.fields[Rv];return Cd(e)?bc(e):e}function ao(r){const e=Oa(r.mapValue.fields[wv].timestampValue);return new ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,i,s,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const hc="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__type__",rS="__max__",Xu={mapValue:{}},Dv="__vector__",fc="value";function Ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cd(r)?4:oS(r)?9007199254740991:lS(r)?10:11:pt(28295,{value:r})}function Si(r,e){if(r===e)return!0;const i=Ua(r);if(i!==Ua(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Oa(o.timestampValue),y=Oa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return za(o.bytesValue).isEqual(za(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),y=ge(h.doubleValue);return d===y?cc(d)===cc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Nr(r.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(s_(d)!==s_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Si(d[v],y[v])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function ro(r,e){return(r.values||[]).find((i=>Si(i,e)))!==void 0}function Ir(r,e){if(r===e)return 0;const i=Ua(r),s=Ua(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return l_(r.timestampValue,e.timestampValue);case 4:return l_(ao(r),ao(e));case 5:return id(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=za(h),v=za(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Mt(y[_],v[_]);if(A!==0)return A}return Mt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Mt(ge(h.latitude),ge(d.latitude));return y!==0?y:Mt(ge(h.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return o_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var N,P,J,W;const y=h.fields||{},v=d.fields||{},_=(N=y[fc])==null?void 0:N.arrayValue,A=(P=v[fc])==null?void 0:P.arrayValue,S=Mt(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((W=A==null?void 0:A.values)==null?void 0:W.length)||0);return S!==0?S:o_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Xu.mapValue&&d===Xu.mapValue)return 0;if(h===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const N=id(v[S],A[S]);if(N!==0)return N;const P=Ir(y[v[S]],_[A[S]]);if(P!==0)return P}return Mt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function l_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Mt(r,e);const i=Oa(r),s=Oa(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function o_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Ir(i[o],s[o]);if(h)return h}return Mt(i.length,s.length)}function xr(r){return ad(r)}function ad(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Oa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return za(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=ad(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${ad(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function tc(r){switch(Ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bc(r);return e?16+tc(e):16;case 5:return 2*r.stringValue.length;case 6:return za(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+tc(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ja(s.fields,((h,d)=>{o+=h.length+tc(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function u_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sd(r){return!!r&&"integerValue"in r}function Dd(r){return!!r&&"arrayValue"in r}function c_(r){return!!r&&"nullValue"in r}function h_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function lS(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[Cv])==null?void 0:s.stringValue)===Dv}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ja(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return{...r}}function oS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===rS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=y.popLast()}d?s[y.lastSegment()]=Jl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ja(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new un(Jl(this.value))}}function Vv(r){const e=[];return ja(r.fields,((i,s)=>{const o=new Ge([i]);if(ec(s)){const h=Vv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,vt.min(),vt.min(),vt.min(),un.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,vt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,vt.min(),vt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,vt.min(),vt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function f_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=Ir(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function d_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Si(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,i="asc"){this.field=e,this.dir=i}}function uS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class we extends Nv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new hS(e,i,s):i==="array-contains"?new mS(e,s):i==="in"?new gS(e,s):i==="not-in"?new pS(e,s):i==="array-contains-any"?new yS(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new fS(e,s):new dS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ir(i,this.value)):i!==null&&Ua(this.value)===Ua(i)&&this.matchesComparison(Ir(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xn(e,i)}matches(e){return Iv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Iv(r){return r.op==="and"}function xv(r){return cS(r)&&Iv(r)}function cS(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function rd(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+xr(r.value);if(xv(r))return r.filters.map((e=>rd(e))).join(",");{const e=r.filters.map((i=>rd(i))).join(",");return`${r.op}(${e})`}}function Mv(r,e){return r instanceof we?(function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)})(r,e):r instanceof Xn?(function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,y)=>h&&Mv(d,o.filters[y])),!0):!1})(r,e):void pt(19439)}function Ov(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${xr(i.value)}`})(r):r instanceof Xn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"})(r):"Filter"}class hS extends we{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class fS extends we{constructor(e,i){super(e,"in",i),this.keys=zv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dS extends we{constructor(e,i){super(e,"not-in",i),this.keys=zv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function zv(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>ft.fromName(s.referenceValue)))}class mS extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&ro(i.arrayValue,this.value)}}class gS extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class pS extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ro(this.value.arrayValue,i)}}class yS extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ro(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i=null,s=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function m_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new _S(r,e,i,s,o,h,d)}function Vd(r){const e=Tt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>rd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>xr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>xr(s))).join(",")),e.Te=i}return e.Te}function Nd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!uS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Mv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!d_(r.startAt,e.startAt)&&d_(r.endAt,e.endAt)}function ld(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,i=null,s=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vS(r,e,i,s,o,h,d,y){return new jr(r,e,i,s,o,h,d,y)}function Uv(r){return new jr(r)}function g_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Lv(r){return r.collectionGroup!==null}function $l(r){const e=Tt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new lo(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new lo(Ge.keyField(),s))}return e.Ie}function _i(r){const e=Tt(r);return e.Ee||(e.Ee=ES(e,$l(r))),e.Ee}function ES(r,e){if(r.limitType==="F")return m_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new lo(o.field,h)}));const i=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return m_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function od(r,e){const i=r.filters.concat([e]);return new jr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function ud(r,e,i){return new jr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Rc(r,e){return Nd(_i(r),_i(e))&&r.limitType===e.limitType}function Bv(r){return`${Vd(_i(r))}|lt:${r.limitType}`}function Tr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Ov(o))).join(", ")}]`),Sc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>xr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>xr(o))).join(",")),`Target(${s})`})(_i(r))}; limitType=${r.limitType})`}function wc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of $l(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,v){const _=f_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,$l(s),o)||s.endAt&&!(function(d,y,v){const _=f_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,$l(s),o))})(r,e)}function TS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jv(r){return(e,i)=>{let s=!1;for(const o of $l(r)){const h=AS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function AS(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ir(v,_):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new oe(ft.comparator);function Fi(){return SS}const qv=new oe(ft.comparator);function Xl(...r){let e=qv;for(const i of r)e=e.insert(i.key,i);return e}function kv(r){let e=qv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function As(){return Wl()}function Pv(){return Wl()}function Wl(){return new Rs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const bS=new oe(ft.comparator),RS=new Ie(ft.comparator);function Ot(...r){let e=RS;for(const i of r)e=e.add(i);return e}const wS=new Ie(Mt);function CS(){return wS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function Hv(r){return{integerValue:""+r}}function DS(r,e){return eS(e)?Hv(e):Id(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function VS(r,e,i){return r instanceof mc?(function(o,h){const d={fields:{[bv]:{stringValue:Sv},[wv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Cd(h)&&(h=bc(h)),h&&(d.fields[Rv]=h),{mapValue:d}})(i,e):r instanceof oo?Qv(r,e):r instanceof uo?Fv(r,e):(function(o,h){const d=Gv(o,h),y=p_(d)+p_(o.Ae);return sd(d)&&sd(o.Ae)?Hv(y):Id(o.serializer,y)})(r,e)}function NS(r,e,i){return r instanceof oo?Qv(r,e):r instanceof uo?Fv(r,e):i}function Gv(r,e){return r instanceof gc?(function(s){return sd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class mc extends Cc{}class oo extends Cc{constructor(e){super(),this.elements=e}}function Qv(r,e){const i=Yv(e);for(const s of r.elements)i.some((o=>Si(o,s)))||i.push(s);return{arrayValue:{values:i}}}class uo extends Cc{constructor(e){super(),this.elements=e}}function Fv(r,e){let i=Yv(e);for(const s of r.elements)i=i.filter((o=>!Si(o,s)));return{arrayValue:{values:i}}}class gc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function p_(r){return ge(r.integerValue||r.doubleValue)}function Yv(r){return Dd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function IS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?Nr(s.elements,o.elements,Si):s instanceof gc&&o instanceof gc?Si(s.Ae,o.Ae):s instanceof mc&&o instanceof mc})(r.transform,e.transform)}class xS{constructor(e,i){this.version=e,this.transformResults=i}}class Yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dc{}function Xv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xd(r.key,Yn.none()):new ho(r.key,r.data,Yn.none());{const i=r.data,s=un.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new qa(r.key,s,new En(o.toArray()),Yn.none())}}function MS(r,e,i){r instanceof ho?(function(o,h,d){const y=o.value.clone(),v=__(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof qa?(function(o,h,d){if(!nc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=__(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Kv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function to(r,e,i,s){return r instanceof ho?(function(h,d,y,v){if(!nc(h.precondition,d))return y;const _=h.value.clone(),A=v_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof qa?(function(h,d,y,v){if(!nc(h.precondition,d))return y;const _=v_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Kv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(h,d,y){return nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function OS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Gv(s.transform,o||null);h!=null&&(i===null&&(i=un.empty()),i.set(s.field,h))}return i||null}function y_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Nr(s,o,((h,d)=>IS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ho extends Dc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qa extends Dc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Kv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function __(r,e,i){const s=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);s.set(h.field,NS(d,y,i[o]))}return s}function v_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,VS(h,d,e))}return s}class xd extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zS extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&MS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Pv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=Xv(d,y);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,((i,s)=>y_(i,s)))&&Nr(this.baseMutations,e.baseMutations,((i,s)=>y_(i,s)))}}class Md{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return bS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Md(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Bt;function jS(r){switch(r){case F.OK:return pt(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function Zv(r){if(r===void 0)return Qi("GRPC error has no .code"),F.UNKNOWN;switch(r){case Re.OK:return F.OK;case Re.CANCELLED:return F.CANCELLED;case Re.UNKNOWN:return F.UNKNOWN;case Re.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Re.INTERNAL:return F.INTERNAL;case Re.UNAVAILABLE:return F.UNAVAILABLE;case Re.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Re.NOT_FOUND:return F.NOT_FOUND;case Re.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Re.ABORTED:return F.ABORTED;case Re.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Re.DATA_LOSS:return F.DATA_LOSS;default:return pt(39323,{code:r})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Na([4294967295,4294967295],0);function E_(r){const e=qS().encode(r),i=new cv;return i.update(e),new Uint8Array(i.digest())}function T_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Na([i,s],0),new Na([o,h],0)]}class Od{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Na.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Na.fromNumber(s)));return o.compare(kS)===1&&(o=new Na([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=E_(e),[s,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Od(h,o,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=E_(e),[s,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Vc(vt.min(),o,new oe(Mt),Fi(),Ot())}}class fo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fo(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Jv{constructor(e,i){this.targetId=e,this.Ce=i}}class $v{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class A_{constructor(){this.ve=0,this.Fe=S_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:h})}})),new fo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=S_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.Je=Ku(),this.He=Ku(),this.Ye=new oe(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ld(h))if(s===0){const d=new ft(h.path);this.et(i,d,Ke.newNoDocument(d,vt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=za(s).toUint8Array()}catch(v){if(v instanceof Av)return Vr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Od(d,o,h)}catch(v){return Vr(v instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&ld(y.target)){const v=new ft(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Ot();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Vc(e,i,this.Ye,this.je,s);return this.je=Fi(),this.Je=Ku(),this.He=Ku(),this.Ye=new oe(Mt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new A_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ku(){return new oe(ft.comparator)}function S_(){return new oe(ft.comparator)}const HS={asc:"ASCENDING",desc:"DESCENDING"},GS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QS={and:"AND",or:"OR"};class FS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cd(r,e){return r.useProto3Json||Sc(e)?e:{value:e}}function pc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function YS(r,e){return pc(r,e.toTimestamp())}function vi(r){return Qt(!!r,49232),vt.fromTimestamp((function(i){const s=Oa(i);return new ae(s.seconds,s.nanos)})(r))}function zd(r,e){return hd(r,e).canonicalString()}function hd(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function t0(r){const e=ee.fromString(r);return Qt(s0(e),10190,{key:e.toString()}),e}function fd(r,e){return zd(r.databaseId,e.path)}function Ff(r,e){const i=t0(e);if(i.get(1)!==r.databaseId.projectId)throw new it(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(n0(i))}function e0(r,e){return zd(r.databaseId,e)}function XS(r){const e=t0(r);return e.length===4?ee.emptyPath():n0(e)}function dd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function n0(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b_(r,e,i){return{name:fd(r,e),fields:i.value.mapValue.fields}}function KS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?F.UNKNOWN:Zv(_.code);return new it(A,_.message||"")})(d);i=new $v(s,o,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ff(r,s.document.name),h=vi(s.document.updateTime),d=s.document.createTime?vi(s.document.createTime):vt.min(),y=new un({mapValue:{fields:s.document.fields}}),v=Ke.newFoundDocument(o,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new ic(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ff(r,s.document),h=s.readTime?vi(s.readTime):vt.min(),d=Ke.newNoDocument(o,h),y=s.removedTargetIds||[];i=new ic([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ff(r,s.document),h=s.removedTargetIds||[];i=new ic([],h,o,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new BS(o,h),y=s.targetId;i=new Jv(y,d)}}return i}function ZS(r,e){let i;if(e instanceof ho)i={update:b_(r,e.key,e.value)};else if(e instanceof xd)i={delete:fd(r,e.key)};else if(e instanceof qa)i={update:b_(r,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof zS))return pt(16599,{Vt:e.type});i={verify:fd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof gc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:YS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)})(r,e.precondition)),i}function JS(r,e){return r&&r.length>0?(Qt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?vi(o.updateTime):vi(h);return d.isEqual(vt.min())&&(d=vi(h)),new xS(d,o.transformResults||[])})(i,e)))):[]}function $S(r,e){return{documents:[e0(r,e.path)]}}function WS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=e0(r,o);const h=(function(_){if(_.length!==0)return a0(Xn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:Ar(N.field),direction:n2(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=cd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function t2(r){let e=XS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const N=i0(S);return N instanceof Xn&&xv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(J){return new lo(Sr(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let N;return N=typeof S=="object"?S.value:S,Sc(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(S){const N=!!S.before,P=S.values||[];return new dc(P,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,P=S.values||[];return new dc(P,N)})(i.endAt)),vS(e,o,d,h,y,"F",v,_)}function e2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function i0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Sr(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Sr(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Sr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Sr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(Sr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xn.create(i.compositeFilter.filters.map((s=>i0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function n2(r){return HS[r]}function i2(r){return GS[r]}function a2(r){return QS[r]}function Ar(r){return{fieldPath:r.canonicalString()}}function Sr(r){return Ge.fromServerFormat(r.fieldPath)}function a0(r){return r instanceof we?(function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(i.field),op:i2(i.op),value:i.value}}})(r):r instanceof Xn?(function(i){const s=i.getFilters().map((o=>a0(o)));return s.length===1?s[0]:{compositeFilter:{op:a2(i.op),filters:s}}})(r):pt(54877,{filter:r})}function s2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function s0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i,s,o,h=vt.min(),d=vt.min(),y=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.yt=e}}function l2(r){const e=t2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Cn=new u2}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Ma.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class u2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ie(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ie(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(r0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mr(0)}static cr(){return new Mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",c2=1048576;function C_([r,e],[i,s]){const o=Mt(r,i);return o===0?Mt(e,s):o}class h2{constructor(e){this.Ir=e,this.buffer=new Ie(C_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();C_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class f2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Br(i)?at(w_,"Ignoring IndexedDB error during garbage collection: ",i):await Lr(i)}await this.Vr(3e5)}))}}class d2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(Ac.ce);const s=new h2(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(R_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,y=Date.now(),this.removeTargets(e,s,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(_=Date.now(),Er()<=jt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function m2(r,e){return new d2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.changes=new Rs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&to(s.mutation,o,En.empty(),ae.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ot()){const o=As();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Xl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=As();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ot())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,o){let h=Fi();const d=Wl(),y=(function(){return Wl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof qa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),to(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,En.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new p2(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Wl();let o=new oe(((d,y)=>d-y)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||En.empty();A=y.applyToLocalView(_,A),s.set(v,A);const S=(o.get(y.batchId)||Ot()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,S=Pv();A.forEach((N=>{if(!h.has(N)){const P=Xv(i.get(N),s.get(N));P!==null&&S.set(N,P),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Lv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(As());let y=io,v=h;return d.next((_=>K.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Ot()))).next((A=>({batchId:y,changes:kv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,h).next((y=>K.forEach(y,(v=>{const _=(function(S,N){return new jr(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let y=Xl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&to(A.mutation,_,En.empty(),ae.now()),wc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:l2(o.bundledQuery),readTime:vi(o.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.overlays=new oe(ft.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=As();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=As(),h=i.length+1,d=new ft(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=As(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=As(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return K.resolve(y)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new LS(i,s));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.Qr=new Ie(ze.$r),this.Ur=new Ie(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ft(new ee([])),s=new ze(i,e),o=new ze(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new ee([])),s=new ze(i,e),o=new ze(i,e+1);let h=Ot();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(ze.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new US(h,i,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?wd:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(Mt);return i.forEach((o=>{const h=new ze(o,0),d=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const d=new ze(new ft(h),0);let y=new Ie(Mt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,(o=>{const h=new ze(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.ri=e,this.docs=(function(){return new oe(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Fi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Fi();const d=i.path,y=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||JA(ZA(A),s)<=0||(o.has(A.key)||wc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}ii(e,i){return K.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new S2(this)}getSize(e){return K.resolve(this.size)}}class S2 extends g2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.persistence=e,this.si=new Rs((i=>Vd(i)),Nd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ud,this.targetCount=0,this.ai=Mr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Mr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ac(0),this.li=!1,this.li=!0,this.hi=new E2,this.referenceDelegate=e(this),this.Pi=new b2(this),this.indexManager=new o2,this.remoteDocumentCache=(function(o){return new A2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new r2(i),this.Ii=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new v2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new T2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new R2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class R2 extends WA{constructor(e){super(),this.currentSequenceNumber=e}}class Ld{constructor(e){this.persistence=e,this.Ri=new Ud,this.Vi=null}static mi(e){return new Ld(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const o=ft.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.pi=new Rs((s=>nS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=m2(this,i)}static mi(e,i){return new yc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}br(e,i,s){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Bd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E1()?8:tS(_1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new w2;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Er()<=jt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Tr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Er()<=jt.DEBUG&&at("QueryEngine","Query:",Tr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Er()<=jt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Tr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(i))):K.resolve())}ys(e,i){if(g_(i))return K.resolve(null);let s=_i(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ud(i,null,"F"),s=_i(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,ud(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return g_(i)||o.isEqual(vt.min())?K.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?K.resolve(null):(Er()<=jt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tr(i)),this.vs(e,d,i,KA(o,io)).next((y=>y)))}))}Ds(e,i){let s=new Ie(jv(e));return i.forEach(((o,h)=>{wc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return Er()<=jt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Tr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ma.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",D2=3e8;class V2{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Mt),this.xs=new Rs((h=>Vd(h)),Nd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function N2(r,e,i,s){return new V2(r,e,i,s)}async function o0(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function I2(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const S=_.batch,N=S.keys();let P=K.resolve();return N.forEach((J=>{P=P.next((()=>A.getEntry(v,J))).next((W=>{const $=_.docVersions.get(J);Qt($!==null,48541),W.version.compareTo($)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),P.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Ot();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function u0(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function x2(r,e){const i=Tt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const N=o.get(S);if(!N)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let P=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(A.resumeToken,s)),o=o.insert(S,P),(function(W,$,dt){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=D2?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(N,P,A)&&y.push(i.Pi.updateTargetData(h,P))}));let v=Fi(),_=Ot();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(M2(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return K.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function M2(r,e,i){let s=Ot(),o=Ot();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Fi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):at(jd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function O2(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function z2(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function md(r,e,i){const s=Tt(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Br(d))throw d;at(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function D_(r,e,i){const s=Tt(r);let o=vt.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=Tt(v),N=S.xs.get(A);return N!==void 0?K.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,A)})(s,d,_i(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?h:Ot()))).next((y=>(U2(s,TS(e),y),{documents:y,Qs:h})))))}function U2(r,e,i){let s=r.Os.get(e)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class V_{constructor(){this.activeTargetIds=CS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L2{constructor(){this.Mo=new V_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="ConnectivityMonitor";class I_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(N_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function gd(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",j2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===hc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=gd(),y=this.zo(e,i.toUriEncodedString());at(Yf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=Ad(_);return this.Jo(e,y,v,s,A).then((S=>(at(Yf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Vr(Yf,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",s),S}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ur})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=j2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class P2 extends q2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=gd();return new Promise(((y,v)=>{const _=new hv;_.setWithCredentials(!0),_.listenOnce(fv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Wu.NO_ERROR:const S=_.getResponseJson();at(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Wu.TIMEOUT:at(Ye,`RPC '${e}' ${d} timed out`),v(new it(F.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const N=_.getStatus();if(at(Ye,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const J=P==null?void 0:P.error;if(J&&J.status&&J.message){const W=(function(dt){const mt=dt.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(mt)>=0?mt:F.UNKNOWN})(J.status);v(new it(W,J.message))}else v(new it(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new it(F.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=gd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gv(),y=mv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let N=!1,P=!1;const J=new k2({Yo:$=>{P?at(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(N||(at(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),at(Ye,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Zo:()=>S.close()}),W=($,dt,mt)=>{$.listen(dt,(ut=>{try{mt(ut)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return W(S,Yl.EventType.OPEN,(()=>{P||(at(Ye,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),W(S,Yl.EventType.CLOSE,(()=>{P||(P=!0,at(Ye,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(S))})),W(S,Yl.EventType.ERROR,($=>{P||(P=!0,Vr(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new it(F.UNAVAILABLE,"The operation could not be completed")))})),W(S,Yl.EventType.MESSAGE,($=>{var dt;if(!P){const mt=$.data[0];Qt(!!mt,16349);const ut=mt,ct=(ut==null?void 0:ut.error)||((dt=ut[0])==null?void 0:dt.error);if(ct){at(Ye,`RPC '${e}' stream ${o} received error:`,ct);const Ct=ct.status;let wt=(function(C){const O=Re[C];if(O!==void 0)return Zv(O)})(Ct),D=ct.message;wt===void 0&&(wt=F.INTERNAL,D="Unknown error status: "+Ct+" with message "+ct.message),P=!0,J.a_(new it(wt,D)),S.close()}else at(Ye,`RPC '${e}' stream ${o} received:`,mt),J.u_(mt)}})),W(y,dv.STAT_EVENT,($=>{$.stat===nd.PROXY?at(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===nd.NOPROXY&&at(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r){return new FS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class h0{constructor(e,i,s,o,h,d,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new it(F.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H2 extends h0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=KS(this.serializer,e),s=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?vi(d.readTime):vt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=dd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=ld(v)?{documents:$S(h,v)}:{query:WS(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Wv(h,d.resumeToken);const _=cd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){y.readTime=pc(h,d.snapshotVersion.toTimestamp());const _=cd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=e2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=dd(this.serializer),i.removeTarget=e,this.q_(i)}}class G2 extends h0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=JS(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=dd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>ZS(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{}class F2 extends Q2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,hd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(F.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,hd(i,s),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(F.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Y2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class X2{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ws(this)&&(at(bs,"Restarting streams for network reachability change."),await(async function(v){const _=Tt(v);_.Ea.add(4),await mo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ic(_)})(this))}))})),this.Ra=new Y2(s,o)}}async function Ic(r){if(ws(r))for(const e of r.da)await e(!0)}async function mo(r){for(const e of r.da)await e(!1)}function f0(r,e){const i=Tt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Hd(i)?Pd(i):qr(i).O_()&&kd(i,e))}function qd(r,e){const i=Tt(r),s=qr(i);i.Ia.delete(e),s.O_()&&d0(i,e),i.Ia.size===0&&(s.O_()?s.L_():ws(i)&&i.Ra.set("Unknown"))}function kd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qr(r).Y_(e)}function d0(r,e){r.Va.Ue(e),qr(r).Z_(e)}function Pd(r){r.Va=new PS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),qr(r).start(),r.Ra.ua()}function Hd(r){return ws(r)&&!qr(r).x_()&&r.Ia.size>0}function ws(r){return Tt(r).Ea.size===0}function m0(r){r.Va=void 0}async function K2(r){r.Ra.set("Online")}async function Z2(r){r.Ia.forEach(((e,i)=>{kd(r,e)}))}async function J2(r,e){m0(r),Hd(r)?(r.Ra.ha(e),Pd(r)):r.Ra.set("Unknown")}async function $2(r,e,i){if(r.Ra.set("Online"),e instanceof $v&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(s){at(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(r,s)}else if(e instanceof ic?r.Va.Ze(e):e instanceof Jv?r.Va.st(e):r.Va.tt(e),!i.isEqual(vt.min()))try{const s=await u0(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),d0(h,v);const S=new Ca(A.target,v,_,A.sequenceNumber);kd(h,S)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){at(bs,"Failed to raise snapshot:",s),await _c(r,s)}}async function _c(r,e,i){if(!Br(e))throw e;r.Ea.add(1),await mo(r),r.Ra.set("Offline"),i||(i=()=>u0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(bs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ic(r)}))}function g0(r,e){return e().catch((i=>_c(r,i,e)))}async function xc(r){const e=Tt(r),i=La(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wd;for(;W2(e);)try{const o=await O2(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,tb(e,o)}catch(o){await _c(e,o)}p0(e)&&y0(e)}function W2(r){return ws(r)&&r.Ta.length<10}function tb(r,e){r.Ta.push(e);const i=La(r);i.O_()&&i.X_&&i.ea(e.mutations)}function p0(r){return ws(r)&&!La(r).x_()&&r.Ta.length>0}function y0(r){La(r).start()}async function eb(r){La(r).ra()}async function nb(r){const e=La(r);for(const i of r.Ta)e.ea(i.mutations)}async function ib(r,e,i){const s=r.Ta.shift(),o=Md.from(s,e,i);await g0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await xc(r)}async function ab(r,e){e&&La(r).X_&&await(async function(s,o){if((function(d){return jS(d)&&d!==F.ABORTED})(o.code)){const h=s.Ta.shift();La(s).B_(),await g0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await xc(s)}})(r,e),p0(r)&&y0(r)}async function M_(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),at(bs,"RemoteStore received new credentials");const s=ws(i);i.Ea.add(3),await mo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ic(i)}async function sb(r,e){const i=Tt(r);e?(i.Ea.delete(2),await Ic(i)):e||(i.Ea.add(2),await mo(i),i.Ra.set("Unknown"))}function qr(r){return r.ma||(r.ma=(function(i,s,o){const h=Tt(i);return h.sa(),new H2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:K2.bind(null,r),t_:Z2.bind(null,r),r_:J2.bind(null,r),H_:$2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Hd(r)?Pd(r):r.Ra.set("Unknown")):(await r.ma.stop(),m0(r))}))),r.ma}function La(r){return r.fa||(r.fa=(function(i,s,o){const h=Tt(i);return h.sa(),new G2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:eb.bind(null,r),r_:ab.bind(null,r),ta:nb.bind(null,r),na:ib.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xc(r)):(await r.fa.stop(),r.Ta.length>0&&(at(bs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,y=new Gd(e,i,d,o,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qd(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),Br(r))return new it(F.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{static emptySet(e){return new wr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Xl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new wr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.ga=new oe(ft.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Or{constructor(e,i,s,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Or(e,i,wr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lb{constructor(){this.queries=z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Tt(i),h=o.queries;o.queries=z_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new it(F.ABORTED,"Firestore shutting down"))}}function z_(){return new Rs((r=>Bv(r)),Rc)}async function ob(r,e){const i=Tt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new rb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Qd(d,`Initialization of query '${Tr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Fd(i)}async function ub(r,e){const i=Tt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function cb(r,e){const i=Tt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&Fd(i)}function hb(r,e,i){const s=Tt(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Fd(r){r.Ca.forEach((e=>{e.next()}))}var pd,U_;(U_=pd||(pd={})).Ma="default",U_.Cache="cache";class fb{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Or(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Or.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class db{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=jv(e),this.tu=new wr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new O_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const N=o.get(A),P=wc(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let $=!1;N&&P?N.data.isEqual(P.data)?J!==W&&(s.track({type:3,doc:P}),$=!0):this.su(N,P)||(s.track({type:2,doc:P}),$=!0,(v&&this.eu(P,v)>0||_&&this.eu(P,_)<0)&&(y=!0)):!N&&P?(s.track({type:0,doc:P}),$=!0):N&&!P&&(s.track({type:1,doc:N}),$=!0,(v||_)&&(y=!0)),$&&(P?(d=d.add(P),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(P,J){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:$})}};return W(P)-W(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Or(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new v0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new _0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Or.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yd="SyncEngine";class mb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class gb{constructor(e){this.key=e,this.hu=!1}}class pb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Rs((y=>Bv(y)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ft.comparator),this.Au=new Map,this.Ru=new Ud,this.Vu={},this.mu=new Map,this.fu=Mr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yb(r,e,i=!0){const s=R0(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await E0(s,e,i,!0),o}async function _b(r,e){const i=R0(r);await E0(i,e,!0,!1)}async function E0(r,e,i,s){const o=await z2(r.localStore,_i(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await vb(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&f0(r.remoteStore,o),y}async function vb(r,e,i,s,o){r.pu=(S,N,P)=>(async function(W,$,dt,mt){let ut=$.view.ru(dt);ut.Cs&&(ut=await D_(W.localStore,$.query,!1).then((({documents:D})=>$.view.ru(D,ut))));const ct=mt&&mt.targetChanges.get($.targetId),Ct=mt&&mt.targetMismatches.get($.targetId)!=null,wt=$.view.applyChanges(ut,W.isPrimaryClient,ct,Ct);return B_(W,$.targetId,wt.au),wt.snapshot})(r,S,N,P);const h=await D_(r.localStore,e,!0),d=new db(e,h.Qs),y=d.ru(h.documents),v=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,v);B_(r,i,_.au);const A=new mb(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Eb(r,e,i){const s=Tt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!Rc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await md(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&qd(s.remoteStore,o.targetId),yd(s,o.targetId)})).catch(Lr)):(yd(s,o.targetId),await md(s.localStore,o.targetId,!0))}async function Tb(r,e){const i=Tt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),qd(i.remoteStore,s.targetId))}async function Ab(r,e,i){const s=Vb(r);try{const o=await(function(d,y){const v=Tt(d),_=ae.now(),A=y.reduce(((P,J)=>P.add(J.key)),Ot());let S,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let J=Fi(),W=Ot();return v.Ns.getEntries(P,A).next(($=>{J=$,J.forEach(((dt,mt)=>{mt.isValidDocument()||(W=W.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,J))).next(($=>{S=$;const dt=[];for(const mt of y){const ut=OS(mt,S.get(mt.key).overlayedDocument);ut!=null&&dt.push(new qa(mt.key,ut,Vv(ut.value.mapValue),Yn.exists(!0)))}return v.mutationQueue.addMutationBatch(P,_,dt,y)})).next(($=>{N=$;const dt=$.applyToLocalDocumentSet(S,W);return v.documentOverlayCache.saveOverlays(P,$.batchId,dt)}))})).then((()=>({batchId:N.batchId,changes:kv(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Mt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await go(s,o.changes),await xc(s.remoteStore)}catch(o){const h=Qd(o,"Failed to persist write");i.reject(h)}}async function T0(r,e){const i=Tt(r);try{const s=await x2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qt(d.hu,14607):o.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await go(i,s,e)}catch(s){await Lr(s)}}function L_(r,e,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Tt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(y)&&(_=!0)})),_&&Fd(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Sb(r,e,i){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new oe(ft.comparator);d=d.insert(h,Ke.newNoDocument(h,vt.min()));const y=Ot().add(h),v=new Vc(vt.min(),new Map,new oe(Mt),d,y);await T0(s,v),s.du=s.du.remove(h),s.Au.delete(e),Xd(s)}else await md(s.localStore,e,!1).then((()=>yd(s,e,i))).catch(Lr)}async function bb(r,e){const i=Tt(r),s=e.batch.batchId;try{const o=await I2(i.localStore,e);S0(i,s,null),A0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Lr(o)}}async function Rb(r,e,i){const s=Tt(r);try{const o=await(function(d,y){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(Qt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);S0(s,e,i),A0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await go(s,o)}catch(o){await Lr(o)}}function A0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function S0(r,e,i){const s=Tt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function yd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||b0(r,s)}))}function b0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(qd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Xd(r))}function B_(r,e,i){for(const s of i)s instanceof _0?(r.Ru.addReference(s.key,e),wb(r,s)):s instanceof v0?(at(Yd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||b0(r,s.key)):pt(19791,{wu:s})}function wb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(at(Yd,"New document in limbo: "+i),r.Eu.add(s),Xd(r))}function Xd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ft(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new gb(i)),r.du=r.du.insert(i,s),f0(r.remoteStore,new Ca(_i(Uv(i.path)),s,"TargetPurposeLimboResolution",Ac.ce))}}async function go(r,e,i){const s=Tt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{var A;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Bd.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>K.forEach(_,(N=>K.forEach(N.Es,(P=>A.persistence.referenceDelegate.addReference(S,N.targetId,P))).next((()=>K.forEach(N.ds,(P=>A.persistence.referenceDelegate.removeReference(S,N.targetId,P)))))))))}catch(S){if(!Br(S))throw S;at(jd,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const P=A.Ms.get(N),J=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,W)}}})(s.localStore,h))}async function Cb(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){at(Yd,"User change. New user:",e.toKey());const s=await o0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new it(F.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await go(i,s.Ls)}}function Db(r,e){const i=Tt(r),s=i.Au.get(e);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function R0(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Db.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sb.bind(null,e),e.Pu.H_=cb.bind(null,e.eventManager),e.Pu.yu=hb.bind(null,e.eventManager),e}function Vb(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rb.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return N2(this.persistence,new C2,e.initialUser,this.serializer)}Cu(e){return new l0(Ld.mi,this.serializer)}Du(e){return new L2}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class Nb extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qt(this.persistence.referenceDelegate instanceof yc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new f2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new l0((s=>yc.mi(s,i)),this.serializer)}}class _d{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>L_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cb.bind(null,this.syncEngine),await sb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lb})()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),s=(function(h){return new P2(h)})(e.databaseInfo);return(function(h,d,y,v){return new F2(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,y){return new X2(s,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>L_(this.syncEngine,i,0)),(function(){return I_.v()?new I_:new B2})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const S=new pb(o,h,d,y,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=Tt(o);at(bs,"RemoteStore shutting down."),h.Ea.add(5),await mo(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}_d.provider={build:()=>new _d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class xb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{at(Ba,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(Ba,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Qd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Kf(r,e){r.asyncQueue.verifyOperationInProgress(),at(Ba,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await o0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function j_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Mb(r);at(Ba,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>M_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>M_(e.remoteStore,o))),r._onlineComponents=e}async function Mb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Ba,"Using user provided OfflineComponentProvider");try{await Kf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===F.FAILED_PRECONDITION||o.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Vr("Error using user provided cache. Falling back to memory cache: "+i),await Kf(r,new vc)}}else at(Ba,"Using default OfflineComponentProvider"),await Kf(r,new Nb(void 0));return r._offlineComponents}async function w0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Ba,"Using user provided OnlineComponentProvider"),await j_(r,r._uninitializedComponentsProvider._online)):(at(Ba,"Using default OnlineComponentProvider"),await j_(r,new _d))),r._onlineComponents}function Ob(r){return w0(r).then((e=>e.syncEngine))}async function zb(r){const e=await w0(r),i=e.eventManager;return i.onListen=yb.bind(null,e.syncEngine),i.onUnlisten=Eb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=_b.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Tb.bind(null,e.syncEngine),i}function Ub(r,e,i={}){const s=new Ia;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new Ib({next:N=>{A.Nu(),d.enqueueAndForget((()=>ub(h,S))),N.fromCache&&v.source==="server"?_.reject(new it(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new fb(y,A,{includeMetadataChanges:!0,qa:!0});return ob(h,S)})(await zb(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firestore.googleapis.com",k_=!0;class P_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=k_}else this.host=e.host,this.ssl=e.ssl??k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c2)throw new it(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BA;switch(s.type){case"firstParty":return new PA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=q_.get(i);s&&(at("ComponentProvider","Removing Datastore"),q_.delete(i),s.terminate())})(this),Promise.resolve()}}function Lb(r,e,i,s={}){var _;r=uc(r,Mc);const o=Ad(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(d1(`https://${y}`),y1("Firestore",!0)),h.host!==D0&&h.host!==y&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:s};if(!rc(v,d)&&(r._setSettings(v),s.mockUserToken)){let A,S;if(typeof s.mockUserToken=="string")A=s.mockUserToken,S=Xe.MOCK_USER;else{A=m1(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new it(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(N)}r._authCredentials=new jA(new yv(A,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Ue{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(co(i,Ue._jsonSchema))return new Ue(e,s||null,new ft(ee.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ce("string",Ue._jsonSchemaVersion),referencePath:Ce("string")};class xa extends Cs{constructor(e,i,s){super(e,i,Uv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new ft(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function V0(r,e,...i){if(r=Ai(r),_v("collection","path",e),r instanceof Mc){const s=ee.fromString(e,...i);return e_(s),new xa(r,null,s)}{if(!(r instanceof Ue||r instanceof xa))throw new it(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return e_(s),new xa(r.firestore,null,s)}}function wa(r,e,...i){if(r=Ai(r),arguments.length===1&&(e=Rd.newId()),_v("doc","path",e),r instanceof Mc){const s=ee.fromString(e,...i);return t_(s),new Ue(r,null,new ft(s))}{if(!(r instanceof Ue||r instanceof xa))throw new it(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return t_(s),new Ue(r.firestore,r instanceof xa?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c0(this,"async_queue_retry"),this._c=()=>{const s=Xf();s&&at(H_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Br(e))throw e;at(H_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",Q_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Gd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Q_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Kd extends Mc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function Bb(r,e){const i=typeof r=="object"?r:CA(),s=typeof r=="string"?r:hc,o=AA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=h1("firestore");h&&Lb(o,...h)}return o}function Zd(r){if(r._terminated)throw new it(F.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jb(r),r._firestoreClient}function jb(r){var s,o,h;const e=r._freezeSettings(),i=(function(y,v,_,A){return new sS(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,C0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xb(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new it(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(co(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Ce("string",On._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(co(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Ce("string",Ei._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(co(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ti(e.vectorValues);throw new it(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Ce("string",Ti._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=/^__.*__$/;class kb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}class N0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new qa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function I0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class $d{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $d({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I0(this.Ac)&&qb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Pb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Nc(e)}Cc(e,i,s,o=!1){return new $d({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(r){const e=r._freezeSettings(),i=Nc(r._databaseId);return new Pb(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Hb(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);Wd("Data must be an object, but it was:",d,s);const y=M0(s,d);let v,_;if(h.merge)v=new En(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const N=vd(e,S,i);if(!d.contains(N))throw new it(F.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);z0(A,N)||A.push(N)}v=new En(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new kb(new un(y),v,_)}class zc extends Jd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function Gb(r,e,i,s){const o=r.Cc(1,e,i);Wd("Data must be an object, but it was:",o,s);const h=[],d=un.empty();ja(s,((v,_)=>{const A=tm(e,v,i);_=Ai(_);const S=o.yc(A);if(_ instanceof zc)h.push(A);else{const N=po(_,S);N!=null&&(h.push(A),d.set(A,N))}}));const y=new En(h);return new N0(d,y,o.fieldTransforms)}function Qb(r,e,i,s,o,h){const d=r.Cc(1,e,i),y=[vd(e,s,i)],v=[o];if(h.length%2!=0)throw new it(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)y.push(vd(e,h[N])),v.push(h[N+1]);const _=[],A=un.empty();for(let N=y.length-1;N>=0;--N)if(!z0(_,y[N])){const P=y[N];let J=v[N];J=Ai(J);const W=d.yc(P);if(J instanceof zc)_.push(P);else{const $=po(J,W);$!=null&&(_.push(P),A.set(P,$))}}const S=new En(_);return new N0(A,S,d.fieldTransforms)}function Fb(r,e,i,s=!1){return po(i,r.Cc(s?4:3,e))}function po(r,e){if(O0(r=Ai(r)))return Wd("Unsupported field value:",e,r),M0(r,e);if(r instanceof Jd)return(function(s,o){if(!I0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const y of s){let v=po(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Ai(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ae.fromDate(s);return{timestampValue:pc(o.serializer,h)}}if(s instanceof ae){const h=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pc(o.serializer,h)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:Wv(o.serializer,s._byteString)};if(s instanceof Ue){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:zd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ti)return(function(d,y){return{mapValue:{fields:{[Cv]:{stringValue:Dv},[fc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Id(y.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Tc(s)}`)})(r,e)}function M0(r,e){const i={};return Tv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(r,((s,o)=>{const h=po(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function O0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Ei||r instanceof On||r instanceof Ue||r instanceof Jd||r instanceof Ti)}function Wd(r,e,i){if(!O0(i)||!vv(i)){const s=Tc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function vd(r,e,i){if((e=Ai(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return tm(r,e);throw Ec("Field path arguments must be of type string or ",r,!1,void 0,i)}const Yb=new RegExp("[~\\*/\\[\\]]");function tm(r,e,i){if(e.search(Yb)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Oc(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ec(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new it(F.INVALID_ARGUMENT,y+r+v)}function z0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(em("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Xb extends U0{data(){return super.data()}}function em(r,e){return typeof e=="string"?tm(r,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nm{}class L0 extends nm{}function F_(r,e,...i){let s=[];e instanceof nm&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof am)).length,y=h.filter((v=>v instanceof im)).length;if(d>1||d>0&&y>0)throw new it(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class im extends L0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new im(e,i,s)}_apply(e){const i=this._parse(e);return B0(e._query,i),new Cs(e.firestore,e.converter,od(e._query,i))}_parse(e){const i=x0(e.firestore);return(function(h,d,y,v,_,A,S){let N;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){K_(S,A);const J=[];for(const W of S)J.push(X_(v,h,W));N={arrayValue:{values:J}}}else N=X_(v,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||K_(S,A),N=Fb(y,d,S,A==="in"||A==="not-in");return we.create(_,A,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class am extends nm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new am(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Xn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const v of y)B0(d,v),d=od(d,v)})(e._query,i),new Cs(e.firestore,e.converter,od(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sm extends L0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new sm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new it(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lo(h,d)})(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new jr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Y_(r,e="asc"){const i=e,s=em("orderBy",r);return sm._create(s,i)}function X_(r,e,i){if(typeof(i=Ai(i))=="string"){if(i==="")throw new it(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lv(e)&&i.indexOf("/")!==-1)throw new it(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ee.fromString(i));if(!ft.isDocumentKey(s))throw new it(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return u_(r,new ft(s))}if(i instanceof Ue)return u_(r,i._key);throw new it(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tc(i)}.`)}function K_(r,e){if(!Array.isArray(r)||r.length===0)throw new it(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B0(r,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Zb{convertValue(e,i="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ja(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[fc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>ge(d.doubleValue)));return new Ti(i)}convertGeoPoint(e){return new Ei(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=bc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Oa(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Qt(s0(s),9688,{name:e});const o=new so(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return o.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Ju{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cr extends U0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(em("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Cr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cr._jsonSchema={type:Ce("string",Cr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class ac extends Cr{data(e={}){return super.data(e)}}class Dr{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ju(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ac(this._firestore,this._userDataWriter,s.key,s,new Ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ju(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ju(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:$b(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $b(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Dr._jsonSchemaVersion="firestore/querySnapshot/1.0",Dr._jsonSchema={type:Ce("string",Dr._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Wb extends Zb{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function _r(r){r=uc(r,Cs);const e=uc(r.firestore,Kd),i=Zd(e),s=new Wb(e);return Kb(r._query),Ub(i,r._query).then((o=>new Dr(e,s,r,o)))}function tR(r,e){return(function(s,o){const h=new Ia;return s.asyncQueue.enqueueAndForget((async()=>Ab(await Ob(s),o,h))),h.promise})(Zd(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=x0(e)}set(e,i,s){this._verifyNotCommitted();const o=Zf(e,this._firestore),h=Jb(o.converter,i,s),d=Hb(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,Yn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const h=Zf(e,this._firestore);let d;return d=typeof(i=Ai(i))=="string"||i instanceof Oc?Qb(this._dataReader,"WriteBatch.update",h._key,i,s,o):Gb(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Zf(e,this._firestore);return this._mutations=this._mutations.concat(new xd(i._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zf(r,e){if((r=Ai(r)).firestore!==e)throw new it(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(r){return Zd(r=uc(r,Kd)),new eR(r,(e=>tR(r,e)))}(function(e,i=!0){(function(o){Ur=o})(wA),oc(new eo("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Kd(new qA(s.getProvider("auth-internal")),new HA(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Rr(Zy,Jy,e),Rr(Zy,Jy,"esm2020")})();var nR="firebase",iR="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(nR,iR,"app");const aR={apiKey:"AIzaSyB8XHkT_DedTncHBUSu8d5AwjJLXqDFP2g",authDomain:"smartrealapp.firebaseapp.com",projectId:"smartrealapp",storageBucket:"smartrealapp.firebasestorage.app",messagingSenderId:"651193312612",appId:"1:651193312612:web:47e8a1780f9c2cd3a94671"},sR=lv(aR),br=Bb(sR),_s=V0(br,"documents"),vs=V0(br,"templates"),vn={getDocuments:async()=>{try{const r=F_(_s,Y_("updatedAt","desc"));return(await _r(r)).docs.map(i=>({...i.data(),id:i.id}))}catch(r){return console.error("Failed to load documents from Firestore",r),[]}},saveDocuments:async r=>{const e=$u(br),i=await _r(_s),s=new Set(i.docs.map(o=>o.id));for(const o of r){const h=o.id?wa(_s,o.id):null;if(h&&s.has(o.id))e.set(h,o),s.delete(o.id);else{const d=wa(_s);e.set(d,{...o,id:d.id})}}for(const o of s)e.delete(wa(_s,o));await e.commit()},getTemplates:async()=>{try{const r=F_(vs,Y_("updatedAt","desc"));return(await _r(r)).docs.map(i=>({...i.data(),id:i.id}))}catch(r){return console.error("Failed to load templates from Firestore",r),[]}},saveTemplates:async r=>{const e=$u(br),i=await _r(vs),s=new Set(i.docs.map(o=>o.id));for(const o of r){const h=o.id?wa(vs,o.id):null;if(h&&s.has(o.id))e.set(h,o),s.delete(o.id);else{const d=wa(vs);e.set(d,{...o,id:d.id})}}for(const o of s)e.delete(wa(vs,o));await e.commit()},exportData:async()=>{const r=await vn.getDocuments(),e=await vn.getTemplates();return{version:"1.0",exportDate:new Date().toISOString(),documents:r,templates:e}},importData:async r=>{try{if(!r.version||!Array.isArray(r.documents)||!Array.isArray(r.templates))throw new Error("Invalid backup file format");const e=await _r(_s),i=await _r(vs),s=$u(br);e.forEach(h=>s.delete(h.ref)),i.forEach(h=>s.delete(h.ref)),await s.commit();const o=$u(br);for(const h of r.documents)o.set(wa(_s,h.id),h);for(const h of r.templates)o.set(wa(vs,h.id),h);return await o.commit(),{success:!0,message:"  ."}}catch(e){return console.error("Failed to import data to Firestore",e),{success:!1,message:` : ${e instanceof Error?e.message:"   "}`}}}},Es=768,rR=()=>{var I;const[r,e]=te.useState(window.innerWidth);te.useEffect(()=>{const V=()=>{e(window.innerWidth)};return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]);const i=()=>({id:vr(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1}),[s,o]=te.useState([]),[h,d]=te.useState([]),[y,v]=te.useState(r>=Es),[_,A]=te.useState("EDITOR"),[S,N]=te.useState(()=>i()),[P,J]=te.useState(null),[W,$]=te.useState(null);te.useEffect(()=>{(async()=>{o(await vn.getDocuments()),d(await vn.getTemplates())})()},[]);const dt=()=>{N(i()),A("EDITOR")},mt=V=>{const b={id:vr(),title:V.title,content:V.content,checklist:V.checklist.map(yt=>({...yt,id:vr(),isChecked:!1})),updatedAt:Date.now(),isTemplate:!1};N(b),A("TEMPLATE_PREVIEW"),$(V.id)},ut=V=>{N(V),A("EDITOR"),$(null)},ct=()=>{const V={id:vr(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!0};N(V),A("EDITOR"),$(null)},Ct=async V=>{if(V.isTemplate){V.title.trim()||(V.title=" ");const b=h.find(Dt=>Dt.id===V.id);let yt;b?yt=h.map(Dt=>Dt.id===V.id?{...V,isTemplate:!0}:Dt):yt=[{...V,isTemplate:!0},...h],d(yt),await vn.saveTemplates(yt)}else if(_==="TEMPLATE_PREVIEW"){const b={...V,id:vr(),isTemplate:!1,updatedAt:Date.now()};if(!b.title.trim()&&W){const Dt=h.find(H=>H.id===W);b.title=Dt?`${Dt.title} ()`:" (Untitled)"}else b.title.trim()||(b.title=" (Untitled)");const yt=[b,...s];o(yt),await vn.saveDocuments(yt),N(b),A("EDITOR"),$(null)}else{const b=s.find(Dt=>Dt.id===V.id);let yt;b?yt=s.map(Dt=>Dt.id===V.id?{...V,updatedAt:Date.now()}:Dt):(V.title.trim()||(V.title=" (Untitled)"),yt=[V,...s]),o(yt),await vn.saveDocuments(yt)}N(V)},wt=async()=>{const V=await vn.exportData(),b=JSON.stringify(V,null,2),yt=new Blob([b],{type:"application/json"}),Dt=URL.createObjectURL(yt),H=document.createElement("a");H.href=Dt;const et=new Date,ot=et.getFullYear(),zt=et.getMonth()+1,Pt=et.getDate();H.download=`${ot}${zt}${Pt}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(Dt)},D=async V=>{const b=new FileReader;b.onload=async yt=>{var Dt;try{const H=(Dt=yt.target)==null?void 0:Dt.result,et=JSON.parse(H),ot=await vn.importData(et);ot.success&&(o(await vn.getDocuments()),d(await vn.getTemplates())),alert(ot.message)}catch(H){alert(`  : ${H instanceof Error?H.message:"   "}`)}},b.readAsText(V)},R=V=>{J({type:"DOC",id:V})},C=V=>{J({type:"TPL",id:V})},O=async()=>{if(P){if(P.type==="DOC"){const V=P.id,b=s.filter(yt=>yt.id!==V);o(b),await vn.saveDocuments(b),(S==null?void 0:S.id)===V&&N(i())}else{const V=P.id,b=h.filter(yt=>yt.id!==V);d(b),await vn.saveTemplates(b),(S==null?void 0:S.id)===V&&N(null)}J(null)}};return Z.jsxs("div",{className:"flex h-screen overflow-hidden bg-background font-sans text-gray-900",children:[Z.jsx($T,{isMobileOpen:y,isAlwaysOpen:r>=Es,onClose:()=>v(!1),documents:s,templates:h,onSelectDocument:V=>{N(V),A("EDITOR"),r<Es&&v(!1)},onPreviewTemplate:mt,onCreateTemplate:ct,onCreateNew:()=>{dt(),r<Es&&v(!1)},onDeleteDocument:R,onDeleteTemplate:C,onEditTemplate:ut,onBackup:wt,onRestore:D}),Z.jsx("main",{className:"flex-1 h-full transition-all duration-300 ease-in-out",style:{marginLeft:r>=Es&&y?"250px":"0px"},children:_==="TEMPLATE_PREVIEW"?Z.jsx(Ly,{data:S||i(),onSave:Ct,isTemplateMode:!1,isTemplatePreview:!0,sourceTemplateName:((I=h.find(V=>V.id===W))==null?void 0:I.title)||"",onCancel:()=>{A("EDITOR"),N(i()),$(null)},screenWidth:r,mdBreakpoint:Es}):Z.jsx(Ly,{data:S||i(),onSave:Ct,isTemplateMode:(S==null?void 0:S.isTemplate)||!1,isTemplatePreview:!1,onOpenSidebar:()=>v(!0),onCancel:()=>{N(i()),A("EDITOR")},screenWidth:r,mdBreakpoint:Es})}),Z.jsx(W_,{isOpen:!!P,title:(P==null?void 0:P.type)==="DOC"?" ":" ",message:(P==null?void 0:P.type)==="DOC"?"   ?":"  ?",onConfirm:O,onClose:()=>J(null)})]})},j0=document.getElementById("root");if(!j0)throw new Error("Could not find root element to mount to");const lR=wT.createRoot(j0);lR.render(Z.jsx(J_.StrictMode,{children:Z.jsx(rR,{})}));
