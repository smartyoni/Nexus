(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function W_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Oh={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function TT(){if(wy)return Ql;wy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var Ry;function AT(){return Ry||(Ry=1,Oh.exports=TT()),Oh.exports}var P=AT(),zh={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function ST(){if(Dy)return St;Dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function H(S){return S===null||typeof S!="object"?null:(S=I&&S[I]||S["@@iterator"],typeof S=="function"?S:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,W={};function Z(S,U,J){this.props=S,this.context=U,this.refs=W,this.updater=J||et}Z.prototype.isReactComponent={},Z.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},Z.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function dt(){}dt.prototype=Z.prototype;function at(S,U,J){this.props=S,this.context=U,this.refs=W,this.updater=J||et}var vt=at.prototype=new dt;vt.constructor=at,nt(vt,Z.prototype),vt.isPureReactComponent=!0;var Bt=Array.isArray;function wt(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(S,U,J){var st=J.ref;return{$$typeof:r,type:S,key:U,ref:st!==void 0?st:null,props:J}}function O(S,U){return C(S.type,U,S.props)}function D(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function M(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(J){return U[J]})}var w=/\/+/g;function Vt(S,U){return typeof S=="object"&&S!==null&&S.key!=null?M(""+S.key):U.toString(36)}function Gt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(wt,wt):(S.status="pending",S.then(function(U){S.status==="pending"&&(S.status="fulfilled",S.value=U)},function(U){S.status==="pending"&&(S.status="rejected",S.reason=U)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function G(S,U,J,st,mt){var yt=typeof S;(yt==="undefined"||yt==="boolean")&&(S=null);var xt=!1;if(S===null)xt=!0;else switch(yt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(S.$$typeof){case r:case e:xt=!0;break;case A:return xt=S._init,G(xt(S._payload),U,J,st,mt)}}if(xt)return mt=mt(S),xt=st===""?"."+Vt(S,0):st,Bt(mt)?(J="",xt!=null&&(J=xt.replace(w,"$&/")+"/"),G(mt,U,J,"",function(ti){return ti})):mt!=null&&(D(mt)&&(mt=O(mt,J+(mt.key==null||S&&S.key===mt.key?"":(""+mt.key).replace(w,"$&/")+"/")+xt)),U.push(mt)),1;xt=0;var ie=st===""?".":st+":";if(Bt(S))for(var te=0;te<S.length;te++)st=S[te],yt=ie+Vt(st,te),xt+=G(st,U,J,yt,mt);else if(te=H(S),typeof te=="function")for(S=te.call(S),te=0;!(st=S.next()).done;)st=st.value,yt=ie+Vt(st,te++),xt+=G(st,U,J,yt,mt);else if(yt==="object"){if(typeof S.then=="function")return G(Gt(S),U,J,st,mt);throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return xt}function it(S,U,J){if(S==null)return S;var st=[],mt=0;return G(S,st,"","",function(yt){return U.call(J,yt,mt++)}),st}function ct(S){if(S._status===-1){var U=S._result;U=U(),U.then(function(J){(S._status===0||S._status===-1)&&(S._status=1,S._result=J)},function(J){(S._status===0||S._status===-1)&&(S._status=2,S._result=J)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var tt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},ht={map:it,forEach:function(S,U,J){it(S,function(){U.apply(this,arguments)},J)},count:function(S){var U=0;return it(S,function(){U++}),U},toArray:function(S){return it(S,function(U){return U})||[]},only:function(S){if(!D(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return St.Activity=b,St.Children=ht,St.Component=Z,St.Fragment=i,St.Profiler=o,St.PureComponent=at,St.StrictMode=s,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(S){return N.H.useMemoCache(S)}},St.cache=function(S){return function(){return S.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(S,U,J){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var st=nt({},S.props),mt=S.key;if(U!=null)for(yt in U.key!==void 0&&(mt=""+U.key),U)!R.call(U,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&U.ref===void 0||(st[yt]=U[yt]);var yt=arguments.length-2;if(yt===1)st.children=J;else if(1<yt){for(var xt=Array(yt),ie=0;ie<yt;ie++)xt[ie]=arguments[ie+2];st.children=xt}return C(S.type,mt,st)},St.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},St.createElement=function(S,U,J){var st,mt={},yt=null;if(U!=null)for(st in U.key!==void 0&&(yt=""+U.key),U)R.call(U,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(mt[st]=U[st]);var xt=arguments.length-2;if(xt===1)mt.children=J;else if(1<xt){for(var ie=Array(xt),te=0;te<xt;te++)ie[te]=arguments[te+2];mt.children=ie}if(S&&S.defaultProps)for(st in xt=S.defaultProps,xt)mt[st]===void 0&&(mt[st]=xt[st]);return C(S,yt,mt)},St.createRef=function(){return{current:null}},St.forwardRef=function(S){return{$$typeof:y,render:S}},St.isValidElement=D,St.lazy=function(S){return{$$typeof:A,_payload:{_status:-1,_result:S},_init:ct}},St.memo=function(S,U){return{$$typeof:_,type:S,compare:U===void 0?null:U}},St.startTransition=function(S){var U=N.T,J={};N.T=J;try{var st=S(),mt=N.S;mt!==null&&mt(J,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(wt,tt)}catch(yt){tt(yt)}finally{U!==null&&J.types!==null&&(U.types=J.types),N.T=U}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(S){return N.H.use(S)},St.useActionState=function(S,U,J){return N.H.useActionState(S,U,J)},St.useCallback=function(S,U){return N.H.useCallback(S,U)},St.useContext=function(S){return N.H.useContext(S)},St.useDebugValue=function(){},St.useDeferredValue=function(S,U){return N.H.useDeferredValue(S,U)},St.useEffect=function(S,U){return N.H.useEffect(S,U)},St.useEffectEvent=function(S){return N.H.useEffectEvent(S)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(S,U,J){return N.H.useImperativeHandle(S,U,J)},St.useInsertionEffect=function(S,U){return N.H.useInsertionEffect(S,U)},St.useLayoutEffect=function(S,U){return N.H.useLayoutEffect(S,U)},St.useMemo=function(S,U){return N.H.useMemo(S,U)},St.useOptimistic=function(S,U){return N.H.useOptimistic(S,U)},St.useReducer=function(S,U,J){return N.H.useReducer(S,U,J)},St.useRef=function(S){return N.H.useRef(S)},St.useState=function(S){return N.H.useState(S)},St.useSyncExternalStore=function(S,U,J){return N.H.useSyncExternalStore(S,U,J)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.1",St}var Cy;function Ad(){return Cy||(Cy=1,zh.exports=ST()),zh.exports}var Tt=Ad();const tv=W_(Tt);var Uh={exports:{}},Yl={},Lh={exports:{}},jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function bT(){return xy||(xy=1,(function(r){function e(G,it){var ct=G.length;G.push(it);t:for(;0<ct;){var tt=ct-1>>>1,ht=G[tt];if(0<o(ht,it))G[tt]=it,G[ct]=ht,ct=tt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var it=G[0],ct=G.pop();if(ct!==it){G[0]=ct;t:for(var tt=0,ht=G.length,S=ht>>>1;tt<S;){var U=2*(tt+1)-1,J=G[U],st=U+1,mt=G[st];if(0>o(J,ct))st<ht&&0>o(mt,J)?(G[tt]=mt,G[st]=ct,tt=st):(G[tt]=J,G[U]=ct,tt=U);else if(st<ht&&0>o(mt,ct))G[tt]=mt,G[st]=ct,tt=st;else break t}}return it}function o(G,it){var ct=G.sortIndex-it.sortIndex;return ct!==0?ct:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,I=3,H=!1,et=!1,nt=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function vt(G){for(var it=i(_);it!==null;){if(it.callback===null)s(_);else if(it.startTime<=G)s(_),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(_)}}function Bt(G){if(nt=!1,vt(G),!et)if(i(v)!==null)et=!0,wt||(wt=!0,M());else{var it=i(_);it!==null&&Gt(Bt,it.startTime-G)}}var wt=!1,N=-1,R=5,C=-1;function O(){return W?!0:!(r.unstable_now()-C<R)}function D(){if(W=!1,wt){var G=r.unstable_now();C=G;var it=!0;try{t:{et=!1,nt&&(nt=!1,dt(N),N=-1),H=!0;var ct=I;try{e:{for(vt(G),b=i(v);b!==null&&!(b.expirationTime>G&&O());){var tt=b.callback;if(typeof tt=="function"){b.callback=null,I=b.priorityLevel;var ht=tt(b.expirationTime<=G);if(G=r.unstable_now(),typeof ht=="function"){b.callback=ht,vt(G),it=!0;break e}b===i(v)&&s(v),vt(G)}else s(v);b=i(v)}if(b!==null)it=!0;else{var S=i(_);S!==null&&Gt(Bt,S.startTime-G),it=!1}}break t}finally{b=null,I=ct,H=!1}it=void 0}}finally{it?M():wt=!1}}}var M;if(typeof at=="function")M=function(){at(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Vt=w.port2;w.port1.onmessage=D,M=function(){Vt.postMessage(null)}}else M=function(){Z(D,0)};function Gt(G,it){N=Z(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(G){switch(I){case 1:case 2:case 3:var it=3;break;default:it=I}var ct=I;I=it;try{return G()}finally{I=ct}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=I;I=G;try{return it()}finally{I=ct}},r.unstable_scheduleCallback=function(G,it,ct){var tt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?tt+ct:tt):ct=tt,G){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=ct+ht,G={id:A++,callback:it,priorityLevel:G,startTime:ct,expirationTime:ht,sortIndex:-1},ct>tt?(G.sortIndex=ct,e(_,G),i(v)===null&&G===i(_)&&(nt?(dt(N),N=-1):nt=!0,Gt(Bt,ct-tt))):(G.sortIndex=ht,e(v,G),et||H||(et=!0,wt||(wt=!0,M()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var it=I;return function(){var ct=I;I=it;try{return G.apply(this,arguments)}finally{I=ct}}}})(jh)),jh}var Ny;function wT(){return Ny||(Ny=1,Lh.exports=bT()),Lh.exports}var kh={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function RT(){if(Iy)return Je;Iy=1;var r=Ad();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},Je.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Je.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:H}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:I,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Je.requestFormReset=function(v){s.d.r(v)},Je.unstable_batchedUpdates=function(v,_){return v(_)},Je.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.2.1",Je}var Vy;function DT(){if(Vy)return kh.exports;Vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kh.exports=RT(),kh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function CT(){if(My)return Yl;My=1;var r=wT(),e=Ad(),i=DT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nt:return"Fragment";case Z:return"Profiler";case W:return"StrictMode";case Bt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case at:return t.displayName||"Context";case dt:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Vt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Vt(t(n))}catch{}}return null}var Gt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},tt=[],ht=-1;function S(t){return{current:t}}function U(t){0>ht||(t.current=tt[ht],tt[ht]=null,ht--)}function J(t,n){ht++,tt[ht]=t.current,t.current=n}var st=S(null),mt=S(null),yt=S(null),xt=S(null);function ie(t,n){switch(J(yt,n),J(mt,t),J(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Kp(n),t=Xp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(st),J(st,t)}function te(){U(st),U(mt),U(yt)}function ti(t){t.memoizedState!==null&&J(xt,t);var n=st.current,a=Xp(n,t.type);n!==a&&(J(mt,t),J(st,a))}function ta(t){mt.current===t&&(U(st),U(mt)),xt.current===t&&(U(xt),ql._currentValue=ct)}var he,nn;function $e(t){if(he===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);he=n&&n[1]||"",nn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+t+nn}var Qa=!1;function Ya(t,n){if(!t||Qa)return"";Qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(F){var B=F}Reflect.construct(t,[],K)}else{try{K.call()}catch(F){B=F}t.call(K.prototype)}}else{try{throw Error()}catch(F){B=F}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var x=g.split(`
`),k=E.split(`
`);for(c=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===x.length||c===k.length)for(l=x.length-1,c=k.length-1;1<=l&&0<=c&&x[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(x[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||x[l]!==k[c]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Qa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$e(a):""}function Hs(t,n){switch(t.tag){case 26:case 27:case 5:return $e(t.type);case 16:return $e("Lazy");case 13:return t.child!==n&&n!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Ya(t.type,!1);case 11:return Ya(t.type.render,!1);case 1:return Ya(t.type,!0);case 31:return $e("Activity");default:return""}}function Fs(t){try{var n="",a=null;do n+=Hs(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,ea=r.unstable_cancelCallback,zc=r.unstable_shouldYield,yo=r.unstable_requestPaint,an=r.unstable_now,Ka=r.unstable_getCurrentPriorityLevel,Gs=r.unstable_ImmediatePriority,Qs=r.unstable_UserBlockingPriority,na=r.unstable_NormalPriority,Uc=r.unstable_LowPriority,_o=r.unstable_IdlePriority,vo=r.log,Eo=r.unstable_setDisableYieldValue,Bn=null,Pe=null;function wn(t){if(typeof vo=="function"&&Eo(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Bn,t)}catch{}}var de=Math.clz32?Math.clz32:Ao,To=Math.log,Or=Math.LN2;function Ao(t){return t>>>=0,t===0?32:31-(To(t)/Or|0)|0}var ei=256,Xa=262144,ve=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=ni(l):(g&=E,g!==0?c=ni(g):a||(a=E&~t,a!==0&&(c=ni(a))))):(E=l&~h,E!==0?c=ni(E):g!==0?c=ni(g):a||(a=l&~t,a!==0&&(c=ni(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function ai(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Za(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-de(a),K=1<<Q;E[Q]=0,x[Q]=-1;var B=k[Q];if(B!==null)for(k[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}a&=~K}l!==0&&$a(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function $a(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ys(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-de(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Ks(t,n){var a=n&-n;return a=(a&42)!==0?1:Ja(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ja(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bo(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function qn(t,n){var a=it.p;try{return it.p=t,n()}finally{it.p=a}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Le="__reactProps$"+Hn,ri="__reactContainer$"+Hn,zr="__reactEvents$"+Hn,kc="__reactListeners$"+Hn,wo="__reactHandles$"+Hn,Ro="__reactResources$"+Hn,si="__reactMarker$"+Hn;function Ur(t){delete t[Ee],delete t[Le],delete t[zr],delete t[kc],delete t[wo]}function li(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ri]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ny(t);t!==null;){if(a=t[Ee])return a;t=ny(t)}return n}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Ee]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function oi(t){var n=t[Ro];return n||(n=t[Ro]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(t){t[si]=!0}var Xs=new Set,Zs={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(Zs[t]=n,t=0;t<n.length;t++)Xs.add(n[t])}var $s=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Js={},Ws={};function Do(t){return _e.call(Ws,t)?!0:_e.call(Js,t)?!1:$s.test(t)?Ws[t]=!0:(Js[t]=!0,!1)}function Lr(t,n,a){if(Do(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ae(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ia(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=ia(t)?"checked":"value";t._valueTracker=tl(t,n,""+t[n])}}function Wa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ia(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tr=/[\n"\\]/g;function ln(t){return t.replace(tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function jr(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+je(n)):t.value!==""+je(n)&&(t.value=""+je(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?el(t,g,je(n)):a!=null?el(t,g,je(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+je(E):t.removeAttribute("name")}function Co(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Yt(t);return}a=a!=null?""+je(a):"",n=n!=null?""+je(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function el(t,n,a){n==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function aa(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+je(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function xo(t,n,a){if(n!=null&&(n=""+je(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+je(a):""}function ra(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Gt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=je(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Yt(t)}function on(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||No.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function il(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&nl(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&nl(t,h,n[h])}function kr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(t){return sa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var al=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,hi=null;function er(t){var n=Rn(t);if(n&&(t=n.stateNode)){var a=t[Le]||null;t:switch(t=n.stateNode,n.type){case"input":if(jr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Le]||null;if(!c)throw Error(s(90));jr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Wa(l)}break t;case"textarea":xo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&aa(t,!!a.multiple,n,!1)}}}var Pr=!1;function oa(t,n,a){if(Pr)return t(n,a);Pr=!0;try{var l=t(n);return l}finally{if(Pr=!1,(la!==null||hi!==null)&&(bu(),la&&(n=la,t=hi,hi=la=null,er(n),t)))for(n=0;n<t.length;n++)er(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(Cn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{nr=!1}var di=null,rl=null,ir=null;function sl(){if(ir)return ir;var t,n=rl,a=n.length,l,c="value"in di?di.value:di.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return ir=c.slice(t,1<l?1-l:void 0)}function ar(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Qn(){return!1}function qe(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Mi:Qn,this.isPropagationStopped=Qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=qe(Oi),ua=b({},Oi,{view:0,detail:0}),ll=qe(ua),ca,qr,gi,Hr=b({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(ca=t.screenX-gi.screenX,qr=t.screenY-gi.screenY):qr=ca=0,gi=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:qr}}),ol=qe(Hr),rr=b({},Hr,{dataTransfer:0}),Vo=qe(rr),Mo=b({},ua,{relatedTarget:0}),sr=qe(Mo),ul=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=qe(ul),Fr=b({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zo=qe(Fr),Uo=b({},Oi,{data:0}),pi=qe(Uo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ko[t])?!!n[t]:!1}function fa(){return Bo}var rn=b({},ua,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Po=qe(rn),qo=b({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=qe(qo),u=b({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),m=qe(u),p=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=qe(p),L=b({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qe(L),rt=b({},Oi,{newState:0,oldState:0}),Rt=qe(rt),me=[9,13,27,32],Ht=Cn&&"CompositionEvent"in window,le=null;Cn&&"documentMode"in document&&(le=document.documentMode);var xn=Cn&&"TextEvent"in window&&!le,yi=Cn&&(!Ht||le&&8<le&&11>=le),Yn=" ",Kn=!1;function lr(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qr=!1;function G0(t,n){switch(t){case"compositionend":return Gr(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Kn?null:t;default:return null}}function Q0(t,n){if(Qr)return t==="compositionend"||!Ht&&lr(t,n)?(t=sl(),ir=rl=di=null,Qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Y0[t.type]:n==="textarea"}function sm(t,n,a,l){la?hi?hi.push(l):hi=[l]:la=l,n=Iu(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var cl=null,fl=null;function K0(t){qp(t,0)}function Ho(t){var n=gn(t);if(Wa(n))return t}function lm(t,n){if(t==="change")return n}var om=!1;if(Cn){var Bc;if(Cn){var Pc="oninput"in document;if(!Pc){var um=document.createElement("div");um.setAttribute("oninput","return;"),Pc=typeof um.oninput=="function"}Bc=Pc}else Bc=!1;om=Bc&&(!document.documentMode||9<document.documentMode)}function cm(){cl&&(cl.detachEvent("onpropertychange",fm),fl=cl=null)}function fm(t){if(t.propertyName==="value"&&Ho(fl)){var n=[];sm(n,fl,t,Dn(t)),oa(K0,n)}}function X0(t,n,a){t==="focusin"?(cm(),cl=n,fl=a,cl.attachEvent("onpropertychange",fm)):t==="focusout"&&cm()}function Z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(fl)}function $0(t,n){if(t==="click")return Ho(n)}function J0(t,n){if(t==="input"||t==="change")return Ho(n)}function W0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:W0;function hl(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!_e.call(n,c)||!yn(t[c],n[c]))return!1}return!0}function hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dm(t,n){var a=hm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hm(a)}}function mm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?mm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=fi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=fi(t.document)}return n}function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tE=Cn&&"documentMode"in document&&11>=document.documentMode,Yr=null,Hc=null,dl=null,Fc=!1;function pm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fc||Yr==null||Yr!==fi(l)||(l=Yr,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&hl(dl,l)||(dl=l,l=Iu(Hc,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Yr)))}function or(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Kr={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},Gc={},ym={};Cn&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function ur(t){if(Gc[t])return Gc[t];if(!Kr[t])return t;var n=Kr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ym)return Gc[t]=n[a];return t}var _m=ur("animationend"),vm=ur("animationiteration"),Em=ur("animationstart"),eE=ur("transitionrun"),nE=ur("transitionstart"),iE=ur("transitioncancel"),Tm=ur("transitionend"),Am=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Xn(t,n){Am.set(t,n),ui(n,[t])}var Fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Xr=0,Yc=0;function Go(){for(var t=Xr,n=Yc=Xr=0;n<t;){var a=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var c=Nn[n];Nn[n++]=null;var h=Nn[n];if(Nn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Sm(a,c,h)}}function Qo(t,n,a,l){Nn[Xr++]=t,Nn[Xr++]=n,Nn[Xr++]=a,Nn[Xr++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,a,l){return Qo(t,n,a,l),Yo(t)}function cr(t,n){return Qo(t,null,null,n),Yo(t)}function Sm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-de(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Yo(t){if(50<zl)throw zl=0,ah=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zr={};function aE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,a,l){return new aE(t,n,a,l)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var a=t.alternate;return a===null?(a=_n(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")Xc(t)&&(g=1);else if(typeof t=="string")g=uT(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=_n(31,a,n,c),t.elementType=C,t.lanes=h,t;case nt:return fr(a.children,c,h,n);case W:g=8,c|=24;break;case Z:return t=_n(12,a,n,c|2),t.elementType=Z,t.lanes=h,t;case Bt:return t=_n(13,a,n,c),t.elementType=Bt,t.lanes=h,t;case wt:return t=_n(19,a,n,c),t.elementType=wt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case at:g=10;break t;case dt:g=9;break t;case vt:g=11;break t;case N:g=14;break t;case R:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=_n(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function fr(t,n,a,l){return t=_n(7,t,l,n),t.lanes=a,t}function Zc(t,n,a){return t=_n(6,t,null,n),t.lanes=a,t}function wm(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function $c(t,n,a){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Rm=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var a=Rm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Fs(n)},Rm.set(t,n),n)}return{value:t,source:n,stack:Fs(n)}}var $r=[],Jr=0,Xo=null,ml=0,Vn=[],Mn=0,ha=null,_i=1,vi="";function Li(t,n){$r[Jr++]=ml,$r[Jr++]=Xo,Xo=t,ml=n}function Dm(t,n,a){Vn[Mn++]=_i,Vn[Mn++]=vi,Vn[Mn++]=ha,ha=t;var l=_i;t=vi;var c=32-de(l)-1;l&=~(1<<c),a+=1;var h=32-de(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,_i=1<<32-de(n)+c|a<<c|l,vi=h+t}else _i=1<<h|a<<c|l,vi=t}function Jc(t){t.return!==null&&(Li(t,1),Dm(t,1,0))}function Wc(t){for(;t===Xo;)Xo=$r[--Jr],$r[Jr]=null,ml=$r[--Jr],$r[Jr]=null;for(;t===ha;)ha=Vn[--Mn],Vn[Mn]=null,vi=Vn[--Mn],Vn[Mn]=null,_i=Vn[--Mn],Vn[Mn]=null}function Cm(t,n){Vn[Mn++]=_i,Vn[Mn++]=vi,Vn[Mn++]=ha,_i=n.id,vi=n.overflow,ha=t}var He=null,ae=null,Lt=!1,da=null,On=!1,tf=Error(s(519));function ma(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(In(n,t)),tf}function xm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[Le]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Ll.length;a++)It(Ll[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Co(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ra(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Qp(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||ma(t,!0)}function Nm(t){for(He=t.return;He;)switch(He.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:He=He.return}}function Wr(t){if(t!==He)return!1;if(!Lt)return Nm(t),Lt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vh(t.type,t.memoizedProps)),a=!a),a&&ae&&ma(t),Nm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=ey(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=ey(t)}else n===27?(n=ae,Ca(t.type)?(t=bh,bh=null,ae=t):ae=n):ae=He?Un(t.stateNode.nextSibling):null;return!0}function hr(){ae=He=null,Lt=!1}function ef(){var t=da;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),da=null),t}function gl(t){da===null?da=[t]:da.push(t)}var nf=S(null),dr=null,ji=null;function ga(t,n,a){J(nf,n._currentValue),n._currentValue=a}function ki(t){t._currentValue=nf.current,U(nf)}function af(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function rf(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var x=0;x<n.length;x++)if(E.context===n[x]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),af(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),af(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ts(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;yn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===xt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}c=c.return}t!==null&&rf(n,t,a,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mr(t){dr=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Im(dr,t)}function $o(t,n){return dr===null&&mr(t),Im(t,n)}function Im(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ji=ji.next=n;return a}var rE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},sE=r.unstable_scheduleCallback,lE=r.unstable_NormalPriority,Se={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new rE,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&sE(lE,function(){t.controller.abort()})}var yl=null,lf=0,es=0,ns=null;function oE(t,n){if(yl===null){var a=yl=[];lf=0,es=ch(),ns={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,n.then(Vm,Vm),n}function Vm(){if(--lf===0&&yl!==null){ns!==null&&(ns.status="fulfilled");var t=yl;yl=null,es=0,ns=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Mm=G.S;G.S=function(t,n){pp=an(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oE(t,n),Mm!==null&&Mm(t,n)};var gr=S(null);function of(){var t=gr.current;return t!==null?t:ee.pooledCache}function Jo(t,n){n===null?J(gr,gr.current):J(gr,n.pool)}function Om(){var t=of();return t===null?null:{parent:Se._currentValue,pool:t}}var is=Error(s(460)),uf=Error(s(474)),Wo=Error(s(542)),tu={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Um(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw yr=n,is}}function pr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(yr=a,is):a}}var yr=null;function Lm(){if(yr===null)throw Error(s(459));var t=yr;return yr=null,t}function jm(t){if(t===is||t===Wo)throw Error(s(483))}var as=null,_l=0;function eu(t){var n=_l;return _l+=1,as===null&&(as=[]),Um(as,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function km(t){function n(z,V){if(t){var j=z.deletions;j===null?(z.deletions=[V],z.flags|=16):j.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)n(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function c(z,V){return z=Ui(z,V),z.index=0,z.sibling=null,z}function h(z,V,j){return z.index=j,t?(j=z.alternate,j!==null?(j=j.index,j<V?(z.flags|=67108866,V):j):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,V,j,Y){return V===null||V.tag!==6?(V=Zc(j,z.mode,Y),V.return=z,V):(V=c(V,j),V.return=z,V)}function x(z,V,j,Y){var gt=j.type;return gt===nt?Q(z,V,j.props.children,Y,j.key):V!==null&&(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&pr(gt)===V.type)?(V=c(V,j.props),vl(V,j),V.return=z,V):(V=Ko(j.type,j.key,j.props,null,z.mode,Y),vl(V,j),V.return=z,V)}function k(z,V,j,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=$c(j,z.mode,Y),V.return=z,V):(V=c(V,j.children||[]),V.return=z,V)}function Q(z,V,j,Y,gt){return V===null||V.tag!==7?(V=fr(j,z.mode,Y,gt),V.return=z,V):(V=c(V,j),V.return=z,V)}function K(z,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Zc(""+V,z.mode,j),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case H:return j=Ko(V.type,V.key,V.props,null,z.mode,j),vl(j,V),j.return=z,j;case et:return V=$c(V,z.mode,j),V.return=z,V;case R:return V=pr(V),K(z,V,j)}if(Gt(V)||M(V))return V=fr(V,z.mode,j,null),V.return=z,V;if(typeof V.then=="function")return K(z,eu(V),j);if(V.$$typeof===at)return K(z,$o(z,V),j);nu(z,V)}return null}function B(z,V,j,Y){var gt=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return gt!==null?null:E(z,V,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return j.key===gt?x(z,V,j,Y):null;case et:return j.key===gt?k(z,V,j,Y):null;case R:return j=pr(j),B(z,V,j,Y)}if(Gt(j)||M(j))return gt!==null?null:Q(z,V,j,Y,null);if(typeof j.then=="function")return B(z,V,eu(j),Y);if(j.$$typeof===at)return B(z,V,$o(z,j),Y);nu(z,j)}return null}function F(z,V,j,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(j)||null,E(V,z,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return z=z.get(Y.key===null?j:Y.key)||null,x(V,z,Y,gt);case et:return z=z.get(Y.key===null?j:Y.key)||null,k(V,z,Y,gt);case R:return Y=pr(Y),F(z,V,j,Y,gt)}if(Gt(Y)||M(Y))return z=z.get(j)||null,Q(V,z,Y,gt,null);if(typeof Y.then=="function")return F(z,V,j,eu(Y),gt);if(Y.$$typeof===at)return F(z,V,j,$o(V,Y),gt);nu(V,Y)}return null}function ut(z,V,j,Y){for(var gt=null,Pt=null,ft=V,Ct=V=0,Ot=null;ft!==null&&Ct<j.length;Ct++){ft.index>Ct?(Ot=ft,ft=null):Ot=ft.sibling;var qt=B(z,ft,j[Ct],Y);if(qt===null){ft===null&&(ft=Ot);break}t&&ft&&qt.alternate===null&&n(z,ft),V=h(qt,V,Ct),Pt===null?gt=qt:Pt.sibling=qt,Pt=qt,ft=Ot}if(Ct===j.length)return a(z,ft),Lt&&Li(z,Ct),gt;if(ft===null){for(;Ct<j.length;Ct++)ft=K(z,j[Ct],Y),ft!==null&&(V=h(ft,V,Ct),Pt===null?gt=ft:Pt.sibling=ft,Pt=ft);return Lt&&Li(z,Ct),gt}for(ft=l(ft);Ct<j.length;Ct++)Ot=F(ft,z,Ct,j[Ct],Y),Ot!==null&&(t&&Ot.alternate!==null&&ft.delete(Ot.key===null?Ct:Ot.key),V=h(Ot,V,Ct),Pt===null?gt=Ot:Pt.sibling=Ot,Pt=Ot);return t&&ft.forEach(function(Ma){return n(z,Ma)}),Lt&&Li(z,Ct),gt}function _t(z,V,j,Y){if(j==null)throw Error(s(151));for(var gt=null,Pt=null,ft=V,Ct=V=0,Ot=null,qt=j.next();ft!==null&&!qt.done;Ct++,qt=j.next()){ft.index>Ct?(Ot=ft,ft=null):Ot=ft.sibling;var Ma=B(z,ft,qt.value,Y);if(Ma===null){ft===null&&(ft=Ot);break}t&&ft&&Ma.alternate===null&&n(z,ft),V=h(Ma,V,Ct),Pt===null?gt=Ma:Pt.sibling=Ma,Pt=Ma,ft=Ot}if(qt.done)return a(z,ft),Lt&&Li(z,Ct),gt;if(ft===null){for(;!qt.done;Ct++,qt=j.next())qt=K(z,qt.value,Y),qt!==null&&(V=h(qt,V,Ct),Pt===null?gt=qt:Pt.sibling=qt,Pt=qt);return Lt&&Li(z,Ct),gt}for(ft=l(ft);!qt.done;Ct++,qt=j.next())qt=F(ft,z,Ct,qt.value,Y),qt!==null&&(t&&qt.alternate!==null&&ft.delete(qt.key===null?Ct:qt.key),V=h(qt,V,Ct),Pt===null?gt=qt:Pt.sibling=qt,Pt=qt);return t&&ft.forEach(function(ET){return n(z,ET)}),Lt&&Li(z,Ct),gt}function Wt(z,V,j,Y){if(typeof j=="object"&&j!==null&&j.type===nt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case H:t:{for(var gt=j.key;V!==null;){if(V.key===gt){if(gt=j.type,gt===nt){if(V.tag===7){a(z,V.sibling),Y=c(V,j.props.children),Y.return=z,z=Y;break t}}else if(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&pr(gt)===V.type){a(z,V.sibling),Y=c(V,j.props),vl(Y,j),Y.return=z,z=Y;break t}a(z,V);break}else n(z,V);V=V.sibling}j.type===nt?(Y=fr(j.props.children,z.mode,Y,j.key),Y.return=z,z=Y):(Y=Ko(j.type,j.key,j.props,null,z.mode,Y),vl(Y,j),Y.return=z,z=Y)}return g(z);case et:t:{for(gt=j.key;V!==null;){if(V.key===gt)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(z,V.sibling),Y=c(V,j.children||[]),Y.return=z,z=Y;break t}else{a(z,V);break}else n(z,V);V=V.sibling}Y=$c(j,z.mode,Y),Y.return=z,z=Y}return g(z);case R:return j=pr(j),Wt(z,V,j,Y)}if(Gt(j))return ut(z,V,j,Y);if(M(j)){if(gt=M(j),typeof gt!="function")throw Error(s(150));return j=gt.call(j),_t(z,V,j,Y)}if(typeof j.then=="function")return Wt(z,V,eu(j),Y);if(j.$$typeof===at)return Wt(z,V,$o(z,j),Y);nu(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(z,V.sibling),Y=c(V,j),Y.return=z,z=Y):(a(z,V),Y=Zc(j,z.mode,Y),Y.return=z,z=Y),g(z)):a(z,V)}return function(z,V,j,Y){try{_l=0;var gt=Wt(z,V,j,Y);return as=null,gt}catch(ft){if(ft===is||ft===Wo)throw ft;var Pt=_n(29,ft,null,z.mode);return Pt.lanes=Y,Pt.return=z,Pt}finally{}}}var _r=km(!0),Bm=km(!1),pa=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ya(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _a(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),Sm(t,null,a),n}return Qo(t,l,n,a),Yo(t)}function El(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ys(t,a)}}function hf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var df=!1;function Tl(){if(df){var t=ns;if(t!==null)throw t}}function Al(t,n,a,l){df=!1;var c=t.updateQueue;pa=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var x=E,k=x.next;x.next=null,g===null?h=k:g.next=k,g=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=k:E.next=k,Q.lastBaseUpdate=x))}if(h!==null){var K=c.baseState;g=0,Q=k=x=null,E=h;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Mt&B)===B:(l&B)===B){B!==0&&B===es&&(df=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=t,_t=E;B=n;var Wt=a;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){K=ut.call(Wt,K,B);break t}K=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,B=typeof ut=="function"?ut.call(Wt,K,B):ut,B==null)break t;K=b({},K,B);break t;case 2:pa=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(k=Q=F,x=K):Q=Q.next=F,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;F=E,E=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);Q===null&&(x=K),c.baseState=x,c.firstBaseUpdate=k,c.lastBaseUpdate=Q,h===null&&(c.shared.lanes=0),Sa|=g,t.lanes=g,t.memoizedState=K}}function Pm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function qm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pm(a[t],n)}var rs=S(null),iu=S(0);function Hm(t,n){t=Ki,J(iu,t),J(rs,n),Ki=t|n.baseLanes}function mf(){J(iu,Ki),J(rs,rs.current)}function gf(){Ki=iu.current,U(rs),U(iu)}var vn=S(null),zn=null;function va(t){var n=t.alternate;J(ge,ge.current&1),J(vn,t),zn===null&&(n===null||rs.current!==null||n.memoizedState!==null)&&(zn=t)}function pf(t){J(ge,ge.current),J(vn,t),zn===null&&(zn=t)}function Fm(t){t.tag===22?(J(ge,ge.current),J(vn,t),zn===null&&(zn=t)):Ea()}function Ea(){J(ge,ge.current),J(vn,vn.current)}function En(t){U(vn),zn===t&&(zn=null),U(ge)}var ge=S(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ah(a)||Sh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Dt=null,$t=null,be=null,ru=!1,ss=!1,vr=!1,su=0,Sl=0,ls=null,cE=0;function ce(){throw Error(s(321))}function yf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!yn(t[a],n[a]))return!1;return!0}function _f(t,n,a,l,c,h){return Bi=h,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Dg:Mf,vr=!1,h=a(l,c),vr=!1,ss&&(h=Qm(n,a,l,c)),Gm(t),h}function Gm(t){G.H=Rl;var n=$t!==null&&$t.next!==null;if(Bi=0,be=$t=Dt=null,ru=!1,Sl=0,ls=null,n)throw Error(s(300));t===null||we||(t=t.dependencies,t!==null&&Zo(t)&&(we=!0))}function Qm(t,n,a,l){Dt=t;var c=0;do{if(ss&&(ls=null),Sl=0,ss=!1,25<=c)throw Error(s(301));if(c+=1,be=$t=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=Cg,h=n(a,l)}while(ss);return h}function fE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?bl(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Dt.flags|=1024),n}function vf(){var t=su!==0;return su=0,t}function Ef(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Tf(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Bi=0,be=$t=Dt=null,ss=!1,Sl=su=0,ls=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Dt.memoizedState=be=t:be=be.next=t,be}function pe(){if($t===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=be===null?Dt.memoizedState:be.next;if(n!==null)be=n,$t=t;else{if(t===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?Dt.memoizedState=be=t:be=be.next=t}return be}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var n=Sl;return Sl+=1,ls===null&&(ls=[]),t=Um(ls,t,n),n=Dt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Dg:Mf),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===at)return Fe(t)}throw Error(s(438,String(t)))}function Af(t){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lu(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Pi(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=pe();return Sf(n,$t,t)}function Sf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,x=null,k=n,Q=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Mt&K)===K:(Bi&K)===K){var B=k.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===es&&(Q=!0);else if((Bi&B)===B){k=k.next,B===es&&(Q=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(E=x=K,g=h):x=x.next=K,Dt.lanes|=B,Sa|=B;K=k.action,vr&&a(h,K),h=k.hasEagerState?k.eagerState:a(h,K)}else B={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(E=x=B,g=h):x=x.next=B,Dt.lanes|=K,Sa|=K;k=k.next}while(k!==null&&k!==n);if(x===null?g=h:x.next=E,!yn(h,t.memoizedState)&&(we=!0,Q&&(a=ns,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=x,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);yn(h,n.memoizedState)||(we=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Ym(t,n,a){var l=Dt,c=pe(),h=Lt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!yn(($t||c).memoizedState,a);if(g&&(c.memoizedState=a,we=!0),c=c.queue,Df(Zm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,os(9,{destroy:void 0},Xm.bind(null,l,c,a,n),null),ee===null)throw Error(s(349));h||(Bi&127)!==0||Km(l,n,a)}return a}function Km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=lu(),Dt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Xm(t,n,a,l){n.value=a,n.getSnapshot=l,$m(n)&&Jm(t)}function Zm(t,n,a){return a(function(){$m(n)&&Jm(t)})}function $m(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!yn(t,a)}catch{return!0}}function Jm(t){var n=cr(t,2);n!==null&&dn(n,t,2)}function wf(t){var n=sn();if(typeof t=="function"){var a=t;if(t=a(),vr){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function Wm(t,n,a,l){return t.baseState=a,Sf(t,$t,typeof l=="function"?l:Pi)}function hE(t,n,a,l,c){if(hu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};G.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,tg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function tg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=G.T,g={};G.T=g;try{var E=a(c,l),x=G.S;x!==null&&x(g,E),eg(t,n,E)}catch(k){Rf(t,n,k)}finally{h!==null&&g.types!==null&&(h.types=g.types),G.T=h}}else try{h=a(c,l),eg(t,n,h)}catch(k){Rf(t,n,k)}}function eg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ng(t,n,l)},function(l){return Rf(t,n,l)}):ng(t,n,a)}function ng(t,n,a){n.status="fulfilled",n.value=a,ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,tg(t,a)))}function Rf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ig(n),n=n.next;while(n!==l)}t.action=null}function ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function rg(t,n){if(Lt){var a=ee.formState;if(a!==null){t:{var l=Dt;if(Lt){if(ae){e:{for(var c=ae,h=On;c.nodeType!==8;){if(!h){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ae=Un(c.nextSibling),l=c.data==="F!";break t}}ma(l)}l=!1}l&&(n=a[0])}}return a=sn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},a.queue=l,a=bg.bind(null,Dt,l),l.dispatch=a,l=wf(!1),h=Vf.bind(null,Dt,!1,l.queue),l=sn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=hE.bind(null,Dt,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function sg(t){var n=pe();return lg(n,$t,t)}function lg(t,n,a){if(n=Sf(t,n,ag)[0],t=uu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bl(n)}catch(g){throw g===is?Wo:g}else l=n;n=pe();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,os(9,{destroy:void 0},dE.bind(null,c,a),null)),[l,h,t]}function dE(t,n){t.action=n}function og(t){var n=pe(),a=$t;if(a!==null)return lg(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function os(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=lu(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ug(){return pe().memoizedState}function cu(t,n,a,l){var c=sn();Dt.flags|=t,c.memoizedState=os(1|n,{destroy:void 0},a,l===void 0?null:l)}function fu(t,n,a,l){var c=pe();l=l===void 0?null:l;var h=c.memoizedState.inst;$t!==null&&l!==null&&yf(l,$t.memoizedState.deps)?c.memoizedState=os(n,h,a,l):(Dt.flags|=t,c.memoizedState=os(1|n,h,a,l))}function cg(t,n){cu(8390656,8,t,n)}function Df(t,n){fu(2048,8,t,n)}function mE(t){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=lu(),Dt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function fg(t){var n=pe().memoizedState;return mE({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function hg(t,n){return fu(4,2,t,n)}function dg(t,n){return fu(4,4,t,n)}function mg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,a){a=a!=null?a.concat([t]):null,fu(4,4,mg.bind(null,n,t),a)}function Cf(){}function pg(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function yg(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=t(),vr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,n],l}function xf(t,n,a){return a===void 0||(Bi&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=_p(),Dt.lanes|=t,Sa|=t,a)}function _g(t,n,a,l){return yn(a,n)?a:rs.current!==null?(t=xf(t,a,l),yn(t,n)||(we=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(Mt&261930)===0?(we=!0,t.memoizedState=a):(t=_p(),Dt.lanes|=t,Sa|=t,n)}function vg(t,n,a,l,c){var h=it.p;it.p=h!==0&&8>h?h:8;var g=G.T,E={};G.T=E,Vf(t,!1,n,a);try{var x=c(),k=G.S;if(k!==null&&k(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=uE(x,l);wl(t,n,Q,Sn(t))}else wl(t,n,l,Sn(t))}catch(K){wl(t,n,{then:function(){},status:"rejected",reason:K},Sn())}finally{it.p=h,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function gE(){}function Nf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Eg(t).queue;vg(t,c,n,ct,a===null?gE:function(){return Tg(t),a(l)})}function Eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tg(t){var n=Eg(t);n.next===null&&(n=t.alternate.memoizedState),wl(t,n.next.queue,{},Sn())}function If(){return Fe(ql)}function Ag(){return pe().memoizedState}function Sg(){return pe().memoizedState}function pE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();t=ya(a);var l=_a(n,t,a);l!==null&&(dn(l,n,a),El(l,n,a)),n={cache:sf()},t.payload=n;return}n=n.return}}function yE(t,n,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?wg(n,a):(a=Kc(t,n,a,l),a!==null&&(dn(a,t,l),Rg(a,n,l)))}function bg(t,n,a){var l=Sn();wl(t,n,a,l)}function wl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))wg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,yn(E,g))return Qo(t,n,c,0),ee===null&&Go(),!1}catch{}finally{}if(a=Kc(t,n,c,l),a!==null)return dn(a,t,l),Rg(a,n,l),!0}return!1}function Vf(t,n,a,l){if(l={lane:2,revertLane:ch(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(s(479))}else n=Kc(t,a,l,2),n!==null&&dn(n,t,2)}function hu(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function wg(t,n){ss=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Rg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ys(t,a)}}var Rl={readContext:Fe,use:ou,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Rl.useEffectEvent=ce;var Dg={readContext:Fe,use:ou,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,cu(4194308,4,mg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var a=sn();n=n===void 0?null:n;var l=t();if(vr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=sn();if(a!==void 0){var c=a(n);if(vr){wn(!0);try{a(n)}finally{wn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=yE.bind(null,Dt,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,a=bg.bind(null,Dt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(t,n){var a=sn();return xf(a,t,n)},useTransition:function(){var t=wf(!1);return t=vg.bind(null,Dt,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Dt,c=sn();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Mt&127)!==0||Km(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,cg(Zm.bind(null,l,h,t),[t]),l.flags|=2048,os(9,{destroy:void 0},Xm.bind(null,l,h,a,n),null),a},useId:function(){var t=sn(),n=ee.identifierPrefix;if(Lt){var a=vi,l=_i;a=(l&~(1<<32-de(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=su++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=cE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:rg,useActionState:rg,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,Dt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Af,useCacheRefresh:function(){return sn().memoizedState=pE.bind(null,Dt)},useEffectEvent:function(t){var n=sn(),a={impl:t};return n.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Mf={readContext:Fe,use:ou,useCallback:pg,useContext:Fe,useEffect:Df,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:dg,useMemo:yg,useReducer:uu,useRef:ug,useState:function(){return uu(Pi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=pe();return _g(a,$t.memoizedState,t,n)},useTransition:function(){var t=uu(Pi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:If,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var a=pe();return Wm(a,$t,t,n)},useMemoCache:Af,useCacheRefresh:Sg};Mf.useEffectEvent=fg;var Cg={readContext:Fe,use:ou,useCallback:pg,useContext:Fe,useEffect:Df,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:dg,useMemo:yg,useReducer:bf,useRef:ug,useState:function(){return bf(Pi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=pe();return $t===null?xf(a,t,n):_g(a,$t.memoizedState,t,n)},useTransition:function(){var t=bf(Pi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:If,useFormState:og,useActionState:og,useOptimistic:function(t,n){var a=pe();return $t!==null?Wm(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Sg};Cg.useEffectEvent=fg;function Of(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Sn(),c=ya(l);c.payload=n,a!=null&&(c.callback=a),n=_a(t,c,l),n!==null&&(dn(n,t,l),El(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Sn(),c=ya(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=_a(t,c,l),n!==null&&(dn(n,t,l),El(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Sn(),l=ya(a);l.tag=2,n!=null&&(l.callback=n),n=_a(t,l,a),n!==null&&(dn(n,t,a),El(n,t,a))}};function xg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!hl(a,l)||!hl(c,h):!0}function Ng(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&zf.enqueueReplaceState(n,n.state,null)}function Er(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Ig(t){Fo(t)}function Vg(t){console.error(t)}function Mg(t){Fo(t)}function du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uf(t,n,a){return a=ya(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,n)},a}function zg(t){return t=ya(t),t.tag=3,t}function Ug(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Og(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Og(n,a,l),typeof c!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _E(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ts(n,a,c,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?wu():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),lh(t,l,c)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),lh(t,l,c)),!1}throw Error(s(435,a.tag))}return lh(t,l,c),wu(),!1}if(Lt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==tf&&(t=Error(s(422),{cause:l}),gl(In(t,a)))):(l!==tf&&(n=Error(s(423),{cause:l}),gl(In(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=In(l,a),c=Uf(t.stateNode,l,c),hf(t,c),fe!==4&&(fe=2)),!1;var h=Error(s(520),{cause:l});if(h=In(h,a),Ol===null?Ol=[h]:Ol.push(h),fe!==4&&(fe=2),n===null)return!0;l=In(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Uf(a.stateNode,l,t),hf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ba===null||!ba.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=zg(c),Ug(c,t,a,l),hf(a,c),!1}a=a.return}while(a!==null);return!1}var Lf=Error(s(461)),we=!1;function Ge(t,n,a,l){n.child=t===null?Bm(n,null,a,l):_r(n,t.child,a,l)}function Lg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return mr(n),l=_f(t,n,a,g,h,c),E=vf(),t!==null&&!we?(Ef(t,n,c),qi(t,n,c)):(Lt&&E&&Jc(n),n.flags|=1,Ge(t,n,l,c),n.child)}function jg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Xc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,kg(t,n,h,l,c)):(t=Ko(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Gf(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(g,l)&&t.ref===n.ref)return qi(t,n,c)}return n.flags|=1,t=Ui(h,l),t.ref=n.ref,t.return=n,n.child=t}function kg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(hl(h,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=h,Gf(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,qi(t,n,c)}return jf(t,n,a,l,c)}function Bg(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Pg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(n,h!==null?h.cachePool:null),h!==null?Hm(n,h):mf(),Fm(n);else return l=n.lanes=536870912,Pg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Jo(n,h.cachePool),Hm(n,h),Ea(),n.memoizedState=null):(t!==null&&Jo(n,null),mf(),Ea());return Ge(t,n,c,a),n.child}function Dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pg(t,n,a,l,c){var h=of();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Jo(n,null),mf(),Fm(n),t!==null&&ts(t,n,l,!0),n.childLanes=c,null}function mu(t,n){return n=pu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function qg(t,n,a){return _r(n,t.child,null,a),t=mu(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function vE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Lt){if(l.mode==="hidden")return t=mu(n,l),n.lanes=536870912,Dl(null,t);if(pf(n),(t=ae)?(t=ty(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ha!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,He=n,ae=null)):t=null,t===null)throw ma(n);return n.lanes=536870912,null}return mu(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(pf(n),c)if(n.flags&256)n.flags&=-257,n=qg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||ts(t,n,a,!1),c=(a&t.childLanes)!==0,we||c){if(l=ee,l!==null&&(g=Ks(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,cr(t,g),dn(l,t,g),Lf;wu(),n=qg(t,n,a)}else t=h.treeContext,ae=Un(g.nextSibling),He=n,Lt=!0,da=null,On=!1,t!==null&&Cm(n,t),n=mu(n,l),n.flags|=4096;return n}return t=Ui(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function gu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function jf(t,n,a,l,c){return mr(n),a=_f(t,n,a,l,void 0,c),l=vf(),t!==null&&!we?(Ef(t,n,c),qi(t,n,c)):(Lt&&l&&Jc(n),n.flags|=1,Ge(t,n,a,c),n.child)}function Hg(t,n,a,l,c,h){return mr(n),n.updateQueue=null,a=Qm(n,l,a,c),Gm(t),l=vf(),t!==null&&!we?(Ef(t,n,h),qi(t,n,h)):(Lt&&l&&Jc(n),n.flags|=1,Ge(t,n,a,h),n.child)}function Fg(t,n,a,l,c){if(mr(n),n.stateNode===null){var h=Zr,g=a.contextType;typeof g=="object"&&g!==null&&(h=Fe(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=zf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},cf(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?Fe(g):Zr,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Of(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&zf.enqueueReplaceState(h,h.state,null),Al(n,l,h,c),Tl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,x=Er(a,E);h.props=x;var k=h.context,Q=a.contextType;g=Zr,typeof Q=="object"&&Q!==null&&(g=Fe(Q));var K=a.getDerivedStateFromProps;Q=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||k!==g)&&Ng(n,h,l,g),pa=!1;var B=n.memoizedState;h.state=B,Al(n,l,h,c),Tl(),k=n.memoizedState,E||B!==k||pa?(typeof K=="function"&&(Of(n,a,K,l),k=n.memoizedState),(x=pa||xg(n,a,x,l,B,k,g))?(Q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),h.props=l,h.state=k,h.context=g,l=x):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,ff(t,n),g=n.memoizedProps,Q=Er(a,g),h.props=Q,K=n.pendingProps,B=h.context,k=a.contextType,x=Zr,typeof k=="object"&&k!==null&&(x=Fe(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==K||B!==x)&&Ng(n,h,l,x),pa=!1,B=n.memoizedState,h.state=B,Al(n,l,h,c),Tl();var F=n.memoizedState;g!==K||B!==F||pa||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(Of(n,a,E,l),F=n.memoizedState),(Q=pa||xg(n,a,Q,l,B,F,x)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,F,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,F,x)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),h.props=l,h.state=F,h.context=x,l=Q):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,gu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=_r(n,t.child,null,c),n.child=_r(n,null,a,c)):Ge(t,n,a,c),n.memoizedState=h.state,t=n.child):t=qi(t,n,c),t}function Gg(t,n,a,l){return hr(),n.flags|=256,Ge(t,n,a,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:Om()}}function Pf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=An),t}function Qg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?va(n):Ea(),(t=ae)?(t=ty(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ha!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,He=n,ae=null)):t=null,t===null)throw ma(n);return Sh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Ea(),c=n.mode,E=pu({mode:"hidden",children:E},c),l=fr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Bf(a),l.childLanes=Pf(t,g,a),n.memoizedState=kf,Dl(null,l)):(va(n),qf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(h)n.flags&256?(va(n),n.flags&=-257,n=Hf(t,n,a)):n.memoizedState!==null?(Ea(),n.child=t.child,n.flags|=128,n=null):(Ea(),E=l.fallback,c=n.mode,l=pu({mode:"visible",children:l.children},c),E=fr(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,_r(n,t.child,null,a),l=n.child,l.memoizedState=Bf(a),l.childLanes=Pf(t,g,a),n.memoizedState=kf,n=Dl(null,l));else if(va(n),Sh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(s(419)),l.stack="",l.digest=g,gl({value:l,source:null,stack:null}),n=Hf(t,n,a)}else if(we||ts(t,n,a,!1),g=(a&t.childLanes)!==0,we||g){if(g=ee,g!==null&&(l=Ks(g,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,cr(t,l),dn(g,t,l),Lf;Ah(E)||wu(),n=Hf(t,n,a)}else Ah(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,ae=Un(E.nextSibling),He=n,Lt=!0,da=null,On=!1,t!==null&&Cm(n,t),n=qf(n,l.children),n.flags|=4096);return n}return c?(Ea(),E=l.fallback,c=n.mode,x=t.child,k=x.sibling,l=Ui(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,k!==null?E=Ui(k,E):(E=fr(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Dl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Bf(a):(c=E.cachePool,c!==null?(x=Se._currentValue,c=c.parent!==x?{parent:x,pool:x}:c):c=Om(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Pf(t,g,a),n.memoizedState=kf,Dl(t.child,l)):(va(n),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function qf(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function Hf(t,n,a){return _r(n,t.child,null,a),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Yg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),af(t.return,n,a)}function Ff(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function Kg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(ge,g),Ge(t,n,l,a),l=Lt?ml:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,a,n);else if(t.tag===19)Yg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ff(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ff(n,!0,a,null,h,l);break;case"together":Ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Sa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ts(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ui(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function EE(t,n,a){switch(n.tag){case 3:ie(n,n.stateNode.containerInfo),ga(n,Se,t.memoizedState.cache),hr();break;case 27:case 5:ti(n);break;case 4:ie(n,n.stateNode.containerInfo);break;case 10:ga(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(va(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Qg(t,n,a):(va(n),t=qi(t,n,a),t!==null?t.sibling:null);va(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ts(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Kg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(ge,ge.current),l)break;return null;case 22:return n.lanes=0,Bg(t,n,a,n.pendingProps);case 24:ga(n,Se,t.memoizedState.cache)}return qi(t,n,a)}function Xg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Gf(t,a)&&(n.flags&128)===0)return we=!1,EE(t,n,a);we=(t.flags&131072)!==0}else we=!1,Lt&&(n.flags&1048576)!==0&&Dm(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=pr(n.elementType),n.type=t,typeof t=="function")Xc(t)?(l=Er(t,l),n.tag=1,n=Fg(null,n,t,l,a)):(n.tag=0,n=jf(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===vt){n.tag=11,n=Lg(null,n,t,l,a);break t}else if(c===N){n.tag=14,n=jg(null,n,t,l,a);break t}}throw n=Vt(t)||t,Error(s(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Er(l,n.pendingProps),Fg(t,n,l,c,a);case 3:t:{if(ie(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,ff(t,n),Al(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ga(n,Se,l),l!==h.cache&&rf(n,[Se],a,!0),Tl(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Gg(t,n,l,a);break t}else if(l!==c){c=In(Error(s(424)),n),gl(c),n=Gg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Un(t.firstChild),He=n,Lt=!0,da=null,On=!0,a=Bm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hr(),l===c){n=qi(t,n,a);break t}Ge(t,n,l,a)}n=n.child}return n;case 26:return gu(t,n),t===null?(a=sy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,t=n.pendingProps,l=Vu(yt.current).createElement(a),l[Ee]=n,l[Le]=t,Qe(l,a,t),Te(l),n.stateNode=l):n.memoizedState=sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ti(n),t===null&&Lt&&(l=n.stateNode=iy(n.type,n.pendingProps,yt.current),He=n,On=!0,c=ae,Ca(n.type)?(bh=c,ae=Un(l.firstChild)):ae=c),Ge(t,n,n.pendingProps.children,a),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((c=l=ae)&&(l=ZE(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,He=n,ae=Un(l.firstChild),On=!1,c=!0):c=!1),c||ma(n)),ti(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,vh(c,h)?l=null:g!==null&&vh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=_f(t,n,fE,null,null,a),ql._currentValue=c),gu(t,n),Ge(t,n,l,a),n.child;case 6:return t===null&&Lt&&((t=a=ae)&&(a=$E(a,n.pendingProps,On),a!==null?(n.stateNode=a,He=n,ae=null,t=!0):t=!1),t||ma(n)),null;case 13:return Qg(t,n,a);case 4:return ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_r(n,null,l,a):Ge(t,n,l,a),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,a);case 7:return Ge(t,n,n.pendingProps,a),n.child;case 8:return Ge(t,n,n.pendingProps.children,a),n.child;case 12:return Ge(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ga(n,n.type,l.value),Ge(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,mr(n),c=Fe(c),l=l(c),n.flags|=1,Ge(t,n,l,a),n.child;case 14:return jg(t,n,n.type,n.pendingProps,a);case 15:return kg(t,n,n.type,n.pendingProps,a);case 19:return Kg(t,n,a);case 31:return vE(t,n,a);case 22:return Bg(t,n,a,n.pendingProps);case 24:return mr(n),l=Fe(Se),t===null?(c=of(),c===null&&(c=ee,h=sf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},cf(n),ga(n,Se,c)):((t.lanes&a)!==0&&(ff(t,n),Al(n,null,null,a),Tl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ga(n,Se,l)):(l=h.cache,ga(n,Se,l),l!==c.cache&&rf(n,[Se],a,!0))),Ge(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(t){t.flags|=4}function Qf(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ap())t.flags|=8192;else throw yr=tu,uf}else t.flags&=-16777217}function Zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fy(n))if(Ap())t.flags|=8192;else throw yr=tu,uf}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?So():536870912,t.lanes|=n,hs|=n)}function Cl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function TE(t,n,a){var l=n.pendingProps;switch(Wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(Se),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wr(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),re(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Hi(n),h!==null?(re(n),Zg(n,h)):(re(n),Qf(n,c,null,l,a))):h?h!==t.memoizedState?(Hi(n),re(n),Zg(n,h)):(re(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(n),re(n),Qf(n,c,t,l,a)),null;case 27:if(ta(n),a=yt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=st.current,Wr(n)?xm(n):(t=iy(c,l,a),n.stateNode=t,Hi(n))}return re(n),null;case 5:if(ta(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(h=st.current,Wr(n))xm(n);else{var g=Vu(yt.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[Ee]=n,h[Le]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(Qe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(n)}}return re(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,Wr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=He,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Qp(t.nodeValue,a)),t||ma(n,!0)}else t=Vu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return re(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Wr(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ee]=n}else hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(s(558))}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Wr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),yu(n,n.updateQueue),re(n),null);case 4:return te(),t===null&&mh(n.stateNode.containerInfo),re(n),null;case 10:return ki(n.type),re(n),null;case 19:if(U(ge),l=n.memoizedState,l===null)return re(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)Cl(l,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=au(t),h!==null){for(n.flags|=128,Cl(l,!1),t=h.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)bm(a,t),a=a.sibling;return J(ge,ge.current&1|2),Lt&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&an()>Au&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304)}else{if(!c)if(t=au(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Lt)return re(n),null}else 2*an()-l.renderingStartTime>Au&&a!==536870912&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=ge.current,J(ge,c?a&1|2:a&1),Lt&&Li(n,l.treeForkCount),t):(re(n),null);case 22:case 23:return En(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&U(gr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ki(Se),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function AE(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ki(Se),te(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(s(340));hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return U(ge),null;case 4:return te(),null;case 10:return ki(n.type),null;case 22:case 23:return En(n),gf(),t!==null&&U(gr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ki(Se),null;case 25:return null;default:return null}}function $g(t,n){switch(Wc(n),n.tag){case 3:ki(Se),te();break;case 26:case 27:case 5:ta(n);break;case 4:te();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:U(ge);break;case 10:ki(n.type);break;case 22:case 23:En(n),gf(),t!==null&&U(gr);break;case 24:ki(Se)}}function xl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Ta(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var x=a,k=E;try{k()}catch(Q){Xt(c,x,Q)}}}l=l.next}while(l!==h)}}catch(Q){Xt(n,n.return,Q)}}function Jg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{qm(n,a)}catch(l){Xt(t,t.return,l)}}}function Wg(t,n,a){a.props=Er(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Nl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Ei(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function tp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Yf(t,n,a){try{var l=t.stateNode;FE(l,t.type,a,n),l[Le]=n}catch(c){Xt(t,t.return,c)}}function ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ca(t.type)||t.tag===4}function Kf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Ca(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,a),t=t.sibling;t!==null;)Xf(t,n,a),t=t.sibling}function _u(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ca(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_u(t,n,a),t=t.sibling;t!==null;)_u(t,n,a),t=t.sibling}function np(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Qe(n,l,a),n[Ee]=t,n[Le]=a}catch(h){Xt(t,t.return,h)}}var Fi=!1,Re=!1,Zf=!1,ip=typeof WeakSet=="function"?WeakSet:Set,ke=null;function SE(t,n){if(t=t.containerInfo,yh=ku,t=gm(t),qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,x=-1,k=0,Q=0,K=t,B=null;e:for(;;){for(var F;K!==a||c!==0&&K.nodeType!==3||(E=g+c),K!==h||l!==0&&K.nodeType!==3||(x=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(F=K.firstChild)!==null;)B=K,K=F;for(;;){if(K===t)break e;if(B===a&&++k===c&&(E=g),B===h&&++Q===l&&(x=g),(F=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=F}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(_h={focusedElem:t,selectionRange:a},ku=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var ut=Er(a.type,c);t=l.getSnapshotBeforeUpdate(ut,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Xt(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Th(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}}function ap(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&xl(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Xt(a,a.return,g)}else{var c=Er(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(a,a.return,g)}}l&64&&Jg(a),l&512&&Nl(a,a.return);break;case 3:if(Qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qm(t,n)}catch(g){Xt(a,a.return,g)}}break;case 27:n===null&&l&4&&np(a);case 26:case 5:Qi(t,a),n===null&&l&4&&tp(a),l&512&&Nl(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),l&4&&lp(t,a);break;case 13:Qi(t,a),l&4&&op(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=VE.bind(null,a),JE(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Re,c=Fi;var h=Re;Fi=l,(Re=n)&&!h?Yi(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Fi=c,Re=h}break;case 30:break;default:Qi(t,a)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,un=!1;function Gi(t,n,a){for(a=a.child;a!==null;)sp(t,n,a),a=a.sibling}function sp(t,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Re||Ei(a,n),Gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ei(a,n);var l=oe,c=un;Ca(a.type)&&(oe=a.stateNode,un=!1),Gi(t,n,a),kl(a.stateNode),oe=l,un=c;break;case 5:Re||Ei(a,n);case 6:if(l=oe,c=un,oe=null,Gi(t,n,a),oe=l,un=c,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(h){Xt(a,n,h)}else try{oe.removeChild(a.stateNode)}catch(h){Xt(a,n,h)}break;case 18:oe!==null&&(un?(t=oe,Jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Es(t)):Jp(oe,a.stateNode));break;case 4:l=oe,c=un,oe=a.stateNode.containerInfo,un=!0,Gi(t,n,a),oe=l,un=c;break;case 0:case 11:case 14:case 15:Ta(2,a,n),Re||Ta(4,a,n),Gi(t,n,a);break;case 1:Re||(Ei(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wg(a,n,l)),Gi(t,n,a);break;case 21:Gi(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Gi(t,n,a),Re=l;break;default:Gi(t,n,a)}}function lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Es(t)}catch(a){Xt(n,n.return,a)}}}function op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Es(t)}catch(a){Xt(n,n.return,a)}}function bE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ip),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ip),n;default:throw Error(s(435,t.tag))}}function vu(t,n){var a=bE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=ME.bind(null,t,l);l.then(c,c)}})}function cn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ca(E.type)){oe=E.stateNode,un=!1;break t}break;case 5:oe=E.stateNode,un=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(oe===null)throw Error(s(160));sp(h,g,c),oe=null,un=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)up(n,t),n=n.sibling}var Zn=null;function up(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),fn(t),l&4&&(Ta(3,t,t.return),xl(3,t),Ta(5,t,t.return));break;case 1:cn(n,t),fn(t),l&512&&(Re||a===null||Ei(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Zn;if(cn(n,t),fn(t),l&512&&(Re||a===null||Ei(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[si]||h[Ee]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Qe(h,l,a),h[Ee]=t,Te(h),l=h;break t;case"link":var g=uy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),Qe(h,l,a),c.head.appendChild(h);break;case"meta":if(g=uy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),Qe(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[Ee]=t,Te(h),l=h}t.stateNode=l}else cy(c,t.type,t.stateNode);else t.stateNode=oy(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?cy(c,t.type,t.stateNode):oy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(n,t),fn(t),l&512&&(Re||a===null||Ei(a,a.return)),a!==null&&l&4&&Yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,t),fn(t),l&512&&(Re||a===null||Ei(a,a.return)),t.flags&32){c=t.stateNode;try{on(c,"")}catch(ut){Xt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Yf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Zf=!0);break;case 6:if(cn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ut){Xt(t,t.return,ut)}}break;case 3:if(zu=null,c=Zn,Zn=Mu(n.containerInfo),cn(n,t),Zn=c,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Es(n.containerInfo)}catch(ut){Xt(t,t.return,ut)}Zf&&(Zf=!1,cp(t));break;case 4:l=Zn,Zn=Mu(t.stateNode.containerInfo),cn(n,t),fn(t),Zn=l;break;case 12:cn(n,t),fn(t);break;case 31:cn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:cn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tu=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:c=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,k=Fi,Q=Re;if(Fi=k||c,Re=Q||x,cn(n,t),Re=Q,Fi=k,fn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||x||Fi||Re||Tr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(h=x.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var K=x.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ut){Xt(x,x.return,ut)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(ut){Xt(x,x.return,ut)}}}else if(n.tag===18){if(a===null){x=n;try{var F=x.stateNode;c?Wp(F,!0):Wp(x.stateNode,!1)}catch(ut){Xt(x,x.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vu(t,a))));break;case 19:cn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:cn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(ep(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=Kf(t);_u(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(on(g,""),a.flags&=-33);var E=Kf(t);_u(t,E,g);break;case 3:case 4:var x=a.stateNode.containerInfo,k=Kf(t);Xf(t,k,x);break;default:throw Error(s(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function cp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ap(t,n.alternate,n),n=n.sibling}function Tr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ta(4,n,n.return),Tr(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Wg(n,n.return,a),Tr(n);break;case 27:kl(n.stateNode);case 26:case 5:Ei(n,n.return),Tr(n);break;case 22:n.memoizedState===null&&Tr(n);break;case 30:Tr(n);break;default:Tr(n)}t=t.sibling}}function Yi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Yi(c,h,a),xl(4,h);break;case 1:if(Yi(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Xt(l,l.return,k)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)Pm(x[c],E)}catch(k){Xt(l,l.return,k)}}a&&g&64&&Jg(h),Nl(h,h.return);break;case 27:np(h);case 26:case 5:Yi(c,h,a),a&&l===null&&g&4&&tp(h),Nl(h,h.return);break;case 12:Yi(c,h,a);break;case 31:Yi(c,h,a),a&&g&4&&lp(c,h);break;case 13:Yi(c,h,a),a&&g&4&&op(c,h);break;case 22:h.memoizedState===null&&Yi(c,h,a),Nl(h,h.return);break;case 30:break;default:Yi(c,h,a)}n=n.sibling}}function $f(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(t,n,a,l),n=n.sibling}function fp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),c&2048&&xl(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t)));break;case 12:if(c&2048){$n(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Xt(n,n.return,x)}}else $n(t,n,a,l);break;case 31:$n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?$n(t,n,a,l):Il(t,n):h._visibility&2?$n(t,n,a,l):(h._visibility|=2,us(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&$f(g,n);break;case 24:$n(t,n,a,l),c&2048&&Jf(n.alternate,n);break;default:$n(t,n,a,l)}}function us(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,x=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:us(h,g,E,x,c),xl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?us(h,g,E,x,c):Il(h,g):(Q._visibility|=2,us(h,g,E,x,c)),c&&k&2048&&$f(g.alternate,g);break;case 24:us(h,g,E,x,c),c&&k&2048&&Jf(g.alternate,g);break;default:us(h,g,E,x,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Il(a,l),c&2048&&$f(l.alternate,l);break;case 24:Il(a,l),c&2048&&Jf(l.alternate,l);break;default:Il(a,l)}n=n.sibling}}var Vl=8192;function cs(t,n,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)hp(t,n,a),t=t.sibling}function hp(t,n,a){switch(t.tag){case 26:cs(t,n,a),t.flags&Vl&&t.memoizedState!==null&&cT(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:cs(t,n,a);break;case 3:case 4:var l=Zn;Zn=Mu(t.stateNode.containerInfo),cs(t,n,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,cs(t,n,a),Vl=l):cs(t,n,a));break;default:cs(t,n,a)}}function dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,gp(l,t)}dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mp(t),t=t.sibling}function mp(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Ta(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Ml(t);break;default:Ml(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,gp(l,t)}dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ta(8,n,n.return),Eu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function gp(t,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Ta(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=t;ke!==null;){l=ke;var c=l.sibling,h=l.return;if(rp(l),l===a){ke=null;break t}if(c!==null){c.return=h,ke=c;break t}ke=h}}}var wE={getCacheForType:function(t){var n=Fe(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Fe(Se).controller.signal}},RE=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Nt=null,Mt=0,Kt=0,Tn=null,Aa=!1,fs=!1,Wf=!1,Ki=0,fe=0,Sa=0,Ar=0,th=0,An=0,hs=0,Ol=null,hn=null,eh=!1,Tu=0,pp=0,Au=1/0,Su=null,ba=null,Ve=0,wa=null,ds=null,Xi=0,nh=0,ih=null,yp=null,zl=0,ah=null;function Sn(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:G.T!==null?ch():bo()}function _p(){if(An===0)if((Mt&536870912)===0||Lt){var t=Xa;Xa<<=1,(Xa&3932160)===0&&(Xa=262144),An=t}else An=536870912;return t=vn.current,t!==null&&(t.flags|=32),An}function dn(t,n,a){(t===ee&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(ms(t,0),Ra(t,Mt,An,!1)),Za(t,a),((Ft&2)===0||t!==ee)&&(t===ee&&((Ft&2)===0&&(Ar|=a),fe===4&&Ra(t,Mt,An,!1)),Ti(t))}function vp(t,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),c=l?xE(t,n):sh(t,n,!0),h=l;do{if(c===0){fs&&!l&&Ra(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!DE(a)){c=sh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Ol;var x=E.current.memoizedState.isDehydrated;if(x&&(ms(E,g).flags|=256),g=sh(E,g,!1),g!==2){if(Wf&&!x){E.errorRecoveryDisabledLanes|=h,Ar|=h,c=4;break t}h=hn,hn=c,h!==null&&(hn===null?hn=h:hn.push.apply(hn,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){ms(t,0),Ra(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ra(l,n,An,!Aa);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Tu+300-an(),10<c)){if(Ra(l,n,An,!Aa),ii(l,0,!0)!==0)break t;Xi=n,l.timeoutHandle=Zp(Ep.bind(null,l,a,hn,Su,eh,n,An,Ar,hs,Aa,h,"Throttled",-0,0),c);break t}Ep(l,a,hn,Su,eh,n,An,Ar,hs,Aa,h,null,-0,0)}}break}while(!0);Ti(t)}function Ep(t,n,a,l,c,h,g,E,x,k,Q,K,B,F){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},hp(n,h,K);var ut=(h&62914560)===h?Tu-an():(h&4194048)===h?pp-an():0;if(ut=fT(K,ut),ut!==null){Xi=h,t.cancelPendingCommit=ut(Cp.bind(null,t,n,h,a,l,c,g,E,x,Q,K,null,B,F)),Ra(t,h,g,!k);return}}Cp(t,n,h,a,l,c,g,E,x)}function DE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!yn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ra(t,n,a,l){n&=~th,n&=~Ar,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-de(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&$a(t,a,n)}function bu(){return(Ft&6)===0?(Ul(0),!1):!0}function rh(){if(Nt!==null){if(Kt===0)var t=Nt.return;else t=Nt,ji=dr=null,Tf(t),as=null,_l=0,t=Nt;for(;t!==null;)$g(t.alternate,t),t=t.return;Nt=null}}function ms(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,rh(),ee=t,Nt=a=Ui(t.current,null),Mt=n,Kt=0,Tn=null,Aa=!1,fs=Pn(t,n),Wf=!1,hs=An=th=Ar=Sa=fe=0,hn=Ol=null,eh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-de(l),h=1<<c;n|=t[c],l&=~h}return Ki=n,Go(),a}function Tp(t,n){Dt=null,G.H=Rl,n===is||n===Wo?(n=Lm(),Kt=3):n===uf?(n=Lm(),Kt=4):Kt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Nt===null&&(fe=1,du(t,In(n,t.current)))}function Ap(){var t=vn.current;return t===null?!0:(Mt&4194048)===Mt?zn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===zn:!1}function Sp(){var t=G.H;return G.H=Rl,t===null?Rl:t}function bp(){var t=G.A;return G.A=wE,t}function wu(){fe=4,Aa||(Mt&4194048)!==Mt&&vn.current!==null||(fs=!0),(Sa&134217727)===0&&(Ar&134217727)===0||ee===null||Ra(ee,Mt,An,!1)}function sh(t,n,a){var l=Ft;Ft|=2;var c=Sp(),h=bp();(ee!==t||Mt!==n)&&(Su=null,ms(t,n)),n=!1;var g=fe;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,x=Tn;switch(Kt){case 8:rh(),g=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var k=Kt;if(Kt=0,Tn=null,gs(t,E,x,k),a&&fs){g=0;break t}break;default:k=Kt,Kt=0,Tn=null,gs(t,E,x,k)}}CE(),g=fe;break}catch(Q){Tp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ji=dr=null,Ft=l,G.H=c,G.A=h,Nt===null&&(ee=null,Mt=0,Go()),g}function CE(){for(;Nt!==null;)wp(Nt)}function xE(t,n){var a=Ft;Ft|=2;var l=Sp(),c=bp();ee!==t||Mt!==n?(Su=null,Au=an()+500,ms(t,n)):fs=Pn(t,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var h=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,gs(t,n,h,1);break;case 2:case 9:if(zm(h)){Kt=0,Tn=null,Rp(n);break}n=function(){Kt!==2&&Kt!==9||ee!==t||(Kt=7),Ti(t)},h.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:zm(h)?(Kt=0,Tn=null,Rp(n)):(Kt=0,Tn=null,gs(t,n,h,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?fy(g):E.stateNode.complete){Kt=0,Tn=null;var x=E.sibling;if(x!==null)Nt=x;else{var k=E.return;k!==null?(Nt=k,Ru(k)):Nt=null}break e}}Kt=0,Tn=null,gs(t,n,h,5);break;case 6:Kt=0,Tn=null,gs(t,n,h,6);break;case 8:rh(),fe=6;break t;default:throw Error(s(462))}}NE();break}catch(Q){Tp(t,Q)}while(!0);return ji=dr=null,G.H=l,G.A=c,Ft=a,Nt!==null?0:(ee=null,Mt=0,Go(),fe)}function NE(){for(;Nt!==null&&!zc();)wp(Nt)}function wp(t){var n=Xg(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,n===null?Ru(t):Nt=n}function Rp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Hg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Hg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Tf(n);default:$g(a,n),n=Nt=bm(n,Ki),n=Xg(a,n,Ki)}t.memoizedProps=t.pendingProps,n===null?Ru(t):Nt=n}function gs(t,n,a,l){ji=dr=null,Tf(n),as=null,_l=0;var c=n.return;try{if(_E(t,c,n,a,Mt)){fe=1,du(t,In(a,t.current)),Nt=null;return}}catch(h){if(c!==null)throw Nt=c,h;fe=1,du(t,In(a,t.current)),Nt=null;return}n.flags&32768?(Lt||l===1?t=!0:fs||(Mt&536870912)!==0?t=!1:(Aa=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dp(n,t)):Ru(n)}function Ru(t){var n=t;do{if((n.flags&32768)!==0){Dp(n,Aa);return}t=n.return;var a=TE(n.alternate,n,Ki);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);fe===0&&(fe=5)}function Dp(t,n){do{var a=AE(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);fe=6,Nt=null}function Cp(t,n,a,l,c,h,g,E,x){t.cancelPendingCommit=null;do Du();while(Ve!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Yc,jc(t,a,h,g,E,x),t===ee&&(Nt=ee=null,Mt=0),ds=n,wa=t,Xi=a,nh=h,ih=c,yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OE(na,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,g=Ft,Ft|=4;try{SE(t,n,a)}finally{Ft=g,it.p=c,G.T=l}}Ve=1,xp(),Np(),Ip()}}function xp(){if(Ve===1){Ve=0;var t=wa,n=ds,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var c=Ft;Ft|=4;try{up(n,t);var h=_h,g=gm(t.containerInfo),E=h.focusedElem,x=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&mm(E.ownerDocument.documentElement,E)){if(x!==null&&qc(E)){var k=x.start,Q=x.end;if(Q===void 0&&(Q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var F=B.getSelection(),ut=E.textContent.length,_t=Math.min(x.start,ut),Wt=x.end===void 0?_t:Math.min(x.end,ut);!F.extend&&_t>Wt&&(g=Wt,Wt=_t,_t=g);var z=dm(E,_t),V=dm(E,Wt);if(z&&V&&(F.rangeCount!==1||F.anchorNode!==z.node||F.anchorOffset!==z.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var j=K.createRange();j.setStart(z.node,z.offset),F.removeAllRanges(),_t>Wt?(F.addRange(j),F.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),F.addRange(j))}}}}for(K=[],F=E;F=F.parentNode;)F.nodeType===1&&K.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}ku=!!yh,_h=yh=null}finally{Ft=c,it.p=l,G.T=a}}t.current=n,Ve=2}}function Np(){if(Ve===2){Ve=0;var t=wa,n=ds,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var c=Ft;Ft|=4;try{ap(t,n.alternate,n)}finally{Ft=c,it.p=l,G.T=a}}Ve=3}}function Ip(){if(Ve===4||Ve===3){Ve=0,yo();var t=wa,n=ds,a=Xi,l=yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,ds=wa=null,Vp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ba=null),Vi(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=c}}(Xi&3)!==0&&Du(),Ti(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ah?zl++:(zl=0,ah=t):zl=0,Ul(0)}}function Vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,pl(n)))}function Du(){return xp(),Np(),Ip(),Mp()}function Mp(){if(Ve!==5)return!1;var t=wa,n=nh;nh=0;var a=Vi(Xi),l=G.T,c=it.p;try{it.p=32>a?32:a,G.T=null,a=ih,ih=null;var h=wa,g=Xi;if(Ve=0,ds=wa=null,Xi=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,mp(h.current),fp(h,h.current,g,a),Ft=E,Ul(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Bn,h)}catch{}return!0}finally{it.p=c,G.T=l,Vp(t,n)}}function Op(t,n,a){n=In(a,n),n=Uf(t.stateNode,n,2),t=_a(t,n,2),t!==null&&(Za(t,2),Ti(t))}function Xt(t,n,a){if(t.tag===3)Op(t,t,a);else for(;n!==null;){if(n.tag===3){Op(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ba===null||!ba.has(l))){t=In(a,t),a=zg(2),l=_a(n,a,2),l!==null&&(Ug(a,l,n,t),Za(l,2),Ti(l));break}}n=n.return}}function lh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new RE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Wf=!0,c.add(a),t=IE.bind(null,t,n,a),n.then(t,t))}function IE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ee===t&&(Mt&a)===a&&(fe===4||fe===3&&(Mt&62914560)===Mt&&300>an()-Tu?(Ft&2)===0&&ms(t,0):th|=a,hs===Mt&&(hs=0)),Ti(t)}function zp(t,n){n===0&&(n=So()),t=cr(t,n),t!==null&&(Za(t,n),Ti(t))}function VE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),zp(t,a)}function ME(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),zp(t,a)}function OE(t,n){return Ie(t,n)}var Cu=null,ps=null,oh=!1,xu=!1,uh=!1,Da=0;function Ti(t){t!==ps&&t.next===null&&(ps===null?Cu=ps=t:ps=ps.next=t),xu=!0,oh||(oh=!0,UE())}function Ul(t,n){if(!uh&&xu){uh=!0;do for(var a=!1,l=Cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-de(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,kp(l,h))}else h=Mt,h=ii(l,l===ee?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Pn(l,h)||(a=!0,kp(l,h));l=l.next}while(a);uh=!1}}function zE(){Up()}function Up(){xu=oh=!1;var t=0;Da!==0&&QE()&&(t=Da);for(var n=an(),a=null,l=Cu;l!==null;){var c=l.next,h=Lp(l,n);h===0?(l.next=null,a===null?Cu=c:a.next=c,c===null&&(ps=a)):(a=l,(t!==0||(h&3)!==0)&&(xu=!0)),l=c}Ve!==0&&Ve!==5||Ul(t),Da!==0&&(Da=0)}function Lp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-de(h),E=1<<g,x=c[g];x===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Lc(E,n)):x<=n&&(t.expiredLanes|=E),h&=~E}if(n=ee,a=Mt,a=ii(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ea(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ea(l),Vi(a)){case 2:case 8:a=Qs;break;case 32:a=na;break;case 268435456:a=_o;break;default:a=na}return l=jp.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ea(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Du()&&t.callbackNode!==a)return null;var l=Mt;return l=ii(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(vp(t,l,n),Lp(t,an()),t.callbackNode!=null&&t.callbackNode===a?jp.bind(null,t):null)}function kp(t,n){if(Du())return null;vp(t,n,!0)}function UE(){KE(function(){(Ft&6)!==0?Ie(Gs,zE):Up()})}function ch(){if(Da===0){var t=es;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Da=t}return Da}function Bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Br(""+t)}function Pp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function LE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Bp((c[Le]||null).action),g=l.submitter;g&&(n=(n=g[Le]||null)?Bp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new mi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Da!==0){var x=g?Pp(c,g):new FormData(c);Nf(a,{pending:!0,data:x,method:c.method,action:h},null,x)}}else typeof h=="function"&&(E.preventDefault(),x=g?Pp(c,g):new FormData(c),Nf(a,{pending:!0,data:x,method:c.method,action:h},h,x))},currentTarget:c}]})}}for(var fh=0;fh<Qc.length;fh++){var hh=Qc[fh],jE=hh.toLowerCase(),kE=hh[0].toUpperCase()+hh.slice(1);Xn(jE,"on"+kE)}Xn(_m,"onAnimationEnd"),Xn(vm,"onAnimationIteration"),Xn(Em,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(eE,"onTransitionRun"),Xn(nE,"onTransitionStart"),Xn(iE,"onTransitionCancel"),Xn(Tm,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function qp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],x=E.instance,k=E.currentTarget;if(E=E.listener,x!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=k;try{h(c)}catch(Q){Fo(Q)}c.currentTarget=null,h=x}else for(g=0;g<l.length;g++){if(E=l[g],x=E.instance,k=E.currentTarget,E=E.listener,x!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=k;try{h(c)}catch(Q){Fo(Q)}c.currentTarget=null,h=x}}}}function It(t,n){var a=n[zr];a===void 0&&(a=n[zr]=new Set);var l=t+"__bubble";a.has(l)||(Hp(n,t,2,!1),a.add(l))}function dh(t,n,a){var l=0;n&&(l|=4),Hp(a,t,l,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function mh(t){if(!t[Nu]){t[Nu]=!0,Xs.forEach(function(a){a!=="selectionchange"&&(BE.has(a)||dh(a,!1,t),dh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,dh("selectionchange",!1,n))}}function Hp(t,n,a,l){switch(_y(n)){case 2:var c=mT;break;case 8:c=gT;break;default:c=xh}a=c.bind(null,n,a,t),c=void 0,!nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function gh(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=li(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=h=g;continue t}E=E.parentNode}}l=l.return}oa(function(){var k=h,Q=Dn(a),K=[];t:{var B=Am.get(t);if(B!==void 0){var F=mi,ut=t;switch(t){case"keypress":if(ar(a)===0)break t;case"keydown":case"keyup":F=Po;break;case"focusin":ut="focus",F=sr;break;case"focusout":ut="blur",F=sr;break;case"beforeblur":case"afterblur":F=sr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case _m:case vm:case Em:F=Oo;break;case Tm:F=T;break;case"scroll":case"scrollend":F=ll;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=zi;break;case"toggle":case"beforetoggle":F=Rt}var _t=(n&4)!==0,Wt=!_t&&(t==="scroll"||t==="scrollend"),z=_t?B!==null?B+"Capture":null:B;_t=[];for(var V=k,j;V!==null;){var Y=V;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||z===null||(Y=Gn(V,z),Y!=null&&_t.push(jl(V,Y,j))),Wt)break;V=V.return}0<_t.length&&(B=new F(B,ut,null,a,Q),K.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==al&&(ut=a.relatedTarget||a.fromElement)&&(li(ut)||ut[ri]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ut=a.relatedTarget||a.toElement,F=k,ut=ut?li(ut):null,ut!==null&&(Wt=f(ut),_t=ut.tag,ut!==Wt||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(F=null,ut=k),F!==ut)){if(_t=ol,Y="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_t=zi,Y="onPointerLeave",z="onPointerEnter",V="pointer"),Wt=F==null?B:gn(F),j=ut==null?B:gn(ut),B=new _t(Y,V+"leave",F,a,Q),B.target=Wt,B.relatedTarget=j,Y=null,li(Q)===k&&(_t=new _t(z,V+"enter",ut,a,Q),_t.target=j,_t.relatedTarget=Wt,Y=_t),Wt=Y,F&&ut)e:{for(_t=PE,z=F,V=ut,j=0,Y=z;Y;Y=_t(Y))j++;Y=0;for(var gt=V;gt;gt=_t(gt))Y++;for(;0<j-Y;)z=_t(z),j--;for(;0<Y-j;)V=_t(V),Y--;for(;j--;){if(z===V||V!==null&&z===V.alternate){_t=z;break e}z=_t(z),V=_t(V)}_t=null}else _t=null;F!==null&&Fp(K,B,F,_t,!1),ut!==null&&Wt!==null&&Fp(K,Wt,ut,_t,!0)}}t:{if(B=k?gn(k):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Pt=lm;else if(rm(B))if(om)Pt=J0;else{Pt=Z0;var ft=X0}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&kr(k.elementType)&&(Pt=lm):Pt=$0;if(Pt&&(Pt=Pt(t,k))){sm(K,Pt,a,Q);break t}ft&&ft(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&el(B,"number",B.value)}switch(ft=k?gn(k):window,t){case"focusin":(rm(ft)||ft.contentEditable==="true")&&(Yr=ft,Hc=k,dl=null);break;case"focusout":dl=Hc=Yr=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,pm(K,a,Q);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":pm(K,a,Q)}var Ct;if(Ht)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Qr?lr(t,a)&&(Ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(yi&&a.locale!=="ko"&&(Qr||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Qr&&(Ct=sl()):(di=Q,rl="value"in di?di.value:di.textContent,Qr=!0)),ft=Iu(k,Ot),0<ft.length&&(Ot=new pi(Ot,t,null,a,Q),K.push({event:Ot,listeners:ft}),Ct?Ot.data=Ct:(Ct=Gr(a),Ct!==null&&(Ot.data=Ct)))),(Ct=xn?G0(t,a):Q0(t,a))&&(Ot=Iu(k,"onBeforeInput"),0<Ot.length&&(ft=new pi("onBeforeInput","beforeinput",null,a,Q),K.push({event:ft,listeners:Ot}),ft.data=Ct)),LE(K,t,k,a,Q)}qp(K,n)})}function jl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Iu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Gn(t,a),c!=null&&l.unshift(jl(t,c,h)),c=Gn(t,n),c!=null&&l.push(jl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function PE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,x=E.alternate,k=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||k===null||(x=k,c?(k=Gn(a,h),k!=null&&g.unshift(jl(a,k,x))):c||(k=Gn(a,h),k!=null&&g.push(jl(a,k,x)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var qE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(qE,`
`).replace(HE,"")}function Qp(t,n){return n=Gp(n),Gp(t)===n}function Jt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&on(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":il(t,l,h);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Br(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Br(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Br(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Lr(t,"popover",l);break;case"xlinkActuate":Ae(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Io.get(a)||a,Lr(t,a,l))}}function ph(t,n,a,l,c,h){switch(a){case"style":il(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Le]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Lr(t,a,l)}}}function Qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,h,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var E=h=g=c=null,x=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":k=Q;break;case"value":h=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Jt(t,n,l,Q,a,null)}}Co(t,h,E,x,k,g,c,!1);return;case"select":It("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?aa(t,!!l,n,!1):a!=null&&aa(t,!!l,a,!0);return;case"textarea":It("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(t,n,g,E,a,null)}ra(t,l,c,h);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(t,n,x,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)It(Ll[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,k,l,a,null)}return;default:if(kr(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&ph(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function FE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,x=null,k=null,Q=null;for(F in a){var K=a[F];if(a.hasOwnProperty(F)&&K!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=K;default:l.hasOwnProperty(F)||Jt(t,n,F,null,l,K)}}for(var B in l){var F=l[B];if(K=a[B],l.hasOwnProperty(B)&&(F!=null||K!=null))switch(B){case"type":h=F;break;case"name":c=F;break;case"checked":k=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==K&&Jt(t,n,B,F,l,K)}}jr(t,g,E,x,k,Q,h,c);return;case"select":F=g=E=B=null;for(h in a)if(x=a[h],a.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":F=x;default:l.hasOwnProperty(h)||Jt(t,n,h,null,l,x)}for(c in l)if(h=l[c],x=a[c],l.hasOwnProperty(c)&&(h!=null||x!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==x&&Jt(t,n,c,h,l,x)}n=E,a=g,l=F,B!=null?aa(t,!!a,B,!1):!!l!=!!a&&(n!=null?aa(t,!!a,n,!0):aa(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":B=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Jt(t,n,g,c,l,h)}xo(t,B,F);return;case"option":for(var ut in a)if(B=a[ut],a.hasOwnProperty(ut)&&B!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Jt(t,n,ut,null,l,B)}for(x in l)if(B=l[x],F=a[x],l.hasOwnProperty(x)&&B!==F&&(B!=null||F!=null))switch(x){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Jt(t,n,x,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&Jt(t,n,_t,null,l,B);for(k in l)if(B=l[k],F=a[k],l.hasOwnProperty(k)&&B!==F&&(B!=null||F!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Jt(t,n,k,B,l,F)}return;default:if(kr(n)){for(var Wt in a)B=a[Wt],a.hasOwnProperty(Wt)&&B!==void 0&&!l.hasOwnProperty(Wt)&&ph(t,n,Wt,void 0,l,B);for(Q in l)B=l[Q],F=a[Q],!l.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||ph(t,n,Q,B,l,F);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Jt(t,n,z,null,l,B);for(K in l)B=l[K],F=a[K],!l.hasOwnProperty(K)||B===F||B==null&&F==null||Jt(t,n,K,B,l,F)}function Yp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Yp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var x=a[l],k=x.startTime;if(k>E)break;var Q=x.transferSize,K=x.initiatorType;Q&&Yp(K)&&(x=x.responseEnd,g+=Q*(x<E?1:(E-k)/(x-k)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yh=null,_h=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Eh=null;function QE(){var t=window.event;return t&&t.type==="popstate"?t===Eh?!1:(Eh=t,!0):(Eh=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(XE)}:Zp;function XE(t){setTimeout(function(){throw t})}function Ca(t){return t==="head"}function Jp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Es(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&kl(t.ownerDocument.body);a=c}while(a);Es(n)}function Wp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Th(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Th(a),Ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ZE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function $E(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function ty(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Un(t.nextSibling),t===null))return null;return t}function Ah(t){return t.data==="$?"||t.data==="$~"}function Sh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function JE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bh=null;function ey(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Un(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function iy(t,n,a){switch(n=Vu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ur(t)}var Ln=new Map,ay=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=it.d;it.d={f:WE,r:tT,D:eT,C:nT,L:iT,m:aT,X:sT,S:rT,M:lT};function WE(){var t=Zi.f(),n=bu();return t||n}function tT(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Zi.r(t)}var ys=typeof document>"u"?null:document;function ry(t,n,a){var l=ys;if(l&&typeof n=="string"&&n){var c=ln(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ay.has(c)||(ay.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Qe(n,"link",t),Te(n),l.head.appendChild(n)))}}function eT(t){Zi.D(t),ry("dns-prefetch",t,null)}function nT(t,n){Zi.C(t,n),ry("preconnect",t,n)}function iT(t,n,a){Zi.L(t,n,a);var l=ys;if(l&&t&&n){var c='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ln(a.imageSizes)+'"]')):c+='[href="'+ln(t)+'"]';var h=c;switch(n){case"style":h=_s(t);break;case"script":h=vs(t)}Ln.has(h)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bl(h))||n==="script"&&l.querySelector(Pl(h))||(n=l.createElement("link"),Qe(n,"link",t),Te(n),l.head.appendChild(n)))}}function aT(t,n){Zi.m(t,n);var a=ys;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=vs(t)}if(!Ln.has(h)&&(t=b({rel:"modulepreload",href:t},n),Ln.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(h)))return}l=a.createElement("link"),Qe(l,"link",t),Te(l),a.head.appendChild(l)}}}function rT(t,n,a){Zi.S(t,n,a);var l=ys;if(l&&t){var c=oi(l).hoistableStyles,h=_s(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Bl(h)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(h))&&wh(t,a);var x=g=l.createElement("link");Te(x),Qe(x,"link",t),x._p=new Promise(function(k,Q){x.onload=k,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function sT(t,n){Zi.X(t,n);var a=ys;if(a&&t){var l=oi(a).hoistableScripts,c=vs(t),h=l.get(c);h||(h=a.querySelector(Pl(c)),h||(t=b({src:t,async:!0},n),(n=Ln.get(c))&&Rh(t,n),h=a.createElement("script"),Te(h),Qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function lT(t,n){Zi.M(t,n);var a=ys;if(a&&t){var l=oi(a).hoistableScripts,c=vs(t),h=l.get(c);h||(h=a.querySelector(Pl(c)),h||(t=b({src:t,async:!0,type:"module"},n),(n=Ln.get(c))&&Rh(t,n),h=a.createElement("script"),Te(h),Qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function sy(t,n,a,l){var c=(c=yt.current)?Mu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=_s(a.href),a=oi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_s(a.href);var h=oi(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Bl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),h||oT(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vs(a),a=oi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _s(t){return'href="'+ln(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qe(n,"link",a),Te(n),t.head.appendChild(n))}function vs(t){return'[src="'+ln(t)+'"]'}function Pl(t){return"script[async]"+t}function oy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return n.instance=l,Te(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Te(l),Qe(l,"style",c),Ou(l,a.precedence,t),n.instance=l;case"stylesheet":c=_s(a.href);var h=t.querySelector(Bl(c));if(h)return n.state.loading|=4,n.instance=h,Te(h),h;l=ly(a),(c=Ln.get(c))&&wh(l,c),h=(t.ownerDocument||t).createElement("link"),Te(h);var g=h;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Qe(h,"link",l),n.state.loading|=4,Ou(h,a.precedence,t),n.instance=h;case"script":return h=vs(a.src),(c=t.querySelector(Pl(h)))?(n.instance=c,Te(c),c):(l=a,(c=Ln.get(h))&&(l=b({},a),Rh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Te(c),Qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,t));return n.instance}function Ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zu=null;function uy(t,n,a){if(zu===null){var l=new Map,c=zu=new Map;c.set(a,l)}else c=zu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[si]||h[Ee]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function cy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function uT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=_s(l.href),h=n.querySelector(Bl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,Te(h);return}h=n.ownerDocument||n,l=ly(l),(c=Ln.get(c))&&wh(l,c),h=h.createElement("link"),Te(h);var g=h;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Qe(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dh=0;function fT(t,n){return t.stylesheets&&t.count===0&&ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Dh===0&&(Dh=62500*GE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Dh?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function ju(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(hT,t),Lu=null,Uu.call(t))}function hT(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:at,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function dT(t,n,a,l,c,h,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function hy(t,n,a,l,c,h,g,E,x,k,Q,K){return t=new dT(t,n,a,g,x,k,Q,K,E),n=1,h===!0&&(n|=24),h=_n(3,null,null,n),t.current=h,h.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},cf(h),t}function dy(t){return t?(t=Zr,t):Zr}function my(t,n,a,l,c,h){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=ya(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=_a(t,l,n),a!==null&&(dn(a,t,n),El(a,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ch(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13||t.tag===31){var n=cr(t,67108864);n!==null&&dn(n,t,67108864),Ch(t,67108864)}}function yy(t){if(t.tag===13||t.tag===31){var n=Sn();n=Ja(n);var a=cr(t,n);a!==null&&dn(a,t,n),Ch(t,n)}}var ku=!0;function mT(t,n,a,l){var c=G.T;G.T=null;var h=it.p;try{it.p=2,xh(t,n,a,l)}finally{it.p=h,G.T=c}}function gT(t,n,a,l){var c=G.T;G.T=null;var h=it.p;try{it.p=8,xh(t,n,a,l)}finally{it.p=h,G.T=c}}function xh(t,n,a,l){if(ku){var c=Nh(l);if(c===null)gh(t,n,l,Bu,a),vy(t,l);else if(yT(c,t,n,a,l))l.stopPropagation();else if(vy(t,l),n&4&&-1<pT.indexOf(t)){for(;c!==null;){var h=Rn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=ni(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-de(g);E.entanglements[1]|=x,g&=~x}Ti(h),(Ft&6)===0&&(Au=an()+500,Ul(0))}}break;case 31:case 13:E=cr(h,2),E!==null&&dn(E,h,2),bu(),Ch(h,2)}if(h=Nh(l),h===null&&gh(t,n,l,Bu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else gh(t,n,l,null,a)}}function Nh(t){return t=Dn(t),Ih(t)}var Bu=null;function Ih(t){if(Bu=null,t=li(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bu=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ka()){case Gs:return 2;case Qs:return 8;case na:case Uc:return 32;case _o:return 268435456;default:return 32}default:return 32}}var Vh=!1,xa=null,Na=null,Ia=null,Hl=new Map,Fl=new Map,Va=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vy(t,n){switch(t){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Gl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Rn(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function yT(t,n,a,l,c){switch(n){case"focusin":return xa=Gl(xa,t,n,a,l,c),!0;case"dragenter":return Na=Gl(Na,t,n,a,l,c),!0;case"mouseover":return Ia=Gl(Ia,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Hl.set(h,Gl(Hl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Fl.set(h,Gl(Fl.get(h)||null,t,n,a,l,c)),!0}return!1}function Ey(t){var n=li(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,qn(t.priority,function(){yy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,qn(t.priority,function(){yy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Nh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return n=Rn(a),n!==null&&py(n),t.blockedOn=a,!1;n.shift()}return!0}function Ty(t,n,a){Pu(t)&&a.delete(n)}function _T(){Vh=!1,xa!==null&&Pu(xa)&&(xa=null),Na!==null&&Pu(Na)&&(Na=null),Ia!==null&&Pu(Ia)&&(Ia=null),Hl.forEach(Ty),Fl.forEach(Ty)}function qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Vh||(Vh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_T)))}var Hu=null;function Ay(t){Hu!==t&&(Hu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ih(l||a)===null)continue;break}var h=Rn(a);h!==null&&(t.splice(n,3),n-=3,Nf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Es(t){function n(x){return qu(x,t)}xa!==null&&qu(xa,t),Na!==null&&qu(Na,t),Ia!==null&&qu(Ia,t),Hl.forEach(n),Fl.forEach(n);for(var a=0;a<Va.length;a++){var l=Va[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Va.length&&(a=Va[0],a.blockedOn===null);)Ey(a),a.blockedOn===null&&Va.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Le]||null;if(typeof h=="function")g||Ay(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Le]||null)E=g.formAction;else if(Ih(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Ay(a)}}}function Sy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Mh(t){this._internalRoot=t}Fu.prototype.render=Mh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Sn();my(a,l,t,n,null,null)},Fu.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),bu(),n[ri]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var n=bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Va.length&&n!==0&&n<Va[a].priority;a++);Va.splice(a,0,t),a===0&&Ey(t)}};var by=e.version;if(by!=="19.2.1")throw Error(s(527,by,"19.2.1"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var vT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Bn=Gu.inject(vT),Pe=Gu}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Ig,h=Vg,g=Mg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=hy(t,1,!1,null,null,a,l,null,c,h,g,Sy),t[ri]=n.current,mh(t),new Mh(n)},Yl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",h=Ig,g=Vg,E=Mg,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=hy(t,1,!0,n,a??null,l,c,x,h,g,E,Sy),n.context=dy(null),a=n.current,l=Sn(),l=Ja(l),c=ya(l),c.callback=null,_a(a,c,l),a=l,n.current.lanes=a,Za(n,a),Ti(n),t[ri]=n.current,mh(t),new Fu(n)},Yl.version="19.2.1",Yl}var Oy;function xT(){if(Oy)return Uh.exports;Oy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Uh.exports=CT(),Uh.exports}var NT=xT();const IT=W_(NT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),zy=r=>{const e=MT(r);return e.charAt(0).toUpperCase()+e.slice(1)},ev=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),OT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Tt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:f,iconNode:d,...y},v)=>Tt.createElement("svg",{ref:v,...zT,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:ev("lucide",o),...!f&&!OT(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Tt.createElement(_,A)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(r,e)=>{const i=Tt.forwardRef(({className:s,...o},f)=>Tt.createElement(UT,{ref:f,iconNode:e,className:ev(`lucide-${VT(zy(r))}`,`lucide-${r}`,s),...o}));return i.displayName=zy(r),i};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jT=bn("arrow-left",LT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],BT=bn("copy",kT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],qT=bn("ellipsis-vertical",PT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FT=bn("eye",HT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QT=bn("file-text",GT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KT=bn("menu",YT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZT=bn("pen-line",XT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JT=bn("plus",$T);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],t1=bn("rotate-cw",WT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n1=bn("square-check-big",e1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],a1=bn("sticky-note",i1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],s1=bn("trash-2",r1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],o1=bn("x",l1),Oe={Menu:KT,Close:o1,Plus:JT,Trash:s1,Check:n1,File:QT,Edit:ZT,Back:jT,Copy:BT,More:qT,Refresh:t1,Eye:FT,Memo:a1},u1=({isMobileOpen:r,isAlwaysOpen:e,onClose:i,documents:s,templates:o,favoriteDocId:f,onSelectDocument:d,onPreviewTemplate:y,onCreateTemplate:v,onCreateNew:_,onCreateDailyNote:A,onDeleteDocument:b,onDeleteTemplate:I,onEditTemplate:H,onBackup:et,onRestore:nt,onSetFavoriteDocument:W,onClearFavoriteDocument:Z,onReorderDocuments:dt,onReorderTemplates:at})=>{const[vt,Bt]=Tt.useState("tasks"),[wt,N]=Tt.useState(null),[R,C]=Tt.useState(null),[O,D]=Tt.useState(null),[M,w]=Tt.useState(null),Vt=tv.useRef(null),Gt=s.filter(S=>!S.isTemplate&&!S.isDailyNote),G=s.filter(S=>!S.isTemplate&&S.isDailyNote);if(!r&&!e)return null;const it=(S,U)=>{w(U),S.dataTransfer.effectAllowed="move"},ct=S=>{S.preventDefault(),S.stopPropagation(),S.dataTransfer.dropEffect="move"},tt=(S,U)=>{if(S.preventDefault(),S.stopPropagation(),!M||M===U.id){w(null);return}const J=vt==="tasks"?Gt:vt==="dailyNotes"?G:o,st=J.findIndex(ie=>ie.id===M),mt=J.findIndex(ie=>ie.id===U.id);if(st===-1||mt===-1){w(null);return}const yt=[...J],[xt]=yt.splice(st,1);if(yt.splice(mt,0,xt),vt==="tasks"||vt==="dailyNotes"){const ie=s.map(he=>yt.find($e=>$e.id===he.id)||he),te=new Map(yt.filter(he=>!he.isDailyNote).map((he,nn)=>[he.id,nn])),ti=new Map(yt.filter(he=>he.isDailyNote).map((he,nn)=>[he.id,nn])),ta=ie.sort((he,nn)=>{const $e=!he.isDailyNote,Qa=!nn.isDailyNote;return $e!==Qa?$e?-1:1:$e?(te.get(he.id)??0)-(te.get(nn.id)??0):(ti.get(he.id)??0)-(ti.get(nn.id)??0)});dt(ta)}else at(yt);w(null)},ht=S=>P.jsxs("div",{draggable:!0,onDragStart:U=>it(U,S.id),onDragOver:ct,onDrop:U=>tt(U,S),onDragEnd:()=>w(null),className:`group bg-white p-2 rounded-lg border shadow-sm hover:shadow-md transition-all relative cursor-move ${f===S.id?"ring-2 ring-yellow-400":""} ${M===S.id?"opacity-50":""}`,onContextMenu:U=>{U.preventDefault(),C(S.id),D({x:U.clientX,y:U.clientY})},onTouchStart:U=>{if(U.touches.length>0){const J=U.touches[0],st=setTimeout(()=>{C(S.id),D({x:J.clientX,y:J.clientY})},500);U.target.longPressTimer=st}},onTouchEnd:U=>{const J=U.target.longPressTimer;J&&clearTimeout(J)},children:[P.jsxs("div",{className:"flex justify-between items-start",children:[P.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>{d(S),i()},children:P.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:S.title||" "})}),P.jsx("button",{onClick:U=>{U.stopPropagation(),b(S.id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:P.jsx(Oe.Trash,{size:16})})]}),R===S.id&&O&&P.jsx("div",{className:"fixed bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[160px]",style:{left:`${O.x}px`,top:`${O.y}px`},onClick:()=>C(null),children:P.jsxs("button",{onClick:U=>{U.stopPropagation(),f===S.id?Z():W(S.id),C(null)},className:"w-full text-left px-3 py-2 text-sm text-yellow-600 hover:bg-yellow-50 transition-colors flex items-center gap-2",children:[P.jsx("span",{className:"text-lg",children:""}),P.jsx("span",{children:f===S.id?" ":" "})]})})]},S.id);return P.jsxs("div",{className:`
      ${e?"relative flex-shrink-0 w-[250px] h-full":"fixed inset-0 z-50 flex"}
      ${!e&&!r?"transform -translate-x-full":"transform translate-x-0"}
      transition-transform duration-300 ease-in-out
    `,children:[!e&&r&&P.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:i}),P.jsxs("div",{className:`
        relative flex flex-col h-full bg-white shadow-xl
        ${e?"w-full":"w-[85%] max-w-sm"}
      `,children:[P.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-gray-50",children:[P.jsx("h2",{className:"text-lg font-bold text-gray-800",children:""}),P.jsxs("div",{className:"flex items-center gap-1.5",children:[P.jsx("button",{onClick:et,className:"flex items-center justify-center px-2 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-xs font-medium",children:P.jsx("span",{children:""})}),P.jsx("button",{onClick:()=>{var S;return(S=Vt.current)==null?void 0:S.click()},className:"flex items-center justify-center px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors text-xs font-medium",children:P.jsx("span",{children:""})}),P.jsx("input",{ref:Vt,type:"file",accept:".json",onChange:S=>{var J;const U=(J=S.target.files)==null?void 0:J[0];U&&(nt(U),S.target.value="")},className:"hidden"}),P.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-200 rounded-full flex-shrink-0 ml-0.5",children:P.jsx(Oe.Close,{size:16})})]})]}),P.jsxs("div",{className:"p-4 grid grid-cols-3 gap-2 border-b",children:[P.jsx("button",{onClick:()=>{_(),i()},className:"flex items-center justify-center p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:P.jsx("span",{className:"text-xs font-medium",children:""})}),P.jsx("button",{onClick:()=>{A(),i()},className:"flex items-center justify-center p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:P.jsx("span",{className:"text-xs font-medium",children:""})}),P.jsx("button",{onClick:()=>{v(),i()},className:"flex items-center justify-center p-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:P.jsx("span",{className:"text-xs font-medium",children:""})})]}),P.jsxs("div",{className:"flex border-b",children:[P.jsxs("button",{className:`flex-1 p-3 text-sm font-medium ${vt==="tasks"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>Bt("tasks"),children:[" (",Gt.length,")"]}),P.jsxs("button",{className:`flex-1 p-3 text-sm font-medium ${vt==="dailyNotes"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>Bt("dailyNotes"),children:[" (",G.length,")"]}),P.jsxs("button",{className:`flex-1 p-3 text-sm font-medium ${vt==="templates"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>Bt("templates"),children:[" (",o.length,")"]})]}),P.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50 relative",children:vt==="tasks"?P.jsxs("div",{className:"space-y-2",onDragOver:ct,onDrop:S=>{S.preventDefault(),S.stopPropagation()},children:[Gt.length===0&&P.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),Gt.map(S=>ht(S))]}):vt==="dailyNotes"?P.jsxs("div",{className:"space-y-2",onDragOver:ct,onDrop:S=>{S.preventDefault(),S.stopPropagation()},children:[G.length===0&&P.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),G.map(S=>ht(S))]}):P.jsxs("div",{className:"space-y-2",onDragOver:ct,onDrop:S=>{S.preventDefault(),S.stopPropagation()},children:[o.length===0&&P.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:["  .",P.jsx("br",{}),"' '   ."]}),o.map(S=>P.jsxs("div",{draggable:!0,onDragStart:U=>it(U,S.id),onDragOver:ct,onDrop:U=>tt(U,S),onDragEnd:()=>w(null),className:`bg-white p-3 rounded-lg border border-dashed border-gray-300 hover:border-blue-400 transition-all relative cursor-move ${M===S.id?"opacity-50":""}`,children:[P.jsxs("div",{onClick:()=>{y(S),i()},className:"cursor-pointer flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(Oe.Copy,{size:16,className:"text-blue-500"}),P.jsx("span",{className:"font-semibold text-gray-800",children:S.title||"( )"})]}),P.jsx("button",{onClick:U=>{U.stopPropagation(),N(wt===S.id?null:S.id)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:P.jsx(Oe.More,{size:16})})]}),wt===S.id&&P.jsxs("div",{className:"absolute right-2 top-10 bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[150px]",children:[P.jsxs("button",{onClick:U=>{U.stopPropagation(),H(S),N(null),i()},className:"w-full text-left px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 transition-colors flex items-center gap-2 border-b border-gray-100",children:[P.jsx(Oe.Edit,{size:14}),P.jsx("span",{children:" "})]}),P.jsxs("button",{onClick:U=>{U.stopPropagation(),I(S.id),N(null)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2",children:[P.jsx(Oe.Trash,{size:14}),P.jsx("span",{children:""})]})]})]},S.id))]})})]})]})},br=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),nv=({isOpen:r,title:e,message:i,onConfirm:s,onClose:o})=>r?P.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[P.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px] transition-opacity animate-in fade-in duration-200",onClick:o}),P.jsxs("div",{className:"relative w-full max-w-[280px] bg-white rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 transform",children:[P.jsxs("div",{className:"p-5 text-center",children:[P.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:e}),P.jsx("p",{className:"text-sm text-gray-500 leading-relaxed break-keep",children:i})]}),P.jsxs("div",{className:"flex border-t border-gray-100",children:[P.jsx("button",{onClick:o,className:"flex-1 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors active:bg-gray-100",children:""}),P.jsx("div",{className:"w-px bg-gray-100"}),P.jsx("button",{onClick:s,className:"flex-1 py-3 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors active:bg-red-100",children:""})]})]})]}):null,c1=({isOpen:r,memo:e="",onSave:i,onDelete:s,onClose:o})=>{const[f,d]=Tt.useState(!e),[y,v]=Tt.useState(e);Tt.useEffect(()=>{v(e),d(!e)},[r,e]);const _=()=>{d(!1),y!==e&&i(y.trim())},A=I=>{I.key==="Escape"&&(v(e),d(!1))},b=()=>{confirm(" ?")&&(s(),d(!1))};return r?P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full mx-4 max-h-[90vh] h-[95vh] flex flex-col",children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[P.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:""}),P.jsx("button",{onClick:o,className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:P.jsx(Oe.Close,{size:20})})]}),P.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col",onClick:I=>I.stopPropagation(),onDoubleClick:I=>{I.preventDefault(),I.stopPropagation()},children:f?P.jsx("textarea",{value:y,onChange:I=>v(I.target.value),onBlur:_,onKeyDown:A,onClick:I=>I.stopPropagation(),onMouseDown:I=>I.stopPropagation(),placeholder:" ... (Esc )",className:"flex-1 w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",autoFocus:!0}):P.jsx("div",{onClick:I=>I.stopPropagation(),onDoubleClick:I=>{I.preventDefault(),I.stopPropagation(),d(!0)},onMouseDown:I=>{I.detail>1&&I.preventDefault()},className:"flex-1 overflow-y-auto p-3 bg-gray-50 rounded-md whitespace-pre-wrap text-gray-700 cursor-text hover:bg-gray-100 transition-colors",children:y||"  "})}),P.jsxs("div",{className:"flex gap-2 p-4 border-t border-gray-200 flex-shrink-0",children:[y&&P.jsx("button",{onClick:b,className:"flex-1 px-3 py-2 text-gray-700 border border-red-300 text-red-600 rounded-md hover:bg-red-50 transition-colors",children:""}),P.jsx("button",{onClick:o,className:"flex-1 px-3 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:""})]})]})}):null},f1=({item:r,onToggle:e,onEdit:i,onDelete:s,onMemoOpen:o,isDragging:f,onDragStart:d,onDragOver:y,onDrop:v,onDragEnd:_,isEditing:A,onStartEdit:b,onEndEdit:I})=>{const H=Tt.useRef(null),[et,nt]=Tt.useState(r.text);Tt.useEffect(()=>{A&&H.current&&(H.current.focus(),H.current.style.height="auto",H.current.style.height=`${H.current.scrollHeight}px`)},[A]),Tt.useEffect(()=>{A||nt(r.text)},[r.text,A]);const W=at=>{const vt=at.target;vt.style.height="auto",vt.style.height=`${vt.scrollHeight}px`},Z=()=>{et.trim()!==r.text&&i(r.id,et),I(r.id)},dt=at=>{at.key==="Escape"&&(nt(r.text),I(r.id))};return P.jsxs("div",{draggable:!0,onDragStart:at=>{at.stopPropagation(),d(r.id,at)},onDragOver:at=>{at.preventDefault(),at.stopPropagation(),y(at)},onDrop:at=>{at.preventDefault(),at.stopPropagation(),v(r.id,at)},onDragEnd:at=>{at.stopPropagation(),_()},className:`group flex items-start gap-3 p-3 rounded-lg border shadow-sm transition-all duration-200 cursor-move select-none ${f?"opacity-50 bg-blue-50 border-blue-400":""} ${r.isChecked?"bg-gray-50 border-gray-200":"bg-white border-gray-300 hover:border-blue-400 hover:shadow-md"}`,children:[P.jsx("button",{draggable:!1,onClick:()=>e(r.id),className:`mt-0.5 flex-none transition-colors ${r.isChecked?"text-blue-500":"text-gray-400 hover:text-blue-500"}`,children:r.isChecked?P.jsx(Oe.Check,{size:20}):P.jsx("div",{className:"w-[20px] h-[20px] border-2 border-current rounded-md"})}),A?P.jsx("textarea",{draggable:!1,ref:H,className:"flex-1 bg-white text-sm resize-none outline-none h-auto min-h-[1.5rem] leading-relaxed py-0.5 px-2 border border-blue-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800 font-medium",value:et,onChange:at=>nt(at.target.value),onInput:W,onBlur:Z,onKeyDown:dt,onClick:at=>at.stopPropagation(),onMouseDown:at=>at.stopPropagation(),rows:1,placeholder:" ..."}):P.jsx("div",{draggable:!1,onClick:at=>at.stopPropagation(),onDoubleClick:at=>{at.preventDefault(),at.stopPropagation(),b(r.id)},onMouseDown:at=>{at.detail>1&&at.preventDefault()},className:`flex-1 text-sm leading-relaxed py-0.5 px-2 rounded-md cursor-text transition-colors hover:bg-gray-100 ${r.isChecked?"line-through text-gray-400":"text-gray-800 font-medium"}`,children:r.text}),P.jsxs("div",{draggable:!1,className:"flex gap-1 flex-shrink-0",children:[P.jsx("button",{draggable:!1,onClick:()=>o(r.id),className:`p-2 ${r.memo?"text-green-500":"text-gray-400"} hover:text-blue-500 hover:bg-blue-50 rounded transition-all flex-shrink-0`,title:"",children:P.jsx(Oe.Memo,{size:18})}),P.jsx("button",{draggable:!1,onClick:()=>s(r.id),className:"p-2 text-gray-400 hover:text-white hover:bg-red-600 rounded transition-all font-semibold flex-shrink-0",title:"",children:P.jsx(Oe.Trash,{size:18})})]})]})},h1=({items:r,onChange:e})=>{const[i,s]=Tt.useState(""),[o,f]=Tt.useState(null),[d,y]=Tt.useState(!1),[v,_]=Tt.useState(null),[A,b]=Tt.useState(null),[I,H]=Tt.useState(null),et=D=>{if(D==null||D.preventDefault(),!i.trim())return;const M={id:br(),text:i.trim(),isChecked:!1};e([...r,M]),s("")},nt=D=>{const M=r.map(w=>w.id===D?{...w,isChecked:!w.isChecked}:w);e(M)},W=D=>{f(D)},Z=()=>{o&&(e(r.filter(D=>D.id!==o)),f(null))},dt=(D,M)=>{const w=r.map(Vt=>Vt.id===D?{...Vt,text:M}:Vt);e(w)},at=D=>{_(D),y(!0)},vt=D=>{if(v){const M=r.map(w=>w.id===v?{...w,memo:D||void 0}:w);e(M)}y(!1)},Bt=()=>{if(v){const D=r.map(M=>M.id===v?{...M,memo:void 0}:M);e(D)}y(!1)},wt=v?r.find(D=>D.id===v):null,N=(D,M)=>{b(D),M.dataTransfer.effectAllowed="move"},R=D=>{D.preventDefault(),D.stopPropagation(),D.dataTransfer.dropEffect="move"},C=(D,M)=>{if(M.preventDefault(),M.stopPropagation(),!A||A===D){b(null);return}const w=r.findIndex(it=>it.id===A),Vt=r.findIndex(it=>it.id===D);if(w===-1||Vt===-1){b(null);return}const Gt=[...r],[G]=Gt.splice(w,1);Gt.splice(Vt,0,G),e(Gt),b(null)},O=()=>{b(null)};return P.jsxs("div",{className:"flex flex-col h-full bg-slate-50 border-t border-gray-200",children:[P.jsx("div",{className:"px-3 py-3 border-b bg-white flex-none shadow-sm z-10",children:P.jsxs("form",{onSubmit:et,className:"flex gap-2 items-center",children:[P.jsx("div",{className:"flex-1 relative",children:P.jsx("input",{type:"text",value:i,onChange:D=>s(D.target.value),placeholder:" ...",className:"w-full pl-3 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 transition-all"})}),P.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 transition-colors flex-shrink-0 shadow-sm",children:P.jsx(Oe.Plus,{size:18})})]})}),P.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-2.5",onDragOver:R,onDrop:D=>{D.preventDefault(),D.stopPropagation()},children:[r.length===0&&P.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-gray-400",children:[P.jsx(Oe.Check,{size:28,className:"mb-2 opacity-30"}),P.jsx("span",{className:"text-sm",children:" "})]}),r.map(D=>P.jsx(f1,{item:D,onToggle:nt,onEdit:dt,onDelete:W,onMemoOpen:at,isDragging:A===D.id,onDragStart:N,onDragOver:R,onDrop:C,onDragEnd:O,isEditing:I===D.id,onStartEdit:H,onEndEdit:()=>H(null)},D.id))]}),P.jsx(nv,{isOpen:!!o,title:" ",message:"   ?",onConfirm:Z,onClose:()=>f(null)}),P.jsx(c1,{isOpen:d,memo:wt==null?void 0:wt.memo,onSave:vt,onDelete:Bt,onClose:()=>y(!1)})]})},d1=({isOpen:r,title:e,content:i,onClose:s,onSave:o})=>{const[f,d]=Tt.useState(e),[y,v]=Tt.useState(i),[_,A]=Tt.useState(!1),[b,I]=Tt.useState(!1);Tt.useEffect(()=>{r&&(d(e),v(i),A(!1),I(!1))},[r,e,i]);const H=()=>{A(!1),(f!==e||y!==i)&&o(f,y)},et=()=>{I(!1),(f!==e||y!==i)&&o(f,y)},nt=Z=>{Z.key==="Enter"?(A(!1),(f!==e||y!==i)&&o(f,y)):Z.key==="Escape"&&(d(e),A(!1))},W=Z=>{Z.key==="Escape"&&(v(i),I(!1))};return r?P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:Z=>{Z.target===Z.currentTarget&&s()},onDoubleClick:Z=>{Z.preventDefault(),Z.stopPropagation()},children:P.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full mx-4 max-h-[90vh] h-[95vh] flex flex-col",onClick:Z=>Z.stopPropagation(),onDoubleClick:Z=>{Z.preventDefault(),Z.stopPropagation()},children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[P.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:""}),P.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:P.jsx(Oe.Close,{size:20})})]}),P.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col",onClick:Z=>Z.stopPropagation(),onDoubleClick:Z=>{Z.preventDefault(),Z.stopPropagation()},children:[P.jsx("div",{className:"mb-4 flex-shrink-0",children:_?P.jsx("input",{type:"text",value:f,onChange:Z=>d(Z.target.value),onBlur:H,onKeyDown:nt,onClick:Z=>Z.stopPropagation(),onMouseDown:Z=>Z.stopPropagation(),placeholder:"",className:"w-full text-xl font-bold text-gray-800 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):P.jsx("h3",{onClick:Z=>Z.stopPropagation(),onDoubleClick:Z=>{Z.preventDefault(),Z.stopPropagation(),A(!0)},className:"text-xl font-bold text-gray-800 cursor-text hover:bg-gray-100 p-2 rounded-md transition-colors",children:f||P.jsx("span",{className:"text-gray-400",children:" "})})}),b?P.jsx("textarea",{value:y,onChange:Z=>v(Z.target.value),onBlur:et,onKeyDown:W,onClick:Z=>Z.stopPropagation(),onMouseDown:Z=>Z.stopPropagation(),placeholder:" ... (Esc )",className:"flex-1 w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",autoFocus:!0}):P.jsx(P.Fragment,{children:y?P.jsx("div",{onClick:Z=>Z.stopPropagation(),onDoubleClick:Z=>{Z.preventDefault(),Z.stopPropagation(),I(!0)},onMouseDown:Z=>{Z.detail>1&&Z.preventDefault()},className:"flex-1 overflow-y-auto text-gray-700 leading-relaxed whitespace-pre-wrap break-words text-sm cursor-text hover:bg-gray-100 p-2 rounded-md transition-colors",children:y}):P.jsxs("div",{onClick:Z=>Z.stopPropagation(),onDoubleClick:Z=>{Z.preventDefault(),Z.stopPropagation(),I(!0)},className:"flex-1 overflow-y-auto flex flex-col items-center justify-center text-center text-gray-400 cursor-text hover:bg-gray-100 p-2 rounded-md transition-colors select-none",children:[P.jsx(Oe.File,{size:48,className:"mx-auto mb-3 opacity-50"}),P.jsx("p",{className:"text-sm",children:"  "})]})})]}),P.jsx("div",{className:"flex gap-2 p-4 border-t border-gray-200 flex-shrink-0",children:P.jsx("button",{onClick:s,className:"flex-1 px-3 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:""})})]})}):null},Uy=({data:r,onSave:e,isTemplateMode:i=!1,isTemplatePreview:s=!1,sourceTemplateName:o,onCancel:f,onOpenSidebar:d,screenWidth:y,mdBreakpoint:v})=>{const[_,A]=Tt.useState(r.title),[b,I]=Tt.useState(r.content),[H,et]=Tt.useState(r.checklist),[nt,W]=Tt.useState(!1);return Tt.useEffect(()=>{A(r.title),I(r.content),et(r.checklist)},[r.id]),Tt.useEffect(()=>{const Z=setTimeout(()=>{(_!==r.title||b!==r.content||JSON.stringify(H)!==JSON.stringify(r.checklist))&&e({...r,title:_,content:b,checklist:H,updatedAt:Date.now()})},1e3);return()=>clearTimeout(Z)},[_,b,H,r,e]),P.jsxs("div",{className:"flex flex-col h-full bg-white",children:[P.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b shadow-sm z-10 bg-white flex-none h-12",children:[P.jsxs("div",{className:"flex items-center gap-2 flex-1 mr-2 min-w-0",children:[i&&f?P.jsx("button",{onClick:f,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-600 flex-shrink-0",children:P.jsx(Oe.Back,{size:18})}):y<v&&d&&P.jsx("button",{onClick:d,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-700 flex-shrink-0",children:P.jsx(Oe.Menu,{size:18})}),P.jsx("input",{type:"text",value:_,onChange:Z=>A(Z.target.value),placeholder:i?" ":" ()",className:"text-base font-bold text-gray-800 placeholder-gray-300 outline-none bg-transparent w-full truncate leading-tight"})]}),P.jsx("button",{onClick:()=>W(!0),className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 bg-gray-100 text-gray-600 hover:bg-gray-200",title:"",children:P.jsx(Oe.Eye,{size:18})}),P.jsx("button",{onClick:()=>window.location.reload(),className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 text-gray-600 hover:bg-gray-100",title:"",children:P.jsx(Oe.Refresh,{size:18})}),f&&P.jsx("button",{onClick:f,className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 text-gray-600 hover:bg-gray-100",title:"",children:P.jsx(Oe.Back,{size:18})})]}),P.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[P.jsx("div",{className:"flex-1 flex flex-col border-b border-gray-200 relative group min-h-0 basis-1/3",children:P.jsx("textarea",{value:b,onChange:Z=>I(Z.target.value),placeholder:i?"  ...":"  ...",className:"flex-1 w-full p-3 resize-none outline-none text-gray-700 leading-relaxed text-sm"})}),P.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 min-h-0 basis-2/3",children:P.jsx(h1,{items:H,onChange:Z=>et(Z)})})]}),P.jsx(d1,{isOpen:nt,title:_,content:b,onClose:()=>W(!1),onSave:(Z,dt)=>{A(Z),I(dt)}})]})},m1=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},g1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=f>>2,b=(f&3)<<4|y>>4;let I=(y&15)<<2|_>>6,H=_&63;v||(H=64,d||(I=64)),s.push(i[A],i[b],i[I],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):g1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||y==null||_==null||b==null)throw new p1;const I=f<<2|y>>4;if(s.push(I),_!==64){const H=y<<4&240|_>>2;if(s.push(H),b!==64){const et=_<<6&192|b;s.push(et)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class p1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y1=function(r){const e=iv(r);return av.encodeByteArray(e,!0)},sc=function(r){return y1(r).replace(/\./g,"")},_1=function(r){try{return av.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=()=>v1().__FIREBASE_DEFAULTS__,T1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const r=Ly.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},A1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_1(r[1]);return e&&JSON.parse(e)},Sd=()=>{try{return m1()||E1()||T1()||A1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S1=r=>{var e,i;return(i=(e=Sd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},b1=r=>{const e=S1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},rv=()=>{var r;return(r=Sd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sc(JSON.stringify(i)),sc(JSON.stringify(d)),""].join(".")}const $l={};function C1(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function x1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let jy=!1;function N1(r,e){if(typeof window>"u"||typeof document>"u"||!bd(window.location.host)||$l[r]===e||$l[r]||jy)return;$l[r]=e;function i(I){return`__firebase__banner__${I}`}const s="__firebase__banner",f=C1().prod.length>0;function d(){const I=document.getElementById(s);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,H){I.setAttribute("width","24"),I.setAttribute("id",H),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{jy=!0,d()},I}function A(I,H){I.setAttribute("id",H),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=x1(s),H=i("text"),et=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),Z=i("preprendIcon"),dt=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const at=I.element;y(at),A(W,nt);const vt=_();v(dt,Z),at.append(dt,et,W,vt),document.body.appendChild(at)}f?(et.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V1(){var e;const r=(e=Sd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return!V1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){try{return typeof indexedDB=="object"}catch{return!1}}function z1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)==null?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="FirebaseError";class Ls extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=U1,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sv.prototype.create)}}class sv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?L1(f,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ls(o,y,s)}}function L1(r,e){return r.replace(j1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const j1=/\{\$([^}]+)}/g;function lc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=r[o],d=e[o];if(ky(f)&&ky(d)){if(!lc(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function ky(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(r){return r&&r._delegate?r._delegate:r}class no{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new w1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P1(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const f=this.instances.get(s);return f&&e(f,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(r){return r===wr?void 0:r}function P1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new k1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const H1={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},F1=kt.INFO,G1={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Q1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=G1[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=F1,this._logHandler=Q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const Y1=(r,e)=>e.some(i=>r instanceof i);let By,Py;function K1(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X1(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,td=new WeakMap,uv=new WeakMap,Bh=new WeakMap,wd=new WeakMap;function Z1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(za(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ov.set(i,r)}).catch(()=>{}),wd.set(e,r),e}function $1(r){if(td.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});td.set(r,e)}let ed={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return td.get(r);if(e==="objectStoreNames")return r.objectStoreNames||uv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return za(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function J1(r){ed=r(ed)}function W1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Ph(this),e,...i);return uv.set(s,e.sort?e.sort():[e]),za(s)}:X1().includes(r)?function(...e){return r.apply(Ph(this),e),za(ov.get(this))}:function(...e){return za(r.apply(Ph(this),e))}}function tA(r){return typeof r=="function"?W1(r):(r instanceof IDBTransaction&&$1(r),Y1(r,K1())?new Proxy(r,ed):r)}function za(r){if(r instanceof IDBRequest)return Z1(r);if(Bh.has(r))return Bh.get(r);const e=tA(r);return e!==r&&(Bh.set(r,e),wd.set(e,r)),e}const Ph=r=>wd.get(r);function eA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),y=za(d);return s&&d.addEventListener("upgradeneeded",v=>{s(za(d.result),v.oldVersion,v.newVersion,za(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const nA=["get","getKey","getAll","getAllKeys","count"],iA=["put","add","delete","clear"],qh=new Map;function qy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=iA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nA.includes(i)))return;const f=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return qh.set(e,f),f}J1(r=>({...r,get:(e,i,s)=>qy(e,i)||r.get(e,i,s),has:(e,i)=>!!qy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function rA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nd="@firebase/app",Hy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new lv("@firebase/app"),sA="@firebase/app-compat",lA="@firebase/analytics-compat",oA="@firebase/analytics",uA="@firebase/app-check-compat",cA="@firebase/app-check",fA="@firebase/auth",hA="@firebase/auth-compat",dA="@firebase/database",mA="@firebase/data-connect",gA="@firebase/database-compat",pA="@firebase/functions",yA="@firebase/functions-compat",_A="@firebase/installations",vA="@firebase/installations-compat",EA="@firebase/messaging",TA="@firebase/messaging-compat",AA="@firebase/performance",SA="@firebase/performance-compat",bA="@firebase/remote-config",wA="@firebase/remote-config-compat",RA="@firebase/storage",DA="@firebase/storage-compat",CA="@firebase/firestore",xA="@firebase/ai",NA="@firebase/firestore-compat",IA="firebase",VA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",MA={[nd]:"fire-core",[sA]:"fire-core-compat",[oA]:"fire-analytics",[lA]:"fire-analytics-compat",[cA]:"fire-app-check",[uA]:"fire-app-check-compat",[fA]:"fire-auth",[hA]:"fire-auth-compat",[dA]:"fire-rtdb",[mA]:"fire-data-connect",[gA]:"fire-rtdb-compat",[pA]:"fire-fn",[yA]:"fire-fn-compat",[_A]:"fire-iid",[vA]:"fire-iid-compat",[EA]:"fire-fcm",[TA]:"fire-fcm-compat",[AA]:"fire-perf",[SA]:"fire-perf-compat",[bA]:"fire-rc",[wA]:"fire-rc-compat",[RA]:"fire-gcs",[DA]:"fire-gcs-compat",[CA]:"fire-fst",[NA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,OA=new Map,ad=new Map;function Fy(r,e){try{r.container.addComponent(e)}catch(i){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function uc(r){const e=r.name;if(ad.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,r);for(const i of oc.values())Fy(i,r);for(const i of OA.values())Fy(i,r);return!0}function zA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function UA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new sv("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=VA;function cv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:id,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ua.create("bad-app-name",{appName:String(o)});if(i||(i=rv()),!i)throw Ua.create("no-options");const f=oc.get(o);if(f){if(lc(i,f.options)&&lc(s,f.config))return f;throw Ua.create("duplicate-app",{appName:o})}const d=new q1(o);for(const v of ad.values())d.addComponent(v);const y=new jA(i,s,d);return oc.set(o,y),y}function BA(r=id){const e=oc.get(r);if(!e&&r===id&&rv())return cv();if(!e)throw Ua.create("no-app",{appName:r});return e}function ws(r,e,i){let s=MA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}uc(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebase-heartbeat-database",qA=1,io="firebase-heartbeat-store";let Hh=null;function fv(){return Hh||(Hh=eA(PA,qA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ua.create("idb-open",{originalErrorMessage:r.message})})),Hh}async function HA(r){try{const i=(await fv()).transaction(io),s=await i.objectStore(io).get(hv(r));return await i.done,s}catch(e){if(e instanceof Ls)$i.warn(e.message);else{const i=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(i.message)}}}async function Gy(r,e){try{const s=(await fv()).transaction(io,"readwrite");await s.objectStore(io).put(e,hv(r)),await s.done}catch(i){if(i instanceof Ls)$i.warn(i.message);else{const s=Ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});$i.warn(s.message)}}}function hv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=1024,GA=30;class QA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new KA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Qy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>GA){const d=XA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qy(),{heartbeatsToSend:s,unsentEntries:o}=YA(this._heartbeatsCache.heartbeats),f=sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return $i.warn(i),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function YA(r,e=FA){const i=[];let s=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Yy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O1()?z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await HA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yy(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function XA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(r){uc(new no("platform-logger",e=>new aA(e),"PRIVATE")),uc(new no("heartbeat",e=>new QA(e),"PRIVATE")),ws(nd,Hy,r),ws(nd,Hy,"esm2020"),ws("fire-js","")}ZA("");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,dv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,D,M){for(var w=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)w[Vt-2]=arguments[Vt];return R.prototype[D].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);const O=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)O[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],D=N.g[2];let M=N.g[3],w;w=R+(M^C&(D^M))+O[0]+3614090360&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(D^R&(C^D))+O[1]+3905402710&4294967295,M=R+(w<<12&4294967295|w>>>20),w=D+(C^M&(R^C))+O[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=C+(R^D&(M^R))+O[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=R+(M^C&(D^M))+O[4]+4118548399&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(D^R&(C^D))+O[5]+1200080426&4294967295,M=R+(w<<12&4294967295|w>>>20),w=D+(C^M&(R^C))+O[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=C+(R^D&(M^R))+O[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=R+(M^C&(D^M))+O[8]+1770035416&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(D^R&(C^D))+O[9]+2336552879&4294967295,M=R+(w<<12&4294967295|w>>>20),w=D+(C^M&(R^C))+O[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=C+(R^D&(M^R))+O[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=R+(M^C&(D^M))+O[12]+1804603682&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(D^R&(C^D))+O[13]+4254626195&4294967295,M=R+(w<<12&4294967295|w>>>20),w=D+(C^M&(R^C))+O[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=C+(R^D&(M^R))+O[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=R+(D^M&(C^D))+O[1]+4129170786&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^D&(R^C))+O[6]+3225465664&4294967295,M=R+(w<<9&4294967295|w>>>23),w=D+(R^C&(M^R))+O[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(D^M))+O[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=R+(D^M&(C^D))+O[5]+3593408605&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^D&(R^C))+O[10]+38016083&4294967295,M=R+(w<<9&4294967295|w>>>23),w=D+(R^C&(M^R))+O[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(D^M))+O[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=R+(D^M&(C^D))+O[9]+568446438&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^D&(R^C))+O[14]+3275163606&4294967295,M=R+(w<<9&4294967295|w>>>23),w=D+(R^C&(M^R))+O[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(D^M))+O[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=R+(D^M&(C^D))+O[13]+2850285829&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^D&(R^C))+O[2]+4243563512&4294967295,M=R+(w<<9&4294967295|w>>>23),w=D+(R^C&(M^R))+O[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(D^M))+O[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=R+(C^D^M)+O[5]+4294588738&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^D)+O[8]+2272392833&4294967295,M=R+(w<<11&4294967295|w>>>21),w=D+(M^R^C)+O[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=C+(D^M^R)+O[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=R+(C^D^M)+O[1]+2763975236&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^D)+O[4]+1272893353&4294967295,M=R+(w<<11&4294967295|w>>>21),w=D+(M^R^C)+O[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=C+(D^M^R)+O[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=R+(C^D^M)+O[13]+681279174&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^D)+O[0]+3936430074&4294967295,M=R+(w<<11&4294967295|w>>>21),w=D+(M^R^C)+O[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=C+(D^M^R)+O[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=R+(C^D^M)+O[9]+3654602809&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^D)+O[12]+3873151461&4294967295,M=R+(w<<11&4294967295|w>>>21),w=D+(M^R^C)+O[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=C+(D^M^R)+O[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=R+(D^(C|~M))+O[0]+4096336452&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~D))+O[7]+1126891415&4294967295,M=R+(w<<10&4294967295|w>>>22),w=D+(R^(M|~C))+O[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=C+(M^(D|~R))+O[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=R+(D^(C|~M))+O[12]+1700485571&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~D))+O[3]+2399980690&4294967295,M=R+(w<<10&4294967295|w>>>22),w=D+(R^(M|~C))+O[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=C+(M^(D|~R))+O[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=R+(D^(C|~M))+O[8]+1873313359&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~D))+O[15]+4264355552&4294967295,M=R+(w<<10&4294967295|w>>>22),w=D+(R^(M|~C))+O[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=C+(M^(D|~R))+O[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=R+(D^(C|~M))+O[4]+4149444226&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~D))+O[11]+3174756917&4294967295,M=R+(w<<10&4294967295|w>>>22),w=D+(R^(M|~C))+O[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=C+(M^(D|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,O=this.C;let D=this.h,M=0;for(;M<R;){if(D==0)for(;M<=C;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<R;)if(O[D++]=N.charCodeAt(M++),D==this.blockSize){o(this,O),D=0;break}}else for(;M<R;)if(O[D++]=N[M++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[R++]=this.g[C]>>>O&255;return N};function f(N,R){var C=y;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function d(N,R){this.h=R;const C=[];let O=!0;for(let D=N.length-1;D>=0;D--){const M=N[D]|0;O&&M==R||(C[D]=M,O=!1)}this.g=C}var y={};function v(N){return-128<=N&&N<128?f(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return W(_(-N));const R=[];let C=1;for(let O=0;N>=C;O++)R[O]=N/C|0,C*=4294967296;return new d(R,0)}function A(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return W(A(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(R,8));let O=b;for(let M=0;M<N.length;M+=8){var D=Math.min(8,N.length-M);const w=parseInt(N.substring(M,M+D),R);D<8?(D=_(Math.pow(R,D)),O=O.j(D).add(_(w))):(O=O.j(C),O=O.add(_(w)))}return O}var b=v(0),I=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(nt(this))return-W(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(nt(this))return"-"+W(this).toString(N);const R=_(Math.pow(N,6));var C=this;let O="";for(;;){const D=vt(C,R).g;C=Z(C,D.j(R));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,et(C))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=Z(this,N),nt(N)?-1:et(N)?0:1};function W(N){const R=N.g.length,C=[];for(let O=0;O<R;O++)C[O]=~N.g[O];return new d(C,~N.h).add(I)}r.abs=function(){return nt(this)?W(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let D=0;D<=R;D++){let M=O+(this.i(D)&65535)+(N.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=w>>>16,M&=65535,w&=65535,C[D]=w<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function Z(N,R){return N.add(W(R))}r.j=function(N){if(et(this)||et(N))return b;if(nt(this))return nt(N)?W(this).j(W(N)):W(W(this).j(N));if(nt(N))return W(this.j(W(N)));if(this.l(H)<0&&N.l(H)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const M=this.i(O)>>>16,w=this.i(O)&65535,Vt=N.i(D)>>>16,Gt=N.i(D)&65535;C[2*O+2*D]+=w*Gt,dt(C,2*O+2*D),C[2*O+2*D+1]+=M*Gt,dt(C,2*O+2*D+1),C[2*O+2*D+1]+=w*Vt,dt(C,2*O+2*D+1),C[2*O+2*D+2]+=M*Vt,dt(C,2*O+2*D+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new d(C,0)};function dt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function at(N,R){this.g=N,this.h=R}function vt(N,R){if(et(R))throw Error("division by zero");if(et(N))return new at(b,b);if(nt(N))return R=vt(W(N),R),new at(W(R.g),W(R.h));if(nt(R))return R=vt(N,W(R)),new at(W(R.g),R.h);if(N.g.length>30){if(nt(N)||nt(R))throw Error("slowDivide_ only works with positive integers.");for(var C=I,O=R;O.l(N)<=0;)C=Bt(C),O=Bt(O);var D=wt(C,1),M=wt(O,1);for(O=wt(O,2),C=wt(C,2);!et(O);){var w=M.add(O);w.l(N)<=0&&(D=D.add(C),M=w),O=wt(O,1),C=wt(C,1)}return R=Z(N,D.j(R)),new at(D,R)}for(D=b;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=_(C),w=M.j(R);nt(w)||w.l(N)>0;)C-=O,M=_(C),w=M.j(R);et(M)&&(M=I),D=D.add(M),N=Z(N,w)}return new at(D,N)}r.B=function(N){return vt(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)&N.i(O);return new d(C,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)|N.i(O);return new d(C,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)^N.i(O);return new d(C,this.h^N.h)};function Bt(N){const R=N.g.length+1,C=[];for(let O=0;O<R;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(C,N.h)}function wt(N,R){const C=R>>5;R%=32;const O=N.g.length-C,D=[];for(let M=0;M<O;M++)D[M]=R>0?N.i(M+C)>>>R|N.i(M+C+1)<<32-R:N.i(M+C);return new d(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,dv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,La=d}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,Kl,gv,tc,rd,pv,yv,_v;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var rt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)rt[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,rt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const q=L.length||0;u.length=p+q;for(let rt=0;rt<q;rt++)u[p+rt]=L[rt]}else u.push(L)}}class nt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function Z(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,p){const T=at.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var at=new nt(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,wt=!1,N=new dt,R=()=>{const u=Promise.resolve(void 0);Bt=()=>{u.then(C)}};function C(){for(var u;u=Z();){try{u.h.call(u.g)}catch(p){W(p)}var m=at;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Vt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Vt,D),Vt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Vt.Z.h.call(this)},Vt.prototype.h=function(){Vt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<U.length;q++)p=U[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,p,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const rt=yt(u,m,T,L);return rt>-1?(m=u[rt],p||(m.fa=!1)):(m=new it(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function mt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ct(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function yt(u,m,p,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),ie={};function te(u,m,p,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)te(u,m[q],p,T,L);return null}return p=Fs(p),u&&u[Gt]?u.J(m,p,y(T)?!!T.capture:!1,L):ti(u,m,p,!1,T,L)}function ti(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");const rt=y(L)?!!L.capture:!!L;let Rt=Ya(u);if(Rt||(u[xt]=Rt=new st(u)),p=Rt.add(m,p,T,rt,q),p.proxy)return p;if(T=ta(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)M||(L=rt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent($e(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ta(){function u(p){return m.call(u.src,u.listener,p)}const m=Qa;return u}function he(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)he(u,m[q],p,T,L);else T=y(T)?!!T.capture:!!T,p=Fs(p),u&&u[Gt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=yt(m,p,T,L),p>-1&&(ct(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ya(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,p,T,L)),(p=u>-1?m[u]:null)&&nn(p))}function nn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Gt])mt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent($e(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ya(m))?(mt(p,u),p.h==0&&(p.src=null,m[xt]=null)):ct(u)}}}function $e(u){return u in ie?ie[u]:ie[u]="on"+u}function Qa(u,m){if(u.da)u=!0;else{m=new Vt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&nn(u),u=p.call(T,m)}return u}function Ya(u){return u=u[xt],u instanceof st?u:null}var Hs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fs(u){return typeof u=="function"?u:(u[Hs]||(u[Hs]=function(m){return u.handleEvent(m)}),u[Hs])}function _e(){O.call(this),this.i=new st(this),this.M=this,this.G=null}b(_e,O),_e.prototype[Gt]=!0,_e.prototype.removeEventListener=function(u,m,p,T){he(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),J(m,L)}L=!0;let q,rt;if(p)for(rt=p.length-1;rt>=0;rt--)q=m.g=p[rt],L=ea(q,T,!0,m)&&L;if(q=m.g=u,L=ea(q,T,!0,m)&&L,L=ea(q,T,!1,m)&&L,p)for(rt=0;rt<p.length;rt++)q=m.g=p[rt],L=ea(q,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ct(p[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},_e.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function ea(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const rt=m[q];if(rt&&!rt.da&&rt.capture==p){const Rt=rt.listener,me=rt.ha||rt.src;rt.fa&&mt(u.i,rt),L=Rt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function zc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function yo(u){u.g=zc(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class an extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ka(u){O.call(this),this.h=u,this.g={}}b(Ka,O);var Gs=[];function Qs(u){tt(u.g,function(m,p){this.g.hasOwnProperty(p)&&nn(m)},u),u.g={}}Ka.prototype.N=function(){Ka.Z.N.call(this),Qs(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=d.JSON.stringify,Uc=d.JSON.parse,_o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vo(){}function Eo(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}b(Pe,D);function wn(){D.call(this,"c")}b(wn,D);var de={},To=null;function Or(){return To=To||new _e}de.Ia="serverreachability";function Ao(u){D.call(this,de.Ia,u)}b(Ao,D);function ei(u){const m=Or();Ie(m,new Ao(m))}de.STAT_EVENT="statevent";function Xa(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}b(Xa,D);function ve(u){const m=Or();Ie(m,new Xa(m,u))}de.Ja="timingevent";function ni(u,m){D.call(this,de.Ja,u),this.size=m}b(ni,D);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Lc(u,m,p,T,L,q){u.info(function(){if(u.g)if(q){var rt="",Rt=q.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var me=Rt[Ht].split("=");if(me.length>1){const le=me[0];me=me[1];const xn=le.split("_");rt=xn.length>=2&&xn[1]=="type"?rt+(le+"="+me+"&"):rt+(le+"=redacted&")}}}else rt=null;else rt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+rt})}function So(u,m,p,T,L,q,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+rt})}function ai(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jc(u,p)+(T?" "+T:"")})}function Za(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function jc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return na(q)}catch{return m}}var $a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ys={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ks;function Ja(){}b(Ja,vo),Ja.prototype.g=function(){return new XMLHttpRequest},Ks=new Ja;function Vi(u){return encodeURIComponent(String(u))}function bo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function qn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Le={};function ri(u,m,p){u.M=1,u.A=Wa(Ae(m)),u.u=p,u.R=!0,zr(u,null)}function zr(u,m){u.F=Date.now(),si(u),u.B=Ae(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),kr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Hn,u.g=ko(u.j,p?m:null,!u.u),u.P>0&&(u.O=new an(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Gs[0]=L.toString()),L=Gs);for(let q=0;q<L.length;q++){const rt=te(p,L[q],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Lc(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Qn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||Rt!=4||me==7||(me==8||Ht<=0?ei(3):ei(2)),li(this);var m=this.g.ca();this.X=m;var p=kc(this);if(this.o=m==200,So(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ve(12),gn(this),Rn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<p.length;)if(le=Ro(this,p),le==Le){Rt==4&&(this.m=4,ve(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ai(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,le,null),oi(this,le);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||p.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,p,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(p.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),ul(rt),rt.P=!0,ve(11))}}else ai(this.i,this.l,p,null),oi(this,p);Rt==4&&gn(this),this.o&&!this.K&&(Rt==4?zo(this.j,this):(this.o=!1,si(this)))}else Oi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),gn(this),Rn(this)}}}catch{}finally{}};function kc(u){if(!wo(u))return u.g.la();const m=qe(u.g);if(m==="")return"";let p="";const T=m.length,L=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ro(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Le:(p=Number(m.substring(p,T)),isNaN(p)?Ee:(T+=1,T+p>m.length?Le:(m=m.slice(T,T+p),u.C=T+p,m)))}qn.prototype.cancel=function(){this.K=!0,gn(this)};function si(u){u.T=Date.now()+u.H,Ur(u,u.H)}function Ur(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Za(this.i,this.B),this.M!=2&&(ei(),ve(17)),gn(this),this.m=2,Rn(this)):Ur(this,this.T-u)};function Rn(u){u.j.I==0||u.K||zo(u.j,u)}function gn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Qs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ci(p.h,u))){if(!u.L&&ci(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Fr(p),ca(p);else break t;sr(p),ve(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ii(_(p.Va,p),6e3));ui(p.h)<=1&&p.ta&&(p.ta=void 0)}else pi(p,11)}else if((u.L||p.g==u)&&Fr(p),!w(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const le=Ht[0];if(!(le<=p.K))if(p.K=le,Ht=Ht[1],p.I==2)if(Ht[0]=="c"){p.M=Ht[1],p.ba=Ht[2];const xn=Ht[3];xn!=null&&(p.ka=xn,p.j.info("VER="+p.ka));const yi=Ht[4];yi!=null&&(p.za=yi,p.j.info("SVER="+p.za));const Yn=Ht[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(T=1.5*Yn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Kn=u.g;if(Kn){const lr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var q=T.h;q.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&($s(q,q.h),q.h=null))}if(T.G){const Gr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gr&&(T.wa=Gr,Yt(T.J,T.G,Gr))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var rt=u;if(T.na=jo(T,T.L?T.ba:null,T.W),rt.L){Js(T.h,rt);var Rt=rt,me=T.O;me&&(Rt.H=me),Rt.D&&(li(Rt),si(Rt)),T.g=rt}else Mo(T);p.i.length>0&&gi(p)}else Ht[0]!="stop"&&Ht[0]!="close"||pi(p,7);else p.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?pi(p,7):ll(p):Ht[0]!="noop"&&p.l&&p.l.qa(Ht),p.A=0)}}ei(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function Xs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $s(u,m){u.g?u.g.add(m):u.h=m}function Js(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Xs.prototype.cancel=function(){if(this.i=Ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ws(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return H(u.i)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,q=null;T>=0?(L=u[p].substring(0,T),q=u[p].substring(T+1)):L=u[p],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,ia(this,u.u),this.h=u.h,tl(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(Do))?(this.l=!1,je(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),ia(this,m[4]),this.h=fi(m[5]||"",!0),tl(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new ra(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(tr(m,jr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(tr(m,jr,!0),"@"),u.push(Vi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(tr(p,p.charAt(0)=="/"?el:Co,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",tr(p,xo)),u.join("")},pn.prototype.resolve=function(u){const m=Ae(this);let p=!!u.j;p?je(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)ia(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let rt=0;rt<L.length;){const Rt=L[rt++];Rt=="."?T&&rt==L.length&&q.push(""):Rt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&rt==L.length&&q.push("")):(q.push(Rt),T=!0)}T=q.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?tl(m,Io(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ae(u){return new pn(u)}function je(u,m,p){u.j=p?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ia(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function tl(u,m,p){m instanceof ra?(u.i=m,Br(u.i,u.l)):(p||(m=tr(m,aa)),u.i=new ra(m,u.l))}function Yt(u,m,p){u.i.set(m,p)}function Wa(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var jr=/[#\/\?@]/g,Co=/[#\?:]/g,el=/[#\?]/g,aa=/[#\?@]/g,xo=/#/g;function ra(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&Lr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=ra.prototype,r.add=function(u,m){on(this),this.i=null,u=sa(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function No(u,m){on(u),m=sa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function nl(u,m){return on(u),m=sa(u,m),u.g.has(m)}r.forEach=function(u,m){on(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function il(u,m){on(u);let p=[];if(typeof m=="string")nl(u,m)&&(p=p.concat(u.g.get(sa(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return on(this),this.i=null,u=sa(this,u),nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=il(this,u),u.length>0?String(u[0]):m):m};function kr(u,m,p){No(u,m),p.length>0&&(u.i=null,u.g.set(sa(u,m),H(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Vi(p);p=il(this,p);for(let q=0;q<p.length;q++){let rt=L;p[q]!==""&&(rt+="="+Vi(p[q])),u.push(rt)}}return this.i=u.join("&")};function Io(u){const m=new ra;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function sa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Br(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(No(this,T),kr(this,L,p))},u)),u.j=m}function Fn(u,m){const p=new Pn;if(d.Image){const T=new Image;T.onload=A(Dn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Dn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Dn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Dn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function al(u,m){const p=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),Dn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Dn(p,"TestPingServer: ok",!0,m):Dn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(p,"TestPingServer: error",!1,m)})}function Dn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function la(){this.g=new _o}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(hi,vo),hi.prototype.g=function(){return new er(this.i,this.h)};function er(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(er,_e),r=er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?oa(this):Gn(this),this.readyState==3&&Pr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,oa(this))},r.Na=function(u){this.g&&(this.response=u,oa(this))},r.ga=function(){this.g&&oa(this)};function oa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return tt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function nr(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Cn(p),typeof u=="string"?p!=null&&Vi(p):Yt(u,m,p))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,_e);var di=/^https?$/i,rl=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ks.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ir(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(rl,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,rt]of p)this.g.setRequestHeader(q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ir(this,q)}};function ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,sl(u),Mi(u)}function sl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ar(this):this.Xa())},r.Xa=function(){ar(this)};function ar(u){if(u.h&&typeof f<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let rt=String(u.D).match(Do)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!di.test(rt?rt.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=Qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",sl(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uc(m)}};function qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var p=bo(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ua(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Xs(u&&u.concurrentRequestLimit),this.Ba=new la,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ua.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){ve(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=jo(this,null,this.W),gi(this)};function ll(u){if(qr(u),u.I==3){var m=u.V++,p=Ae(u.J);if(Yt(p,"SID",u.M),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),rr(u,p),m=new qn(u,u.j,m),m.M=2,m.A=Wa(Ae(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=ko(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}Lo(u)}function ca(u){u.g&&(ul(u),u.g.cancel(),u.g=null)}function qr(u){ca(u),u.v&&(d.clearTimeout(u.v),u.v=null),Fr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!Zs(u.h)&&!u.m){u.m=!0;var m=u.Ea;Bt||R(),wt||(Bt(),wt=!0),N.add(m,u),u.D=0}}function Hr(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=S(q),J(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Vo(this,L,m),p=Ae(this.J),Yt(p,"RID",u),Yt(p,"CVER",22),this.G&&Yt(p,"X-HTTP-Session-Id",this.G),rr(this,p),q&&(this.R?m="headers="+Vi(Cn(q))+"&"+m:this.u&&nr(p,this.u,q)),$s(this.h,L),this.Ra&&Yt(p,"TYPE","init"),this.S?(Yt(p,"$req",m),Yt(p,"SID","null"),L.U=!0,ri(L,p,null)):ri(L,p,m),this.I=2}}else this.I==3&&(u?ol(this,u):this.i.length==0||Zs(this.h)||ol(this))};function ol(u,m){var p;m?p=m.l:p=u.V++;const T=Ae(u.J);Yt(T,"SID",u.M),Yt(T,"RID",p),Yt(T,"AID",u.K),rr(u,T),u.u&&u.o&&nr(T,u.u,u.o),p=new qn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Vo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$s(u.h,p),ri(p,T,m)}function rr(u,m){u.H&&tt(u.H,function(p,T){Yt(m,T,p)}),u.l&&tt({},function(p,T){Yt(m,T,p)})}function Vo(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const me=["count="+p];Rt==-1?p>0?(Rt=L[0].g,me.push("ofs="+Rt)):Rt=0:me.push("ofs="+Rt);let Ht=!0;for(let le=0;le<p;le++){var q=L[le].g;const xn=L[le].map;if(q-=Rt,q<0)Rt=Math.max(0,L[le].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var rt=xn instanceof Map?xn:Object.entries(xn);for(const[yi,Yn]of rt){let Kn=Yn;y(Yn)&&(Kn=na(Yn)),me.push(q+yi+"="+encodeURIComponent(Kn))}}catch(yi){throw me.push(q+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(xn)}}if(Ht){rt=me.join("&");break t}}rt=void 0}return u=u.i.splice(0,p),m.G=u,rt}function Mo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Bt||R(),wt||(Bt(),wt=!0),N.add(m,u),u.A=0}}function sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),Uo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ca(this),Oo(this))};function ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Oo(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),rr(u,m),u.u&&u.o&&nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Wa(Ae(m)),p.u=null,p.R=!0,zr(p,u)}r.Va=function(){this.C!=null&&(this.C=null,ca(this),sr(this),ve(19))};function Fr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function zo(u,m){var p=null;if(u.g==m){Fr(u),ul(u),u.g=null;var T=2}else if(ci(u.h,m))p=m.G,Js(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Or(),Ie(T,new ni(T,p)),gi(u)}else Mo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Hr(u,m)||T==2&&sr(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Uo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(T,"https"),Wa(T),L?Fn(T.toString(),p):al(T.toString(),p)}else ve(2);u.I=0,u.l&&u.l.pa(m),Lo(u),qr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Ws(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function jo(u,m,p){var T=p instanceof pn?Ae(p):new pn(p);if(T.g!="")m&&(T.g=m+"."+T.g),ia(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new pn(null);T&&je(q,T),m&&(q.g=m),L&&ia(q,L),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Yt(T,p,m),Yt(T,"VER",u.ka),rr(u,T),T}function ko(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new hi({ab:p})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}r=Bo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fa(){}fa.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){_e.call(this),this.g=new ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}b(rn,_e),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){ll(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=na(u),u=p);m.i.push(new Te(m.Ya++,u)),m.I==3&&gi(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,rn.Z.N.call(this)};function Po(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Po,Pe);function qo(){wn.call(this),this.status=1}b(qo,wn);function zi(u){this.g=u}b(zi,Bo),zi.prototype.ra=function(){Ie(this.g,"a")},zi.prototype.qa=function(u){Ie(this.g,new Po(u))},zi.prototype.pa=function(u){Ie(this.g,new qo)},zi.prototype.oa=function(){Ie(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,_v=function(){return new fa},yv=function(){return Or()},pv=de,rd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,tc=$a,Ys.COMPLETE="complete",gv=Ys,Eo.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Kl=Eo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,mv=Zt}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Xy="@firebase/firestore",Zy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new lv("@firebase/firestore");function Ts(){return Dr.logLevel}function ot(r,...e){if(Dr.logLevel<=kt.DEBUG){const i=e.map(Rd);Dr.debug(`Firestore (${js}): ${r}`,...i)}}function Ji(r,...e){if(Dr.logLevel<=kt.ERROR){const i=e.map(Rd);Dr.error(`Firestore (${js}): ${r}`,...i)}}function Ns(r,...e){if(Dr.logLevel<=kt.WARN){const i=e.map(Rd);Dr.warn(`Firestore (${js}): ${r}`,...i)}}function Rd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,vv(r,s,i)}function vv(r,e,i){let s=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ji(s),new Error(s)}function Qt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||vv(e,o,s)}function bt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ls{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class JA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WA{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new ja;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ja,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ja)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new Ev(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class tS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new tS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,UA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0,3512);const s=f=>{f.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $y(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $y(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iS(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%62))}return s}}function zt(r,e){return r<e?-1:r>e?1:0}function sd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),f=e.charAt(s);if(o!==f)return Fh(o)===Fh(f)?zt(o,f):Fh(o)?1:-1}return zt(r.length,e.length)}const aS=55296,rS=57343;function Fh(r){const e=r.charCodeAt(0);return e>=aS&&e<=rS}function Is(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="__name__";class wi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=wi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return zt(e.length,i.length)}static compareSegments(e,i){const s=wi.isNumericId(e),o=wi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(i)):sd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class ne extends wi{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const sS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends wi{construct(e,i,s){return new Xe(e,i,s)}static isValidIdentifier(e){return sS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jy}static keyField(){return new Xe([Jy])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(f(),o++)}if(f(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(i)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ne.fromString(e))}static fromName(e){return new pt(ne.fromString(e).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(r,e,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lS(r,e,i,s){if(e===!0&&s===!0)throw new lt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Wy(r){if(!pt.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function t_(r){if(pt.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Av(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Tc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Vs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tc(r);throw new lt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e){const i={typeString:r};return e&&(i.value=e),i}function fo(r,e){if(!Av(r))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new lt(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,n_=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*n_);return new se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e_)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fo(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function oS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new se(i+1,0):new se(i,s));return new Ba(o,pt.empty(),e)}function uS(r){return new Ba(r.readTime,r.key,ao)}class Ba{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ba(At.min(),pt.empty(),ao)}static max(){return new Ba(At.max(),pt.empty(),ao)}}function cS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:zt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==fS)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,s)=>{i(e)}))}static reject(e){return new $(((i,s)=>{s(e)}))}static waitFor(e){return new $(((i,s)=>{let o=0,f=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++f,d&&f===o&&i()}),(v=>s(v)))})),d=!0,f===o&&i()}))}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next((o=>o?$.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new $(((s,o)=>{const f=e.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===f&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function dS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Bs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=-1;function Sc(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function mS(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="";function gS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=i_(e)),e=pS(r.get(i),e);return i_(e)}function pS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const f=r.charAt(o);switch(f){case"\0":i+="";break;case Sv:i+="";break;default:i+=f}}return i}function i_(r){return r+Sv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function xr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function bv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.comparator=e,this.root=i||Ke.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ke{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=f??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new Ke(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,o,f){return this}insert(e,i,s){return new Ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ue(this.comparator);return i.data=e,i}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new Ue(Xe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new wv("Invalid base64 string: "+f):f}})(e);return new Ze(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Ze(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const yS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(r){if(Qt(!!r,39018),typeof r=="string"){let e=0;const i=yS.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="server_timestamp",Dv="__type__",Cv="__previous_value__",xv="__local_write_time__";function xd(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[Dv])==null?void 0:s.stringValue)===Rv}function bc(r){const e=r.mapValue.fields[Cv];return xd(e)?bc(e):e}function ro(r){const e=Pa(r.mapValue.fields[xv].timestampValue);return new se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i,s,o,f,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const fc="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__type__",vS="__max__",Ku={mapValue:{}},Iv="__vector__",hc="value";function Ha(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xd(r)?4:TS(r)?9007199254740991:ES(r)?10:11:Et(28295,{value:r})}function Ii(r,e){if(r===e)return!0;const i=Ha(r);if(i!==Ha(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ro(r).isEqual(ro(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Pa(o.timestampValue),y=Pa(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return qa(o.bytesValue).isEqual(qa(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return ye(o.geoPointValue.latitude)===ye(f.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ye(o.integerValue)===ye(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ye(o.doubleValue),y=ye(f.doubleValue);return d===y?cc(d)===cc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Is(r.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},y=f.mapValue.fields||{};if(a_(d)!==a_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ii(d[v],y[v])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function lo(r,e){return(r.values||[]).find((i=>Ii(i,e)))!==void 0}function Ms(r,e){if(r===e)return 0;const i=Ha(r),s=Ha(e);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=ye(f.integerValue||f.doubleValue),v=ye(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return s_(r.timestampValue,e.timestampValue);case 4:return s_(ro(r),ro(e));case 5:return sd(r.stringValue,e.stringValue);case 6:return(function(f,d){const y=qa(f),v=qa(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=zt(y[_],v[_]);if(A!==0)return A}return zt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=zt(ye(f.latitude),ye(d.latitude));return y!==0?y:zt(ye(f.longitude),ye(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return l_(r.arrayValue,e.arrayValue);case 10:return(function(f,d){var I,H,et,nt;const y=f.fields||{},v=d.fields||{},_=(I=y[hc])==null?void 0:I.arrayValue,A=(H=v[hc])==null?void 0:H.arrayValue,b=zt(((et=_==null?void 0:_.values)==null?void 0:et.length)||0,((nt=A==null?void 0:A.values)==null?void 0:nt.length)||0);return b!==0?b:l_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Ku.mapValue&&d===Ku.mapValue)return 0;if(f===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const I=sd(v[b],A[b]);if(I!==0)return I;const H=Ms(y[v[b]],_[A[b]]);if(H!==0)return H}return zt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function s_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return zt(r,e);const i=Pa(r),s=Pa(e),o=zt(i.seconds,s.seconds);return o!==0?o:zt(i.nanos,s.nanos)}function l_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=Ms(i[o],s[o]);if(f)return f}return zt(i.length,s.length)}function Os(r){return ld(r)}function ld(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Pa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return qa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=ld(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${ld(i.fields[d])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function ec(r){switch(Ha(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bc(r);return e?16+ec(e):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,f)=>o+ec(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return xr(s.fields,((f,d)=>{o+=f.length+ec(d)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function o_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function od(r){return!!r&&"integerValue"in r}function Nd(r){return!!r&&"arrayValue"in r}function u_(r){return!!r&&"nullValue"in r}function c_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nc(r){return!!r&&"mapValue"in r}function ES(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[Nv])==null?void 0:s.stringValue)===Iv}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xr(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return{...r}}function TS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=Xe.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=y.popLast()}d?s[y.lastSegment()]=Jl(d):o.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){xr(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new jn(Jl(this.value))}}function Vv(r){const e=[];return xr(r.fields,((i,s)=>{const o=new Xe([i]);if(nc(s)){const f=Vv(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,i,s,o,f,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new en(e,0,At.min(),At.min(),At.min(),jn.empty(),0)}static newFoundDocument(e,i,s,o){return new en(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new en(e,2,i,At.min(),At.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new en(e,3,i,At.min(),At.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function f_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Ms(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function h_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i="asc"){this.field=e,this.dir=i}}function AS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{}class xe extends Mv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new bS(e,i,s):i==="array-contains"?new DS(e,s):i==="in"?new CS(e,s):i==="not-in"?new xS(e,s):i==="array-contains-any"?new NS(e,s):new xe(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new wS(e,s):new RS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ms(i,this.value)):i!==null&&Ha(this.value)===Ha(i)&&this.matchesComparison(Ms(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Mv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wn(e,i)}matches(e){return Ov(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ov(r){return r.op==="and"}function zv(r){return SS(r)&&Ov(r)}function SS(r){for(const e of r.filters)if(e instanceof Wn)return!1;return!0}function ud(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+Os(r.value);if(zv(r))return r.filters.map((e=>ud(e))).join(",");{const e=r.filters.map((i=>ud(i))).join(",");return`${r.op}(${e})`}}function Uv(r,e){return r instanceof xe?(function(s,o){return o instanceof xe&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)})(r,e):r instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,y)=>f&&Uv(d,o.filters[y])),!0):!1})(r,e):void Et(19439)}function Lv(r){return r instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Os(i.value)}`})(r):r instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Lv).join(" ,")+"}"})(r):"Filter"}class bS extends xe{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class wS extends xe{constructor(e,i){super(e,"in",i),this.keys=jv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class RS extends xe{constructor(e,i){super(e,"not-in",i),this.keys=jv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jv(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>pt.fromName(s.referenceValue)))}class DS extends xe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Nd(i)&&lo(i.arrayValue,this.value)}}class CS extends xe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class xS extends xe{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class NS extends xe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>lo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i=null,s=[],o=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function d_(r,e=null,i=[],s=[],o=null,f=null,d=null){return new IS(r,e,i,s,o,f,d)}function Id(r){const e=bt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ud(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Os(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Os(s))).join(",")),e.Te=i}return e.Te}function Vd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!AS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Uv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!h_(r.startAt,e.startAt)&&h_(r.endAt,e.endAt)}function cd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,i=null,s=[],o=[],f=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VS(r,e,i,s,o,f,d,y){return new Ps(r,e,i,s,o,f,d,y)}function kv(r){return new Ps(r)}function m_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Bv(r){return r.collectionGroup!==null}function Wl(r){const e=bt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ue(Xe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new oo(f,s))})),i.has(Xe.keyField().canonicalString())||e.Ie.push(new oo(Xe.keyField(),s))}return e.Ie}function Ri(r){const e=bt(r);return e.Ee||(e.Ee=MS(e,Wl(r))),e.Ee}function MS(r,e){if(r.limitType==="F")return d_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new oo(o.field,f)}));const i=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return d_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function fd(r,e){const i=r.filters.concat([e]);return new Ps(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function hd(r,e,i){return new Ps(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function wc(r,e){return Vd(Ri(r),Ri(e))&&r.limitType===e.limitType}function Pv(r){return`${Id(Ri(r))}|lt:${r.limitType}`}function As(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Lv(o))).join(", ")}]`),Sc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Os(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Os(o))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function Rc(r,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):pt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,o){for(const f of Wl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,v){const _=f_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(d,y,v){const _=f_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Wl(s),o))})(r,e)}function OS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qv(r){return(e,i)=>{let s=!1;for(const o of Wl(r)){const f=zS(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function zS(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?Ms(v,_):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new ue(pt.comparator);function Wi(){return US}const Hv=new ue(pt.comparator);function Xl(...r){let e=Hv;for(const i of r)e=e.insert(i.key,i);return e}function Fv(r){let e=Hv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Rr(){return to()}function Gv(){return to()}function to(){return new Nr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const LS=new ue(pt.comparator),jS=new Ue(pt.comparator);function Ut(...r){let e=jS;for(const i of r)e=e.add(i);return e}const kS=new Ue(zt);function BS(){return kS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function Qv(r){return{integerValue:""+r}}function PS(r,e){return mS(e)?Qv(e):Md(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function qS(r,e,i){return r instanceof mc?(function(o,f){const d={fields:{[Dv]:{stringValue:Rv},[xv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&xd(f)&&(f=bc(f)),f&&(d.fields[Cv]=f),{mapValue:d}})(i,e):r instanceof uo?Kv(r,e):r instanceof co?Xv(r,e):(function(o,f){const d=Yv(o,f),y=g_(d)+g_(o.Ae);return od(d)&&od(o.Ae)?Qv(y):Md(o.serializer,y)})(r,e)}function HS(r,e,i){return r instanceof uo?Kv(r,e):r instanceof co?Xv(r,e):i}function Yv(r,e){return r instanceof gc?(function(s){return od(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class mc extends Dc{}class uo extends Dc{constructor(e){super(),this.elements=e}}function Kv(r,e){const i=Zv(e);for(const s of r.elements)i.some((o=>Ii(o,s)))||i.push(s);return{arrayValue:{values:i}}}class co extends Dc{constructor(e){super(),this.elements=e}}function Xv(r,e){let i=Zv(e);for(const s of r.elements)i=i.filter((o=>!Ii(o,s)));return{arrayValue:{values:i}}}class gc extends Dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function g_(r){return ye(r.integerValue||r.doubleValue)}function Zv(r){return Nd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function FS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof uo&&o instanceof uo||s instanceof co&&o instanceof co?Is(s.elements,o.elements,Ii):s instanceof gc&&o instanceof gc?Ii(s.Ae,o.Ae):s instanceof mc&&o instanceof mc})(r.transform,e.transform)}class GS{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cc{}function $v(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Od(r.key,Di.none()):new ho(r.key,r.data,Di.none());{const i=r.data,s=jn.empty();let o=new Ue(Xe.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new Ir(r.key,s,new Jn(o.toArray()),Di.none())}}function QS(r,e,i){r instanceof ho?(function(o,f,d){const y=o.value.clone(),v=y_(o.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ir?(function(o,f,d){if(!ic(o.precondition,f))return void f.convertToUnknownDocument(d.version);const y=y_(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Jv(o)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function eo(r,e,i,s){return r instanceof ho?(function(f,d,y,v){if(!ic(f.precondition,d))return y;const _=f.value.clone(),A=__(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ir?(function(f,d,y,v){if(!ic(f.precondition,d))return y;const _=__(f.fieldTransforms,v,d),A=d.data;return A.setAll(Jv(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(f,d,y){return ic(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function YS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),f=Yv(s.transform,o||null);f!=null&&(i===null&&(i=jn.empty()),i.set(s.field,f))}return i||null}function p_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Is(s,o,((f,d)=>FS(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ho extends Cc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ir extends Cc{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Jv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function y_(r,e,i){const s=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,y=e.data.field(f.field);s.set(f.field,HS(d,y,i[o]))}return s}function __(r,e,i){const s=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);s.set(o.field,qS(f,d,e))}return s}class Od extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KS extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&QS(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Gv();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(o.key)?null:y;const v=$v(d,y);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ut())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,((i,s)=>p_(i,s)))&&Is(this.baseMutations,e.baseMutations,((i,s)=>p_(i,s)))}}class zd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return LS})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new zd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,jt;function JS(r){switch(r){case X.OK:return Et(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function Wv(r){if(r===void 0)return Ji("GRPC error has no .code"),X.UNKNOWN;switch(r){case De.OK:return X.OK;case De.CANCELLED:return X.CANCELLED;case De.UNKNOWN:return X.UNKNOWN;case De.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case De.INTERNAL:return X.INTERNAL;case De.UNAVAILABLE:return X.UNAVAILABLE;case De.UNAUTHENTICATED:return X.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case De.NOT_FOUND:return X.NOT_FOUND;case De.ALREADY_EXISTS:return X.ALREADY_EXISTS;case De.PERMISSION_DENIED:return X.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case De.ABORTED:return X.ABORTED;case De.OUT_OF_RANGE:return X.OUT_OF_RANGE;case De.UNIMPLEMENTED:return X.UNIMPLEMENTED;case De.DATA_LOSS:return X.DATA_LOSS;default:return Et(39323,{code:r})}}(jt=De||(De={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new La([4294967295,4294967295],0);function v_(r){const e=WS().encode(r),i=new dv;return i.update(e),new Uint8Array(i.digest())}function E_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new La([i,s],0),new La([o,f],0)]}class Ud{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=La.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(La.fromNumber(s)));return o.compare(tb)===1&&(o=new La([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v_(e),[s,o]=E_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Ud(f,o,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=v_(e),[s,o]=E_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new xc(At.min(),o,new ue(zt),Wi(),Ut())}}class mo{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new mo(s,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class t0{constructor(e,i){this.targetId=e,this.Ce=i}}class e0{constructor(e,i,s=Ze.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class T_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),i=Ut(),s=Ut();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:f})}})),new mo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=A_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=Xu(),this.He=Xu(),this.Ye=new ue(zt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(cd(f))if(s===0){const d=new pt(f.path);this.et(i,d,en.newNoDocument(d,At.min()))}else Qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,y;try{d=qa(s).toUint8Array()}catch(v){if(v instanceof wv)return Ns("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Ud(d,o,f)}catch(v){return Ns(v instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&cd(y.target)){const v=new pt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,en.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let s=Ut();this.He.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new xc(e,i,this.Ye,this.je,s);return this.je=Wi(),this.Je=Xu(),this.He=Xu(),this.Ye=new ue(zt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new T_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ue(zt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ue(zt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Xu(){return new ue(pt.comparator)}function A_(){return new ue(pt.comparator)}const nb={asc:"ASCENDING",desc:"DESCENDING"},ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ab={and:"AND",or:"OR"};class rb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dd(r,e){return r.useProto3Json||Sc(e)?e:{value:e}}function pc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sb(r,e){return pc(r,e.toTimestamp())}function Ci(r){return Qt(!!r,49232),At.fromTimestamp((function(i){const s=Pa(i);return new se(s.seconds,s.nanos)})(r))}function Ld(r,e){return md(r,e).canonicalString()}function md(r,e){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function i0(r){const e=ne.fromString(r);return Qt(o0(e),10190,{key:e.toString()}),e}function gd(r,e){return Ld(r.databaseId,e.path)}function Gh(r,e){const i=i0(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(r0(i))}function a0(r,e){return Ld(r.databaseId,e)}function lb(r){const e=i0(r);return e.length===4?ne.emptyPath():r0(e)}function pd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function r0(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function S_(r,e,i){return{name:gd(r,e),fields:i.value.mapValue.fields}}function ob(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Ze.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ze.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:Wv(_.code);return new lt(A,_.message||"")})(d);i=new e0(s,o,f,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gh(r,s.document.name),f=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):At.min(),y=new jn({mapValue:{fields:s.document.fields}}),v=en.newFoundDocument(o,f,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new ac(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gh(r,s.document),f=s.readTime?Ci(s.readTime):At.min(),d=en.newNoDocument(o,f),y=s.removedTargetIds||[];i=new ac([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gh(r,s.document),f=s.removedTargetIds||[];i=new ac([],f,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new $S(o,f),y=s.targetId;i=new t0(y,d)}}return i}function ub(r,e){let i;if(e instanceof ho)i={update:S_(r,e.key,e.value)};else if(e instanceof Od)i={delete:gd(r,e.key)};else if(e instanceof Ir)i={update:S_(r,e.key,e.data),updateMask:_b(e.fieldMask)};else{if(!(e instanceof KS))return Et(16599,{Vt:e.type});i={verify:gd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const y=d.transform;if(y instanceof mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof gc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Et(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:sb(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:Et(27497)})(r,e.precondition)),i}function cb(r,e){return r&&r.length>0?(Qt(e!==void 0,14353),r.map((i=>(function(o,f){let d=o.updateTime?Ci(o.updateTime):Ci(f);return d.isEqual(At.min())&&(d=Ci(f)),new GS(d,o.transformResults||[])})(i,e)))):[]}function fb(r,e){return{documents:[a0(r,e.path)]}}function hb(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=a0(r,o);const f=(function(_){if(_.length!==0)return l0(Wn.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((A=>(function(I){return{field:Ss(I.field),direction:gb(I.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=dd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function db(r){let e=lb(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(b){const I=s0(b);return I instanceof Wn&&zv(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((I=>(function(et){return new oo(bs(et.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(I)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let I;return I=typeof b=="object"?b.value:b,Sc(I)?null:I})(i.limit));let v=null;i.startAt&&(v=(function(b){const I=!!b.before,H=b.values||[];return new dc(H,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const I=!b.before,H=b.values||[];return new dc(H,I)})(i.endAt)),VS(e,o,d,f,y,"F",v,_)}function mb(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function s0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=bs(i.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bs(i.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=bs(i.unaryFilter.field);return xe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bs(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return xe.create(bs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((s=>s0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function gb(r){return nb[r]}function pb(r){return ib[r]}function yb(r){return ab[r]}function Ss(r){return{fieldPath:r.canonicalString()}}function bs(r){return Xe.fromServerFormat(r.fieldPath)}function l0(r){return r instanceof xe?(function(i){if(i.op==="=="){if(c_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NAN"}};if(u_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(c_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NAN"}};if(u_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(i.field),op:pb(i.op),value:i.value}}})(r):r instanceof Wn?(function(i){const s=i.getFilters().map((o=>l0(o)));return s.length===1?s[0]:{compositeFilter:{op:yb(i.op),filters:s}}})(r):Et(54877,{filter:r})}function _b(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function o0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i,s,o,f=At.min(),d=At.min(),y=Ze.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.yt=e}}function Eb(r){const e=db({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.Cn=new Ab}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Ba.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Ab{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ue(ne.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ue(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(u0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zs(0)}static cr(){return new zs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",Sb=1048576;function R_([r,e],[i,s]){const o=zt(r,i);return o===0?zt(e,s):o}class bb{constructor(e){this.Ir=e,this.buffer=new Ue(R_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();R_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Bs(i)?ot(w_,"Ignoring IndexedDB error during garbage collection: ",i):await ks(i)}await this.Vr(3e5)}))}}class Rb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ac.ce);const s=new bb(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(b_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,f,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(f=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),Ts()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:b}))))}}function Db(r,e){return new Rb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.changes=new Nr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&eo(s.mutation,o,Jn.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ut()){const o=Rr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=Xl();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Rr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ut())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,o){let f=Wi();const d=to(),y=(function(){return to()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ir)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),eo(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new xb(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=to();let o=new ue(((d,y)=>d-y)),f=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Jn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(o.get(y.batchId)||Ut()).add(v);o=o.insert(y.batchId,b)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=Gv();A.forEach((I=>{if(!f.has(I)){const H=$v(i.get(I),s.get(I));H!==null&&b.set(I,H),f=f.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Bv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):$.resolve(Rr());let y=ao,v=f;return d.next((_=>$.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),f.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((I=>{v=v.insert(A,I)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,Ut()))).next((A=>({batchId:y,changes:Fv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,f).next((y=>$.forEach(y,(v=>{const _=(function(b,I){return new Ps(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((b,I)=>{d=d.insert(b,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let y=Xl();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&eo(A.mutation,_,Jn.empty(),se.now()),Rc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Eb(o.bundledQuery),readTime:Ci(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.overlays=new ue(pt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Rr();return $.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.St(e,i,f)})),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=Rr(),f=i.length+1,d=new pt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ue(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=f.get(_.largestBatchId);A===null&&(A=Rr(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Rr(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return $.resolve(y)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ZS(i,s));let f=this.qr.get(i);f===void 0&&(f=Ut(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Qr=new Ue(Be.$r),this.Ur=new Ue(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Be(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Be(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new ne([])),s=new Be(i,e),o=new Be(i,e+1),f=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new ne([])),s=new Be(i,e),o=new Be(i,e+1);let f=Ut();return this.Ur.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Be(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Be{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||zt(e.Yr,i.Yr)}static Kr(e,i){return zt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Be.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new XS(f,i,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Be(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),f=o<0?0:o;return $.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Cd:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);f.push(y)})),$.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ue(zt);return i.forEach((o=>{const f=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(y=>{s=s.add(y.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;pt.isDocumentKey(f)||(f=f.child(""));const d=new Be(new pt(f),0);let y=new Ue(zt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(i.mutations,(o=>{const f=new Be(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Be(i,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.ri=e,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():en.newInvalidDocument(i))}getEntries(e,i){let s=Wi();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():en.newInvalidDocument(o))})),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Wi();const d=i.path,y=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||cS(uS(A),s)<=0||(o.has(A.key)||Rc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return $.resolve(f)}getAllFromCollectionGroup(e,i,s,o){Et(9500)}ii(e,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Ub(this)}getSize(e){return $.resolve(this.size)}}class Ub extends Cb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.persistence=e,this.si=new Nr((i=>Id(i)),Vd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new jd,this.targetCount=0,this.ai=zs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new zs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),$.waitFor(f).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ac(0),this.li=!1,this.li=!0,this.hi=new Mb,this.referenceDelegate=e(this),this.Pi=new Lb(this),this.indexManager=new Tb,this.remoteDocumentCache=(function(o){return new zb(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new vb(i),this.Ii=new Ib(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Vb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new Ob(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new jb(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class jb extends hS{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Ri=new jd,this.Vi=null}static mi(e){return new kd(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(e,o).next((f=>{f||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.pi=new Nr((s=>gS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Db(this,i)}static mi(e,i){return new yc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((s,o)=>this.br(e,s,o).next((f=>f?$.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,f.removeEntry(d,At.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}br(e,i,s){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ut(),o=Ut();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Bd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return M1()?8:dS(I1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new kb;return this.Ss(e,i,d).next((y=>{if(f.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>f.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ts()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",As(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ts()<=kt.DEBUG&&ot("QueryEngine","Query:",As(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ts()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",As(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):$.resolve())}ys(e,i){if(m_(i))return $.resolve(null);let s=Ri(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hd(i,null,"F"),s=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Ut(...f);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,hd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return m_(i)||o.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(e,s).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,o)?$.resolve(null):(Ts()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),As(i)),this.vs(e,d,i,oS(o,ao)).next((y=>y)))}))}Ds(e,i){let s=new Ue(qv(e));return i.forEach(((o,f)=>{Rc(e,f)&&(s=s.add(f))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,s){return Ts()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",As(i)),this.ps.getDocumentsMatchingQuery(e,i,Ba.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="LocalStore",Pb=3e8;class qb{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ue(zt),this.xs=new Nr((f=>Id(f)),Vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Hb(r,e,i,s){return new qb(r,e,i,s)}async function f0(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],y=[];let v=Ut();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Fb(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,I=b.keys();let H=$.resolve();return I.forEach((et=>{H=H.next((()=>A.getEntry(v,et))).next((nt=>{const W=_.docVersions.get(et);Qt(W!==null,48541),nt.version.compareTo(W)<0&&(b.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Ut();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function h0(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Gb(r,e){const i=bt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const I=o.get(b);if(!I)return;y.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,b))));let H=I.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(b)!==null?H=H.withResumeToken(Ze.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),o=o.insert(b,H),(function(nt,W,Z){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Pb?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(I,H,A)&&y.push(i.Pi.updateTargetData(f,H))}));let v=Wi(),_=Ut();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),y.push(Qb(f,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((b=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s)));y.push(A)}return $.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=o,f)))}function Qb(r,e,i){let s=Ut(),o=Ut();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Wi();return i.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ot(Pd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Yb(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Kb(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((f=>f?(o=f,$.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Oa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function yd(r,e,i){const s=bt(r),o=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Bs(d))throw d;ot(Pd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function D_(r,e,i){const s=bt(r);let o=At.min(),f=Ut();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=bt(v),I=b.xs.get(A);return I!==void 0?$.resolve(b.Ms.get(I)):b.Pi.getTargetData(_,A)})(s,d,Ri(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?f:Ut()))).next((y=>(Xb(s,OS(e),y),{documents:y,Qs:f})))))}function Xb(r,e,i){let s=r.Os.get(e)||At.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Os.set(e,s)}class C_{constructor(){this.activeTargetIds=BS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zb{constructor(){this.Mo=new C_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="ConnectivityMonitor";class N_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(x_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function _d(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="RestConnection",Jb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,f){const d=_d(),y=this.zo(e,i.toUriEncodedString());ot(Qh,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(y),A=bd(_);return this.Jo(e,y,v,s,A).then((b=>(ot(Qh,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Ns(Qh,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,o,f,d){return this.Go(e,i,s,o,f)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+js})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),s&&s.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const s=Jb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class e2 extends Wb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,f){const d=_d();return new Promise(((y,v)=>{const _=new mv;_.setWithCredentials(!0),_.listenOnce(gv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case tc.NO_ERROR:const b=_.getResponseJson();ot(We,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case tc.TIMEOUT:ot(We,`RPC '${e}' ${d} timed out`),v(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const I=_.getStatus();if(ot(We,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const et=H==null?void 0:H.error;if(et&&et.status&&et.message){const nt=(function(Z){const dt=Z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(dt)>=0?dt:X.UNKNOWN})(et.status);v(new lt(nt,et.message))}else v(new lt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(X.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(We,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ot(We,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=_d(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_v(),y=yv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=f.join("");ot(We,`Creating RPC '${e}' stream ${o}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let I=!1,H=!1;const et=new t2({Yo:W=>{H?ot(We,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(I||(ot(We,`Opening RPC '${e}' stream ${o} transport.`),b.open(),I=!0),ot(We,`RPC '${e}' stream ${o} sending:`,W),b.send(W))},Zo:()=>b.close()}),nt=(W,Z,dt)=>{W.listen(Z,(at=>{try{dt(at)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return nt(b,Kl.EventType.OPEN,(()=>{H||(ot(We,`RPC '${e}' stream ${o} transport opened.`),et.o_())})),nt(b,Kl.EventType.CLOSE,(()=>{H||(H=!0,ot(We,`RPC '${e}' stream ${o} transport closed`),et.a_(),this.E_(b))})),nt(b,Kl.EventType.ERROR,(W=>{H||(H=!0,Ns(We,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),et.a_(new lt(X.UNAVAILABLE,"The operation could not be completed")))})),nt(b,Kl.EventType.MESSAGE,(W=>{var Z;if(!H){const dt=W.data[0];Qt(!!dt,16349);const at=dt,vt=(at==null?void 0:at.error)||((Z=at[0])==null?void 0:Z.error);if(vt){ot(We,`RPC '${e}' stream ${o} received error:`,vt);const Bt=vt.status;let wt=(function(C){const O=De[C];if(O!==void 0)return Wv(O)})(Bt),N=vt.message;wt===void 0&&(wt=X.INTERNAL,N="Unknown error status: "+Bt+" with message "+vt.message),H=!0,et.a_(new lt(wt,N)),b.close()}else ot(We,`RPC '${e}' stream ${o} received:`,dt),et.u_(dt)}})),nt(y,pv.STAT_EVENT,(W=>{W.stat===rd.PROXY?ot(We,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===rd.NOPROXY&&ot(We,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r){return new rb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,i,s=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class m0{constructor(e,i,s,o,f,d,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new lt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n2 extends m0{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ob(this.serializer,e),s=(function(f){if(!("targetChange"in f))return At.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ci(d.readTime):At.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=pd(this.serializer),i.addTarget=(function(f,d){let y;const v=d.target;if(y=cd(v)?{documents:fb(f,v)}:{query:hb(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=n0(f,d.resumeToken);const _=dd(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){y.readTime=pc(f,d.snapshotVersion.toTimestamp());const _=dd(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=mb(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=pd(this.serializer),i.removeTarget=e,this.q_(i)}}class i2 extends m0{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=cb(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=pd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>ub(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class r2 extends a2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,md(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(X.UNKNOWN,f.toString())}))}Ho(e,i,s,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,md(i,s),o,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class s2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="RemoteStore";class l2{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Vr(this)&&(ot(Cr,"Restarting streams for network reachability change."),await(async function(v){const _=bt(v);_.Ea.add(4),await go(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ic(_)})(this))}))})),this.Ra=new s2(s,o)}}async function Ic(r){if(Vr(r))for(const e of r.da)await e(!0)}async function go(r){for(const e of r.da)await e(!1)}function g0(r,e){const i=bt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Gd(i)?Fd(i):qs(i).O_()&&Hd(i,e))}function qd(r,e){const i=bt(r),s=qs(i);i.Ia.delete(e),s.O_()&&p0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Vr(i)&&i.Ra.set("Unknown"))}function Hd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qs(r).Y_(e)}function p0(r,e){r.Va.Ue(e),qs(r).Z_(e)}function Fd(r){r.Va=new eb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),qs(r).start(),r.Ra.ua()}function Gd(r){return Vr(r)&&!qs(r).x_()&&r.Ia.size>0}function Vr(r){return bt(r).Ea.size===0}function y0(r){r.Va=void 0}async function o2(r){r.Ra.set("Online")}async function u2(r){r.Ia.forEach(((e,i)=>{Hd(r,e)}))}async function c2(r,e){y0(r),Gd(r)?(r.Ra.ha(e),Fd(r)):r.Ra.set("Unknown")}async function f2(r,e,i){if(r.Ra.set("Online"),e instanceof e0&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const y of f.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(s){ot(Cr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(r,s)}else if(e instanceof ac?r.Va.Ze(e):e instanceof t0?r.Va.st(e):r.Va.tt(e),!i.isEqual(At.min()))try{const s=await h0(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const y=f.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(Ze.EMPTY_BYTE_STRING,A.snapshotVersion)),p0(f,v);const b=new Oa(A.target,v,_,A.sequenceNumber);Hd(f,b)})),f.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){ot(Cr,"Failed to raise snapshot:",s),await _c(r,s)}}async function _c(r,e,i){if(!Bs(e))throw e;r.Ea.add(1),await go(r),r.Ra.set("Offline"),i||(i=()=>h0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Cr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ic(r)}))}function _0(r,e){return e().catch((i=>_c(r,i,e)))}async function Vc(r){const e=bt(r),i=Fa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;h2(e);)try{const o=await Yb(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,d2(e,o)}catch(o){await _c(e,o)}v0(e)&&E0(e)}function h2(r){return Vr(r)&&r.Ta.length<10}function d2(r,e){r.Ta.push(e);const i=Fa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function v0(r){return Vr(r)&&!Fa(r).x_()&&r.Ta.length>0}function E0(r){Fa(r).start()}async function m2(r){Fa(r).ra()}async function g2(r){const e=Fa(r);for(const i of r.Ta)e.ea(i.mutations)}async function p2(r,e,i){const s=r.Ta.shift(),o=zd.from(s,e,i);await _0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vc(r)}async function y2(r,e){e&&Fa(r).X_&&await(async function(s,o){if((function(d){return JS(d)&&d!==X.ABORTED})(o.code)){const f=s.Ta.shift();Fa(s).B_(),await _0(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await Vc(s)}})(r,e),v0(r)&&E0(r)}async function V_(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ot(Cr,"RemoteStore received new credentials");const s=Vr(i);i.Ea.add(3),await go(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ic(i)}async function _2(r,e){const i=bt(r);e?(i.Ea.delete(2),await Ic(i)):e||(i.Ea.add(2),await go(i),i.Ra.set("Unknown"))}function qs(r){return r.ma||(r.ma=(function(i,s,o){const f=bt(i);return f.sa(),new n2(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:o2.bind(null,r),t_:u2.bind(null,r),r_:c2.bind(null,r),H_:f2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Gd(r)?Fd(r):r.Ra.set("Unknown")):(await r.ma.stop(),y0(r))}))),r.ma}function Fa(r){return r.fa||(r.fa=(function(i,s,o){const f=bt(i);return f.sa(),new i2(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:m2.bind(null,r),r_:y2.bind(null,r),ta:g2.bind(null,r),na:p2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Vc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Cr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,y=new Qd(e,i,d,o,f);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(r,e){if(Ji("AsyncQueue",`${e}: ${r}`),Bs(r))return new lt(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{static emptySet(e){return new Rs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Rs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ga=new ue(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Us{constructor(e,i,s,o,f,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Us(e,i,Rs.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E2{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=bt(i),f=o.queries;o.queries=O_(),f.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function O_(){return new Nr((r=>Pv(r)),wc)}async function T2(r,e){const i=bt(r);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(s=2):(f=new v2,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Yd(d,`Initialization of query '${As(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Kd(i)}async function A2(r,e){const i=bt(r),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function S2(r,e){const i=bt(r);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&Kd(i)}function b2(r,e,i){const s=bt(r),o=s.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);s.queries.delete(e)}function Kd(r){r.Ca.forEach((e=>{e.next()}))}var vd,z_;(z_=vd||(vd={})).Ma="default",z_.Cache="cache";class w2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class A0{constructor(e){this.key=e}}class R2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=qv(e),this.tu=new Rs(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new M_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,b)=>{const I=o.get(A),H=Rc(this.query,b)?b:null,et=!!I&&this.mutatedKeys.has(I.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;I&&H?I.data.isEqual(H.data)?et!==nt&&(s.track({type:3,doc:H}),W=!0):this.su(I,H)||(s.track({type:2,doc:H}),W=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(y=!0)):!I&&H?(s.track({type:0,doc:H}),W=!0):I&&!H&&(s.track({type:1,doc:I}),W=!0,(v||_)&&(y=!0)),W&&(H?(d=d.add(H),f=nt?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(H,et){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:W})}};return nt(H)-nt(et)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Us(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new A0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new T0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Us.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xd="SyncEngine";class D2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class C2{constructor(e){this.key=e,this.hu=!1}}class x2{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Nr((y=>Pv(y)),wc),this.Iu=new Map,this.Eu=new Set,this.du=new ue(pt.comparator),this.Au=new Map,this.Ru=new jd,this.Vu={},this.mu=new Map,this.fu=zs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N2(r,e,i=!0){const s=C0(r);let o;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await S0(s,e,i,!0),o}async function I2(r,e){const i=C0(r);await S0(i,e,!0,!1)}async function S0(r,e,i,s){const o=await Kb(r.localStore,Ri(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let y;return s&&(y=await V2(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&g0(r.remoteStore,o),y}async function V2(r,e,i,s,o){r.pu=(b,I,H)=>(async function(nt,W,Z,dt){let at=W.view.ru(Z);at.Cs&&(at=await D_(nt.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,at))));const vt=dt&&dt.targetChanges.get(W.targetId),Bt=dt&&dt.targetMismatches.get(W.targetId)!=null,wt=W.view.applyChanges(at,nt.isPrimaryClient,vt,Bt);return L_(nt,W.targetId,wt.au),wt.snapshot})(r,b,I,H);const f=await D_(r.localStore,e,!0),d=new R2(e,f.Qs),y=d.ru(f.documents),v=mo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,v);L_(r,i,_.au);const A=new D2(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function M2(r,e,i){const s=bt(r),o=s.Tu.get(e),f=s.Iu.get(o.targetId);if(f.length>1)return s.Iu.set(o.targetId,f.filter((d=>!wc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&qd(s.remoteStore,o.targetId),Ed(s,o.targetId)})).catch(ks)):(Ed(s,o.targetId),await yd(s.localStore,o.targetId,!0))}async function O2(r,e){const i=bt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),qd(i.remoteStore,s.targetId))}async function z2(r,e,i){const s=q2(r);try{const o=await(function(d,y){const v=bt(d),_=se.now(),A=y.reduce(((H,et)=>H.add(et.key)),Ut());let b,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let et=Wi(),nt=Ut();return v.Ns.getEntries(H,A).next((W=>{et=W,et.forEach(((Z,dt)=>{dt.isValidDocument()||(nt=nt.add(Z))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,et))).next((W=>{b=W;const Z=[];for(const dt of y){const at=YS(dt,b.get(dt.key).overlayedDocument);at!=null&&Z.push(new Ir(dt.key,at,Vv(at.value.mapValue),Di.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,Z,y)})).next((W=>{I=W;const Z=W.applyToLocalDocumentSet(b,nt);return v.documentOverlayCache.saveOverlays(H,W.batchId,Z)}))})).then((()=>({batchId:I.batchId,changes:Fv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(zt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await po(s,o.changes),await Vc(s.remoteStore)}catch(o){const f=Yd(o,"Failed to persist write");i.reject(f)}}async function b0(r,e){const i=bt(r);try{const s=await Gb(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qt(d.hu,14607):o.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await po(i,s,e)}catch(s){await ks(s)}}function U_(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=bt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const I of b.Sa)I.va(y)&&(_=!0)})),_&&Kd(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function U2(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),f=o&&o.key;if(f){let d=new ue(pt.comparator);d=d.insert(f,en.newNoDocument(f,At.min()));const y=Ut().add(f),v=new xc(At.min(),new Map,new ue(zt),d,y);await b0(s,v),s.du=s.du.remove(f),s.Au.delete(e),Zd(s)}else await yd(s.localStore,e,!1).then((()=>Ed(s,e,i))).catch(ks)}async function L2(r,e){const i=bt(r),s=e.batch.batchId;try{const o=await Fb(i.localStore,e);R0(i,s,null),w0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await po(i,o)}catch(o){await ks(o)}}async function j2(r,e,i){const s=bt(r);try{const o=await(function(d,y){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Qt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);R0(s,e,i),w0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await po(s,o)}catch(o){await ks(o)}}function w0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function R0(r,e,i){const s=bt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ed(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||D0(r,s)}))}function D0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(qd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Zd(r))}function L_(r,e,i){for(const s of i)s instanceof T0?(r.Ru.addReference(s.key,e),k2(r,s)):s instanceof A0?(ot(Xd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||D0(r,s.key)):Et(19791,{wu:s})}function k2(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ot(Xd,"New document in limbo: "+i),r.Eu.add(s),Zd(r))}function Zd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(ne.fromString(e)),s=r.fu.next();r.Au.set(s,new C2(i)),r.du=r.du.insert(i,s),g0(r.remoteStore,new Oa(Ri(kv(i.path)),s,"TargetPurposeLimboResolution",Ac.ce))}}async function po(r,e,i){const s=bt(r),o=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{var A;if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Bd.As(v.targetId,_);f.push(b)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const A=bt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(_,(I=>$.forEach(I.Es,(H=>A.persistence.referenceDelegate.addReference(b,I.targetId,H))).next((()=>$.forEach(I.ds,(H=>A.persistence.referenceDelegate.removeReference(b,I.targetId,H)))))))))}catch(b){if(!Bs(b))throw b;ot(Pd,"Failed to update sequence numbers: "+b)}for(const b of _){const I=b.targetId;if(!b.fromCache){const H=A.Ms.get(I),et=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(et);A.Ms=A.Ms.insert(I,nt)}}})(s.localStore,f))}async function B2(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){ot(Xd,"User change. New user:",e.toKey());const s=await f0(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new lt(X.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await po(i,s.Ls)}}function P2(r,e){const i=bt(r),s=i.Au.get(e);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function C0(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U2.bind(null,e),e.Pu.H_=S2.bind(null,e.eventManager),e.Pu.yu=b2.bind(null,e.eventManager),e}function q2(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Hb(this.persistence,new Bb,e.initialUser,this.serializer)}Cu(e){return new c0(kd.mi,this.serializer)}Du(e){return new Zb}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class H2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qt(this.persistence.referenceDelegate instanceof yc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wb(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new c0((s=>yc.mi(s,i)),this.serializer)}}class Td{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E2})()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),s=(function(f){return new e2(f)})(e.databaseInfo);return(function(f,d,y,v){return new r2(f,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,y){return new l2(s,o,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>U_(this.syncEngine,i,0)),(function(){return N_.v()?new N_:new $b})())}createSyncEngine(e,i){return(function(o,f,d,y,v,_,A){const b=new x2(o,f,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=bt(o);ot(Cr,"RemoteStore shutting down."),f.Ea.add(5),await go(f),f.Aa.shutdown(),f.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Td.provider={build:()=>new Td};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class G2{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{ot(Ga,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ot(Ga,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Yd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Kh(r,e){r.asyncQueue.verifyOperationInProgress(),ot(Ga,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await f0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function j_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Q2(r);ot(Ga,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>V_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>V_(e.remoteStore,o))),r._onlineComponents=e}async function Q2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Ga,"Using user provided OfflineComponentProvider");try{await Kh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ns("Error using user provided cache. Falling back to memory cache: "+i),await Kh(r,new vc)}}else ot(Ga,"Using default OfflineComponentProvider"),await Kh(r,new H2(void 0));return r._offlineComponents}async function x0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Ga,"Using user provided OnlineComponentProvider"),await j_(r,r._uninitializedComponentsProvider._online)):(ot(Ga,"Using default OnlineComponentProvider"),await j_(r,new Td))),r._onlineComponents}function Y2(r){return x0(r).then((e=>e.syncEngine))}async function K2(r){const e=await x0(r),i=e.eventManager;return i.onListen=N2.bind(null,e.syncEngine),i.onUnlisten=M2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=I2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=O2.bind(null,e.syncEngine),i}function X2(r,e,i={}){const s=new ja;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,y,v,_){const A=new F2({next:I=>{A.Nu(),d.enqueueAndForget((()=>A2(f,b))),I.fromCache&&v.source==="server"?_.reject(new lt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),b=new w2(y,A,{includeMetadataChanges:!0,qa:!0});return T2(f,b)})(await K2(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firestore.googleapis.com",B_=!0;class P_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I0,this.ssl=B_}else this.host=e.host,this.ssl=e.ssl??B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sb)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $A;switch(s.type){case"firstParty":return new eS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=k_.get(i);s&&(ot("ComponentProvider","Removing Datastore"),k_.delete(i),s.terminate())})(this),Promise.resolve()}}function Z2(r,e,i,s={}){var _;r=Vs(r,Mc);const o=bd(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(R1(`https://${y}`),N1("Firestore",!0)),f.host!==I0&&f.host!==y&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:o,emulatorOptions:s};if(!lc(v,d)&&(r._setSettings(v),s.mockUserToken)){let A,b;if(typeof s.mockUserToken=="string")A=s.mockUserToken,b=tn.MOCK_USER;else{A=D1(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(I)}r._authCredentials=new JA(new Ev(A,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class ze{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(fo(i,ze._jsonSchema))return new ze(e,s||null,new pt(ne.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Ne("string",ze._jsonSchemaVersion),referencePath:Ne("string")};class ka extends Mr{constructor(e,i,s){super(e,i,kv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new pt(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function Xh(r,e,...i){if(r=xs(r),Tv("collection","path",e),r instanceof Mc){const s=ne.fromString(e,...i);return t_(s),new ka(r,null,s)}{if(!(r instanceof ze||r instanceof ka))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return t_(s),new ka(r.firestore,null,s)}}function Sr(r,e,...i){if(r=xs(r),arguments.length===1&&(e=Dd.newId()),Tv("doc","path",e),r instanceof Mc){const s=ne.fromString(e,...i);return Wy(s),new ze(r,null,new pt(s))}{if(!(r instanceof ze||r instanceof ka))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return Wy(s),new ze(r.firestore,r instanceof ka?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d0(this,"async_queue_retry"),this._c=()=>{const s=Yh();s&&ot(q_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Yh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bs(e))throw e;ot(q_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",F_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Qd.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function F_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Oc extends Mc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new H_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function $2(r,e){const i=typeof r=="object"?r:BA(),s=typeof r=="string"?r:fc,o=zA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=b1("firestore");f&&Z2(o,...f)}return o}function V0(r){if(r._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||J2(r),r._firestoreClient}function J2(r){var s,o,f;const e=r._freezeSettings(),i=(function(y,v,_,A){return new _S(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,N0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new G2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Ze.fromBase64String(e))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new kn(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fo(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ne("string",kn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(fo(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ne("string",xi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fo(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ni(e.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ne("string",Ni._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^__.*__$/;class tw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}function O0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Jd{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O0(this.Ac)&&W2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ew{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Nc(e)}Cc(e,i,s,o=!1){return new Jd({Ac:e,methodName:i,Dc:s,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z0(r){const e=r._freezeSettings(),i=Nc(r._databaseId);return new ew(r._databaseId,!!e.ignoreUndefinedProperties,i)}function nw(r,e,i,s,o,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,o);j0("Data must be an object, but it was:",d,s);const y=U0(s,d);let v,_;if(f.merge)v=new Jn(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const b of f.mergeFields){const I=aw(e,b,i);if(!d.contains(I))throw new lt(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);sw(A,I)||A.push(I)}v=new Jn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new tw(new jn(y),v,_)}function iw(r,e,i,s=!1){return Wd(i,r.Cc(s?4:3,e))}function Wd(r,e){if(L0(r=xs(r)))return j0("Unsupported field value:",e,r),U0(r,e);if(r instanceof M0)return(function(s,o){if(!O0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const y of s){let v=Wd(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,o){if((s=xs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=se.fromDate(s);return{timestampValue:pc(o.serializer,f)}}if(s instanceof se){const f=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pc(o.serializer,f)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:n0(o.serializer,s._byteString)};if(s instanceof ze){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ld(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(d,y){return{mapValue:{fields:{[Nv]:{stringValue:Iv},[hc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Md(y.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Tc(s)}`)})(r,e)}function U0(r,e){const i={};return bv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(r,((s,o)=>{const f=Wd(o,e.mc(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function L0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof xi||r instanceof kn||r instanceof ze||r instanceof M0||r instanceof Ni)}function j0(r,e,i){if(!L0(i)||!Av(i)){const s=Tc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function aw(r,e,i){if((e=xs(e))instanceof $d)return e._internalPath;if(typeof e=="string")return k0(r,e);throw Ec("Field path arguments must be of type string or ",r,!1,void 0,i)}const rw=new RegExp("[~\\*/\\[\\]]");function k0(r,e,i){if(e.search(rw)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new $d(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ec(r,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new lt(X.INVALID_ARGUMENT,y+r+v)}function sw(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(tm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lw extends B0{data(){return super.data()}}function tm(r,e){return typeof e=="string"?k0(r,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class P0 extends em{}function G_(r,e,...i){let s=[];e instanceof em&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((v=>v instanceof im)).length,y=f.filter((v=>v instanceof nm)).length;if(d>1||d>0&&y>0)throw new lt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class nm extends P0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new nm(e,i,s)}_apply(e){const i=this._parse(e);return q0(e._query,i),new Mr(e.firestore,e.converter,fd(e._query,i))}_parse(e){const i=z0(e.firestore);return(function(f,d,y,v,_,A,b){let I;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){K_(b,A);const et=[];for(const nt of b)et.push(Y_(v,f,nt));I={arrayValue:{values:et}}}else I=Y_(v,f,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||K_(b,A),I=iw(y,d,b,A==="in"||A==="not-in");return xe.create(_,A,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class im extends em{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new im(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const y=f.getFlattenedFilters();for(const v of y)q0(d,v),d=fd(d,v)})(e._query,i),new Mr(e.firestore,e.converter,fd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class am extends P0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new am(e,i)}_apply(e){const i=(function(o,f,d){if(o.startAt!==null)throw new lt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oo(f,d)})(e._query,this._field,this._direction);return new Mr(e.firestore,e.converter,(function(o,f){const d=o.explicitOrderBy.concat([f]);return new Ps(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Q_(r,e="asc"){const i=e,s=tm("orderBy",r);return am._create(s,i)}function Y_(r,e,i){if(typeof(i=xs(i))=="string"){if(i==="")throw new lt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bv(e)&&i.indexOf("/")!==-1)throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ne.fromString(i));if(!pt.isDocumentKey(s))throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return o_(r,new pt(s))}if(i instanceof ze)return o_(r,i._key);throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tc(i)}.`)}function K_(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q0(r,e){const i=(function(o,f){for(const d of o)for(const y of d.getFlattenedFilters())if(f.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class uw{convertValue(e,i="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return xr(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){var s,o,f;const i=(f=(o=(s=e.fields)==null?void 0:s[hc].arrayValue)==null?void 0:o.values)==null?void 0:f.map((d=>ye(d.doubleValue)));return new Ni(i)}convertGeoPoint(e){return new xi(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=bc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=Pa(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);Qt(o0(s),9688,{name:e});const o=new so(s.get(1),s.get(3)),f=new pt(s.popFirst(5));return o.isEqual(i)||Ji(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class $u{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends B0{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(tm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ds._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:Ne("string",Ds._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class rc extends Ds{data(e={}){return super.data(e)}}class Cs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new $u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new rc(this._firestore,this._userDataWriter,s.key,s,new $u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new rc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new rc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:fw(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Cs._jsonSchemaVersion="firestore/querySnapshot/1.0",Cs._jsonSchema={type:Ne("string",Cs._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class hw extends uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function Zh(r){r=Vs(r,Mr);const e=Vs(r.firestore,Oc),i=V0(e),s=new hw(e);return ow(r._query),X2(i,r._query).then((o=>new Cs(e,s,r,o)))}function Ju(r,e,i){r=Vs(r,ze);const s=Vs(r.firestore,Oc),o=cw(r.converter,e);return H0(s,[nw(z0(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Di.none())])}function X_(r){return H0(Vs(r.firestore,Oc),[new Od(r._key,Di.none())])}function H0(r,e){return(function(s,o){const f=new ja;return s.asyncQueue.enqueueAndForget((async()=>z2(await Y2(s),o,f))),f.promise})(V0(r),e)}(function(e,i=!0){(function(o){js=o})(kA),uc(new no("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),y=new Oc(new WA(s.getProvider("auth-internal")),new nS(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(_.options.projectId,A)})(d,o),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),ws(Xy,Zy,e),ws(Xy,Zy,"esm2020")})();var dw="firebase",mw="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(dw,mw,"app");const gw={apiKey:"AIzaSyB8XHkT_DedThCHBUSd85AwjJLXqDFP2g",authDomain:"smartrealapp.firebaseapp.com",projectId:"smartrealapp",storageBucket:"smartrealapp.firebasestorage.app",messagingSenderId:"651193312612",appId:"1:651193312612:web:d931922ccaafa442a94671"},pw=cv(gw),Ai=$2(pw),$h="documents",Jh="templates",Wu="settings",Si="default_user",Ye={getDocuments:async()=>{try{const r=Xh(Ai,`users/${Si}/${$h}`),e=G_(r,Q_("updatedAt","desc"));return(await Zh(e)).docs.map(s=>({...s.data(),id:s.id}))}catch(r){return console.error("Failed to load documents from Firestore",r),[]}},saveDocument:async r=>{try{const e=Sr(Ai,`users/${Si}/${$h}`,r.id);await Ju(e,{...r,updatedAt:Date.now()})}catch(e){throw console.error("Failed to save document to Firestore",e),e}},deleteDocument:async r=>{try{const e=Sr(Ai,`users/${Si}/${$h}`,r);await X_(e)}catch(e){throw console.error("Failed to delete document from Firestore",e),e}},getTemplates:async()=>{try{const r=Xh(Ai,`users/${Si}/${Jh}`),e=G_(r,Q_("updatedAt","desc"));return(await Zh(e)).docs.map(s=>({...s.data(),id:s.id}))}catch(r){return console.error("Failed to load templates from Firestore",r),[]}},saveTemplate:async r=>{try{const e=Sr(Ai,`users/${Si}/${Jh}`,r.id);await Ju(e,{...r,updatedAt:Date.now()})}catch(e){throw console.error("Failed to save template to Firestore",e),e}},deleteTemplate:async r=>{try{const e=Sr(Ai,`users/${Si}/${Jh}`,r);await X_(e)}catch(e){throw console.error("Failed to delete template from Firestore",e),e}},exportData:async()=>{const r=await Ye.getDocuments(),e=await Ye.getTemplates();return{version:"1.0",exportDate:new Date().toISOString(),documents:r,templates:e}},importData:async r=>{try{if(!r.version||!Array.isArray(r.documents)||!Array.isArray(r.templates))throw new Error("Invalid backup file format");for(const e of r.documents)await Ye.saveDocument(e);for(const e of r.templates)await Ye.saveTemplate(e);return{success:!0,message:" ."}}catch(e){return console.error("Failed to import data to Firestore",e),{success:!1,message:` : ${e instanceof Error?e.message:"   "}`}}},getFavoriteDocId:async()=>{try{const r=Sr(Ai,`users/${Si}/${Wu}`,"favorite"),i=(await Zh(Xh(Ai,`users/${Si}/${Wu}`))).docs.find(s=>s.id==="favorite");return i&&i.data().favoriteDocId||null}catch(r){return console.error("Failed to get favorite doc id from Firestore",r),null}},setFavoriteDocId:async r=>{try{const e=Sr(Ai,`users/${Si}/${Wu}`,"favorite");await Ju(e,{favoriteDocId:r})}catch(e){throw console.error("Failed to set favorite doc id in Firestore",e),e}},clearFavoriteDocId:async()=>{try{const r=Sr(Ai,`users/${Si}/${Wu}`,"favorite");await Ju(r,{favoriteDocId:null})}catch(r){throw console.error("Failed to clear favorite doc id in Firestore",r),r}}},Z_="tm_documents",$_="tm_templates",Wh="tm_favorite_doc_id",Ce={getDocuments:()=>{try{const r=localStorage.getItem(Z_);return r?JSON.parse(r):[]}catch(r){return console.error("Failed to load documents",r),[]}},saveDocuments:r=>{localStorage.setItem(Z_,JSON.stringify(r))},getTemplates:()=>{try{const r=localStorage.getItem($_);return r?JSON.parse(r):[]}catch(r){return console.error("Failed to load templates",r),[]}},saveTemplates:r=>{localStorage.setItem($_,JSON.stringify(r))},exportData:()=>{const r=Ce.getDocuments(),e=Ce.getTemplates();return{version:"1.0",exportDate:new Date().toISOString(),documents:r,templates:e}},importData:r=>{try{if(!r.version||!Array.isArray(r.documents)||!Array.isArray(r.templates))throw new Error("Invalid backup file format");return Ce.saveDocuments(r.documents),Ce.saveTemplates(r.templates),{success:!0,message:" ."}}catch(e){return console.error("Failed to import data",e),{success:!1,message:` : ${e instanceof Error?e.message:"   "}`}}},getFavoriteDocId:()=>{try{return localStorage.getItem(Wh)}catch(r){return console.error("Failed to load favorite doc id",r),null}},setFavoriteDocId:r=>{localStorage.setItem(Wh,r)},clearFavoriteDocId:()=>{localStorage.removeItem(Wh)}},Me={getDocuments:async()=>{try{return await Ye.getDocuments()}catch(r){return console.error("Firestore error, falling back to localStorage",r),Ce.getDocuments()}return Ce.getDocuments()},saveDocuments:async r=>{try{for(const e of r)await Ye.saveDocument(e);Ce.saveDocuments(r)}catch(e){console.error("Failed to save to Firestore",e),Ce.saveDocuments(r)}},getTemplates:async()=>{try{return await Ye.getTemplates()}catch(r){return console.error("Firestore error, falling back to localStorage",r),Ce.getTemplates()}return Ce.getTemplates()},saveTemplates:async r=>{try{for(const e of r)await Ye.saveTemplate(e);Ce.saveTemplates(r)}catch(e){console.error("Failed to save to Firestore",e),Ce.saveTemplates(r)}},exportData:async()=>await Ye.exportData(),importData:async r=>await Ye.importData(r),deleteDocument:async r=>{try{await Ye.deleteDocument(r)}catch(e){console.error("Failed to delete document from Firestore",e)}},deleteTemplate:async r=>{try{await Ye.deleteTemplate(r)}catch(e){console.error("Failed to delete template from Firestore",e)}},getFavoriteDocId:async()=>{try{return await Ye.getFavoriteDocId()}catch(r){return console.error("Firestore error, falling back to localStorage",r),Ce.getFavoriteDocId()}return Ce.getFavoriteDocId()},setFavoriteDocId:async r=>{try{await Ye.setFavoriteDocId(r),Ce.setFavoriteDocId(r)}catch(e){console.error("Failed to save favorite doc to Firestore",e),Ce.setFavoriteDocId(r)}},clearFavoriteDocId:async()=>{try{await Ye.clearFavoriteDocId(),Ce.clearFavoriteDocId()}catch(r){console.error("Failed to clear favorite doc from Firestore",r),Ce.clearFavoriteDocId()}}},J_="tm_migration_completed",yw={migrateToFirestore:async()=>{if(localStorage.getItem(J_)==="true")return console.log("Migration already completed"),!0;try{console.log("Starting migration from localStorage to Firestore...");const e=Ce.getDocuments(),i=Ce.getTemplates();console.log(`Found ${e.length} documents and ${i.length} templates`);for(const s of e)await Ye.saveDocument(s),console.log(`Migrated document: ${s.title}`);for(const s of i)await Ye.saveTemplate(s),console.log(`Migrated template: ${s.title}`);return localStorage.setItem(J_,"true"),console.log("Migration completed successfully!"),!0}catch(e){return console.error("Migration failed:",e),!1}}},bi=768,_w=()=>{var ct;const[r,e]=Tt.useState(window.innerWidth);Tt.useEffect(()=>{const tt=()=>{e(window.innerWidth)};return window.addEventListener("resize",tt),()=>window.removeEventListener("resize",tt)},[]);const i=()=>({id:br(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1}),[s,o]=Tt.useState([]),[f,d]=Tt.useState([]),[y,v]=Tt.useState(r>=bi),[_,A]=Tt.useState("EDITOR"),[b,I]=Tt.useState(()=>i()),[H,et]=Tt.useState(null),[nt,W]=Tt.useState(null),[Z,dt]=Tt.useState(null);Tt.useEffect(()=>{(async()=>{await yw.migrateToFirestore();const ht=await Me.getDocuments(),S=await Me.getTemplates(),U=await Me.getFavoriteDocId();if(o(ht),d(S),dt(U),U&&ht.length>0){const J=ht.find(st=>st.id===U);J&&I(J)}})()},[]);const at=()=>{I(i()),A("EDITOR"),r<bi&&v(!1)},vt=tt=>{const ht={id:br(),title:tt.title,content:tt.content,checklist:tt.checklist.map(S=>({...S,id:br(),isChecked:!1})),updatedAt:Date.now(),isTemplate:!1};I(ht),A("TEMPLATE_PREVIEW"),W(tt.id)},Bt=tt=>{I(tt),A("EDITOR"),W(null)},wt=()=>{const tt={id:br(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!0};I(tt),A("EDITOR"),W(null)},N=()=>{I({id:br(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1,isDailyNote:!0}),A("EDITOR"),r<bi&&v(!1)},R=async tt=>{if(tt.isTemplate){tt.title.trim()||(tt.title=" ");const ht=f.find(U=>U.id===tt.id);let S;ht?S=f.map(U=>U.id===tt.id?{...tt,isTemplate:!0}:U):S=[{...tt,isTemplate:!0},...f],d(S),await Me.saveTemplates(S),I(tt)}else if(_==="TEMPLATE_PREVIEW"){const ht={...tt,id:br(),isTemplate:!1,updatedAt:Date.now()};if(!ht.title.trim()&&nt){const U=f.find(J=>J.id===nt);ht.title=U?`${U.title} ()`:" (Untitled)"}else ht.title.trim()||(ht.title=" (Untitled)");const S=[ht,...s];o(S),await Me.saveDocuments(S),I(ht),A("EDITOR"),W(null)}else{const ht=s.find(U=>U.id===tt.id);let S;ht?S=s.map(U=>U.id===tt.id?{...tt,updatedAt:Date.now()}:U):(tt.title.trim()||(tt.title=" (Untitled)"),S=[tt,...s]),o(S),await Me.saveDocuments(S),I(tt)}},C=async()=>{const tt=await Me.exportData(),ht=JSON.stringify(tt,null,2),S=new Blob([ht],{type:"application/json"}),U=URL.createObjectURL(S),J=document.createElement("a");J.href=U;const st=new Date,mt=st.getFullYear(),yt=st.getMonth()+1,xt=st.getDate();J.download=`${mt}${yt}${xt}.json`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(U)},O=tt=>{const ht=new FileReader;ht.onload=async S=>{var U;try{const J=(U=S.target)==null?void 0:U.result,st=JSON.parse(J),mt=await Me.importData(st);if(mt.success){const yt=await Me.getDocuments(),xt=await Me.getTemplates();o(yt),d(xt),alert(mt.message)}else alert(mt.message)}catch(J){alert(`  : ${J instanceof Error?J.message:"   "}`)}},ht.readAsText(tt)},D=tt=>{et({type:"DOC",id:tt})},M=tt=>{et({type:"TPL",id:tt})},w=async()=>{if(H){if(H.type==="DOC"){const tt=H.id,ht=s.filter(S=>S.id!==tt);o(ht),await Me.saveDocuments(ht),await Me.deleteDocument(tt),Z===tt&&(await Me.clearFavoriteDocId(),dt(null)),(b==null?void 0:b.id)===tt&&I(i())}else{const tt=H.id,ht=f.filter(S=>S.id!==tt);d(ht),await Me.saveTemplates(ht),await Me.deleteTemplate(tt),(b==null?void 0:b.id)===tt&&I(null)}et(null)}},Vt=async tt=>{await Me.setFavoriteDocId(tt),dt(tt)},Gt=async()=>{await Me.clearFavoriteDocId(),dt(null)},G=async tt=>{o(tt),await Me.saveDocuments(tt)},it=async tt=>{d(tt),await Me.saveTemplates(tt)};return P.jsxs("div",{className:"flex h-screen overflow-hidden bg-background font-sans text-gray-900",children:[P.jsx(u1,{isMobileOpen:y,isAlwaysOpen:r>=bi,onClose:()=>v(!1),documents:s,templates:f,favoriteDocId:Z,onSelectDocument:tt=>{I(tt),A("EDITOR"),r<bi&&v(!1)},onPreviewTemplate:vt,onCreateTemplate:wt,onCreateNew:()=>{at(),r<bi&&v(!1)},onCreateDailyNote:()=>{N(),r<bi&&v(!1)},onDeleteDocument:D,onDeleteTemplate:M,onEditTemplate:Bt,onBackup:C,onRestore:O,onSetFavoriteDocument:Vt,onClearFavoriteDocument:Gt,onReorderDocuments:G,onReorderTemplates:it}),P.jsx("main",{className:"flex-1 h-full transition-all duration-300 ease-in-out",style:{marginLeft:r>=bi&&y?"250px":"0px"},children:_==="TEMPLATE_PREVIEW"?P.jsx(Uy,{data:b||i(),onSave:R,isTemplateMode:!1,isTemplatePreview:!0,sourceTemplateName:((ct=f.find(tt=>tt.id===nt))==null?void 0:ct.title)||"",screenWidth:r,mdBreakpoint:bi,onCancel:()=>{A("EDITOR"),I(i()),W(null)}}):P.jsx(Uy,{data:b||i(),onSave:R,isTemplateMode:(b==null?void 0:b.isTemplate)||!1,isTemplatePreview:!1,screenWidth:r,mdBreakpoint:bi,onOpenSidebar:()=>v(!0),onCancel:()=>{I(i()),A("EDITOR")}})}),P.jsx(nv,{isOpen:!!H,title:(H==null?void 0:H.type)==="DOC"?" ":" ",message:(H==null?void 0:H.type)==="DOC"?"   ?":"  ?",onConfirm:w,onClose:()=>et(null)})]})},F0=document.getElementById("root");if(!F0)throw new Error("Could not find root element to mount to");const vw=IT.createRoot(F0);vw.render(P.jsx(tv.StrictMode,{children:P.jsx(_w,{})}));
