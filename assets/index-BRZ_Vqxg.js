(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function ev(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Oh={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function ST(){if(wy)return Kl;wy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:f}}return Kl.Fragment=e,Kl.jsx=i,Kl.jsxs=i,Kl}var Ry;function bT(){return Ry||(Ry=1,Oh.exports=ST()),Oh.exports}var L=bT(),zh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function wT(){if(Dy)return wt;Dy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var it={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,et={};function tt(V,I,Q){this.props=V,this.context=I,this.refs=et,this.updater=Q||it}tt.prototype.isReactComponent={},tt.prototype.setState=function(V,I){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,I,"setState")},tt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function pt(){}pt.prototype=tt.prototype;function nt(V,I,Q){this.props=V,this.context=I,this.refs=et,this.updater=Q||it}var At=nt.prototype=new pt;At.constructor=nt,at(At,tt.prototype),At.isPureReactComponent=!0;var Kt=Array.isArray;function gt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(V,I,Q){var W=Q.ref;return{$$typeof:s,type:V,key:I,ref:W!==void 0?W:null,props:Q}}function z(V,I){return C(V.type,I,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function O(V){var I={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Q){return I[Q]})}var R=/\/+/g;function Vt(V,I){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):I.toString(36)}function Gt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(gt,gt):(V.status="pending",V.then(function(I){V.status==="pending"&&(V.status="fulfilled",V.value=I)},function(I){V.status==="pending"&&(V.status="rejected",V.reason=I)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,I,Q,W,lt){var ct=typeof V;(ct==="undefined"||ct==="boolean")&&(V=null);var X=!1;if(V===null)X=!0;else switch(ct){case"bigint":case"string":case"number":X=!0;break;case"object":switch(V.$$typeof){case s:case e:X=!0;break;case A:return X=V._init,G(X(V._payload),I,Q,W,lt)}}if(X)return lt=lt(V),X=W===""?"."+Vt(V,0):W,Kt(lt)?(Q="",X!=null&&(Q=X.replace(R,"$&/")+"/"),G(lt,I,Q,"",function($e){return $e})):lt!=null&&(w(lt)&&(lt=z(lt,Q+(lt.key==null||V&&V.key===lt.key?"":(""+lt.key).replace(R,"$&/")+"/")+X)),I.push(lt)),1;X=0;var ht=W===""?".":W+":";if(Kt(V))for(var xt=0;xt<V.length;xt++)W=V[xt],ct=ht+Vt(W,xt),X+=G(W,I,Q,ct,lt);else if(xt=H(V),typeof xt=="function")for(V=xt.call(V),xt=0;!(W=V.next()).done;)W=W.value,ct=ht+Vt(W,xt++),X+=G(W,I,Q,ct,lt);else if(ct==="object"){if(typeof V.then=="function")return G(Gt(V),I,Q,W,lt);throw I=String(V),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return X}function st(V,I,Q){if(V==null)return V;var W=[],lt=0;return G(V,W,"","",function(ct){return I.call(Q,ct,lt++)}),W}function mt(V){if(V._status===-1){var I=V._result;I=I(),I.then(function(Q){(V._status===0||V._status===-1)&&(V._status=1,V._result=Q)},function(Q){(V._status===0||V._status===-1)&&(V._status=2,V._result=Q)}),V._status===-1&&(V._status=0,V._result=I)}if(V._status===1)return V._result.default;throw V._result}var It=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},zt={map:st,forEach:function(V,I,Q){st(V,function(){I.apply(this,arguments)},Q)},count:function(V){var I=0;return st(V,function(){I++}),I},toArray:function(V){return st(V,function(I){return I})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return wt.Activity=S,wt.Children=zt,wt.Component=tt,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=nt,wt.StrictMode=r,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,wt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},wt.cache=function(V){return function(){return V.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(V,I,Q){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=at({},V.props),lt=V.key;if(I!=null)for(ct in I.key!==void 0&&(lt=""+I.key),I)!b.call(I,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&I.ref===void 0||(W[ct]=I[ct]);var ct=arguments.length-2;if(ct===1)W.children=Q;else if(1<ct){for(var X=Array(ct),ht=0;ht<ct;ht++)X[ht]=arguments[ht+2];W.children=X}return C(V.type,lt,W)},wt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:f,_context:V},V},wt.createElement=function(V,I,Q){var W,lt={},ct=null;if(I!=null)for(W in I.key!==void 0&&(ct=""+I.key),I)b.call(I,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(lt[W]=I[W]);var X=arguments.length-2;if(X===1)lt.children=Q;else if(1<X){for(var ht=Array(X),xt=0;xt<X;xt++)ht[xt]=arguments[xt+2];lt.children=ht}if(V&&V.defaultProps)for(W in X=V.defaultProps,X)lt[W]===void 0&&(lt[W]=X[W]);return C(V,ct,lt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(V){return{$$typeof:p,render:V}},wt.isValidElement=w,wt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:mt}},wt.memo=function(V,I){return{$$typeof:_,type:V,compare:I===void 0?null:I}},wt.startTransition=function(V){var I=D.T,Q={};D.T=Q;try{var W=V(),lt=D.S;lt!==null&&lt(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(gt,It)}catch(ct){It(ct)}finally{I!==null&&Q.types!==null&&(I.types=Q.types),D.T=I}},wt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},wt.use=function(V){return D.H.use(V)},wt.useActionState=function(V,I,Q){return D.H.useActionState(V,I,Q)},wt.useCallback=function(V,I){return D.H.useCallback(V,I)},wt.useContext=function(V){return D.H.useContext(V)},wt.useDebugValue=function(){},wt.useDeferredValue=function(V,I){return D.H.useDeferredValue(V,I)},wt.useEffect=function(V,I){return D.H.useEffect(V,I)},wt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},wt.useId=function(){return D.H.useId()},wt.useImperativeHandle=function(V,I,Q){return D.H.useImperativeHandle(V,I,Q)},wt.useInsertionEffect=function(V,I){return D.H.useInsertionEffect(V,I)},wt.useLayoutEffect=function(V,I){return D.H.useLayoutEffect(V,I)},wt.useMemo=function(V,I){return D.H.useMemo(V,I)},wt.useOptimistic=function(V,I){return D.H.useOptimistic(V,I)},wt.useReducer=function(V,I,Q){return D.H.useReducer(V,I,Q)},wt.useRef=function(V){return D.H.useRef(V)},wt.useState=function(V){return D.H.useState(V)},wt.useSyncExternalStore=function(V,I,Q){return D.H.useSyncExternalStore(V,I,Q)},wt.useTransition=function(){return D.H.useTransition()},wt.version="19.2.1",wt}var Cy;function Ad(){return Cy||(Cy=1,zh.exports=wT()),zh.exports}var Tt=Ad();const nv=ev(Tt);var Uh={exports:{}},Xl={},Lh={exports:{}},jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function RT(){return xy||(xy=1,(function(s){function e(G,st){var mt=G.length;G.push(st);t:for(;0<mt;){var It=mt-1>>>1,zt=G[It];if(0<o(zt,st))G[It]=st,G[mt]=zt,mt=It;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var st=G[0],mt=G.pop();if(mt!==st){G[0]=mt;t:for(var It=0,zt=G.length,V=zt>>>1;It<V;){var I=2*(It+1)-1,Q=G[I],W=I+1,lt=G[W];if(0>o(Q,mt))W<zt&&0>o(lt,Q)?(G[It]=lt,G[W]=mt,It=W):(G[It]=Q,G[I]=mt,It=I);else if(W<zt&&0>o(lt,mt))G[It]=lt,G[W]=mt,It=W;else break t}}return st}function o(G,st){var mt=G.sortIndex-st.sortIndex;return mt!==0?mt:G.id-st.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,S=null,N=3,H=!1,it=!1,at=!1,et=!1,tt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function At(G){for(var st=i(_);st!==null;){if(st.callback===null)r(_);else if(st.startTime<=G)r(_),st.sortIndex=st.expirationTime,e(v,st);else break;st=i(_)}}function Kt(G){if(at=!1,At(G),!it)if(i(v)!==null)it=!0,gt||(gt=!0,O());else{var st=i(_);st!==null&&Gt(Kt,st.startTime-G)}}var gt=!1,D=-1,b=5,C=-1;function z(){return et?!0:!(s.unstable_now()-C<b)}function w(){if(et=!1,gt){var G=s.unstable_now();C=G;var st=!0;try{t:{it=!1,at&&(at=!1,pt(D),D=-1),H=!0;var mt=N;try{e:{for(At(G),S=i(v);S!==null&&!(S.expirationTime>G&&z());){var It=S.callback;if(typeof It=="function"){S.callback=null,N=S.priorityLevel;var zt=It(S.expirationTime<=G);if(G=s.unstable_now(),typeof zt=="function"){S.callback=zt,At(G),st=!0;break e}S===i(v)&&r(v),At(G)}else r(v);S=i(v)}if(S!==null)st=!0;else{var V=i(_);V!==null&&Gt(Kt,V.startTime-G),st=!1}}break t}finally{S=null,N=mt,H=!1}st=void 0}}finally{st?O():gt=!1}}}var O;if(typeof nt=="function")O=function(){nt(w)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Vt=R.port2;R.port1.onmessage=w,O=function(){Vt.postMessage(null)}}else O=function(){tt(w,0)};function Gt(G,st){D=tt(function(){G(s.unstable_now())},st)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var st=3;break;default:st=N}var mt=N;N=st;try{return G()}finally{N=mt}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=N;N=G;try{return st()}finally{N=mt}},s.unstable_scheduleCallback=function(G,st,mt){var It=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?It+mt:It):mt=It,G){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=mt+zt,G={id:A++,callback:st,priorityLevel:G,startTime:mt,expirationTime:zt,sortIndex:-1},mt>It?(G.sortIndex=mt,e(_,G),i(v)===null&&G===i(_)&&(at?(pt(D),D=-1):at=!0,Gt(Kt,mt-It))):(G.sortIndex=zt,e(v,G),it||H||(it=!0,gt||(gt=!0,O()))),G},s.unstable_shouldYield=z,s.unstable_wrapCallback=function(G){var st=N;return function(){var mt=N;N=st;try{return G.apply(this,arguments)}finally{N=mt}}}})(jh)),jh}var Ny;function DT(){return Ny||(Ny=1,Lh.exports=RT()),Lh.exports}var kh={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function CT(){if(Iy)return tn;Iy=1;var s=Ad();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},tn.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},tn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},tn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},tn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:H}):A==="script"&&r.d.X(v,{crossOrigin:S,integrity:N,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},tn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},tn.requestFormReset=function(v){r.d.r(v)},tn.unstable_batchedUpdates=function(v,_){return v(_)},tn.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.1",tn}var Vy;function xT(){if(Vy)return kh.exports;Vy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kh.exports=CT(),kh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function NT(){if(My)return Xl;My=1;var s=DT(),e=Ad(),i=xT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),it=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case at:return"Fragment";case tt:return"Profiler";case et:return"StrictMode";case Kt:return"Suspense";case gt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case it:return"Portal";case nt:return t.displayName||"Context";case pt:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Vt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Vt(t(n))}catch{}}return null}var Gt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},It=[],zt=-1;function V(t){return{current:t}}function I(t){0>zt||(t.current=It[zt],It[zt]=null,zt--)}function Q(t,n){zt++,It[zt]=t.current,t.current=n}var W=V(null),lt=V(null),ct=V(null),X=V(null);function ht(t,n){switch(Q(ct,n),Q(lt,t),Q(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Kp(n),t=Xp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}I(W),Q(W,t)}function xt(){I(W),I(lt),I(ct)}function $e(t){t.memoizedState!==null&&Q(X,t);var n=W.current,a=Xp(n,t.type);n!==a&&(Q(lt,t),Q(W,a))}function Ui(t){lt.current===t&&(I(W),I(lt)),X.current===t&&(I(X),Fl._currentValue=mt)}var sn,sa;function We(t){if(sn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);sn=n&&n[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+t+sa}var ra=!1;function ai(t,n){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var P=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){P=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){P=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&P&&typeof F.stack=="string")return[F.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var x=g.split(`
`),B=E.split(`
`);for(c=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===x.length||c===B.length)for(l=x.length-1,c=B.length-1;1<=l&&0<=c&&x[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(x[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||x[l]!==B[c]){var Y=`
`+x[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=c);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?We(a):""}function la(t,n){switch(t.tag){case 26:case 27:case 5:return We(t.type);case 16:return We("Lazy");case 13:return t.child!==n&&n!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return ai(t.type,!1);case 11:return ai(t.type.render,!1);case 1:return ai(t.type,!0);case 31:return We("Activity");default:return""}}function oa(t){try{var n="",a=null;do n+=la(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var de=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,ce=s.unstable_cancelCallback,ua=s.unstable_shouldYield,si=s.unstable_requestPaint,Ue=s.unstable_now,qn=s.unstable_getCurrentPriorityLevel,Yr=s.unstable_ImmediatePriority,Kr=s.unstable_UserBlockingPriority,ca=s.unstable_NormalPriority,Uc=s.unstable_LowPriority,vo=s.unstable_IdlePriority,Eo=s.log,To=s.unstable_setDisableYieldValue,Hn=null,qe=null;function Rn(t){if(typeof Eo=="function"&&To(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Hn,t)}catch{}}var pe=Math.clz32?Math.clz32:So,Ao=Math.log,js=Math.LN2;function So(t){return t>>>=0,t===0?32:31-(Ao(t)/js|0)|0}var ri=256,ts=262144,Te=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=li(l):(g&=E,g!==0?c=li(g):a||(a=E&~t,a!==0&&(c=li(a))))):(E=l&~h,E!==0?c=li(E):g!==0?c=li(g):a||(a=l&~t,a!==0&&(c=li(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var t=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),t}function ui(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function es(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-pe(a),Z=1<<Y;E[Y]=0,x[Y]=-1;var P=B[Y];if(P!==null)for(B[Y]=null,Y=0;Y<P.length;Y++){var F=P[Y];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&ns(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function ns(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-pe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-pe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Zr(t,n){var a=n&-n;return a=(a&42)!==0?1:is(a),(a&(t.suspendedLanes|n))!==0?0:a}function is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wo(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function Gn(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var Qn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Qn,Le="__reactProps$"+Qn,ci="__reactContainer$"+Qn,ks="__reactEvents$"+Qn,kc="__reactListeners$"+Qn,Ro="__reactHandles$"+Qn,Do="__reactResources$"+Qn,fi="__reactMarker$"+Qn;function Bs(t){delete t[Ae],delete t[Le],delete t[ks],delete t[kc],delete t[Ro]}function hi(t){var n=t[Ae];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ci]||a[Ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ny(t);t!==null;){if(a=t[Ae])return a;t=ny(t)}return n}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Ae]||t[ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function yn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function di(t){var n=t[Do];return n||(n=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(t){t[fi]=!0}var Jr=new Set,$r={};function mi(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for($r[t]=n,t=0;t<n.length;t++)Jr.add(n[t])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Co(t){return de.call(el,t)?!0:de.call(tl,t)?!1:Wr.test(t)?el[t]=!0:(tl[t]=!0,!1)}function Ps(t,n,a){if(Co(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function _n(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function be(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Zt(t){if(!t._valueTracker){var n=fa(t)?"checked":"value";t._valueTracker=nl(t,n,""+t[n])}}function as(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=fa(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ss=/[\n"\\]/g;function on(t){return t.replace(ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qs(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+je(n)):t.value!==""+je(n)&&(t.value=""+je(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?il(t,g,je(n)):a!=null?il(t,g,je(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+je(E):t.removeAttribute("name")}function xo(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Zt(t);return}a=a!=null?""+je(a):"",n=n!=null?""+je(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Zt(t)}function il(t,n,a){n==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ha(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+je(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function No(t,n,a){if(n!=null&&(n=""+je(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+je(a):""}function da(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Gt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=je(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Zt(t)}function un(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Io.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function sl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&al(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&al(t,h,n[h])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ma=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(t){return ma.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var rl=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ga=null,yi=null;function rs(t){var n=Dn(t);if(n&&(t=n.stateNode)){var a=t[Le]||null;t:switch(t=n.stateNode,n.type){case"input":if(qs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Le]||null;if(!c)throw Error(r(90));qs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&as(l)}break t;case"textarea":No(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ha(t,!!a.multiple,n,!1)}}}var Gs=!1;function pa(t,n,a){if(Gs)return t(n,a);Gs=!0;try{var l=t(n);return l}finally{if(Gs=!1,(ga!==null||yi!==null)&&(wu(),ga&&(n=ga,t=yi,yi=ga=null,rs(n),t)))for(n=0;n<t.length;n++)rs(t[n])}}function Kn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(xn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{ls=!1}var _i=null,ll=null,os=null;function ol(){if(os)return os;var t,n=ll,a=n.length,l,c="value"in _i?_i.value:_i.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return os=c.slice(t,1<l?1-l:void 0)}function us(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function Xn(){return!1}function He(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ji:Xn,this.isPropagationStopped=Xn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=He(ki),ya=S({},ki,{view:0,detail:0}),ul=He(ya),_a,Qs,Ei,Ys=S({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(_a=t.screenX-Ei.screenX,Qs=t.screenY-Ei.screenY):Qs=_a=0,Ei=t),_a)},movementY:function(t){return"movementY"in t?t.movementY:Qs}}),cl=He(Ys),cs=S({},Ys,{dataTransfer:0}),Mo=He(cs),Oo=S({},ya,{relatedTarget:0}),fs=He(Oo),fl=S({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=He(fl),Ks=S({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uo=He(Ks),Lo=S({},ki,{data:0}),Ti=He(Lo),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function va(){return Po}var rn=S({},ya,{key:function(t){if(t.key){var n=jo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=He(rn),Ho=S({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=He(Ho),u=S({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),m=He(u),y=S({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=He(y),j=S({},Ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(j),rt=S({},ki,{newState:0,oldState:0}),Dt=He(rt),ye=[9,13,27,32],Qt=xn&&"CompositionEvent"in window,oe=null;xn&&"documentMode"in document&&(oe=document.documentMode);var Nn=xn&&"TextEvent"in window&&!oe,Ai=xn&&(!Qt||oe&&8<oe&&11>=oe),Zn=" ",Jn=!1;function hs(t,n){switch(t){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function Y0(t,n){switch(t){case"compositionend":return Xs(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return t=n.data,t===Zn&&Jn?null:t;default:return null}}function K0(t,n){if(Zs)return t==="compositionend"||!Qt&&hs(t,n)?(t=ol(),os=ll=_i=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!X0[t.type]:n==="textarea"}function rm(t,n,a,l){ga?yi?yi.push(l):yi=[l]:ga=l,n=Vu(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var hl=null,dl=null;function Z0(t){qp(t,0)}function Fo(t){var n=yn(t);if(as(n))return t}function lm(t,n){if(t==="change")return n}var om=!1;if(xn){var Bc;if(xn){var Pc="oninput"in document;if(!Pc){var um=document.createElement("div");um.setAttribute("oninput","return;"),Pc=typeof um.oninput=="function"}Bc=Pc}else Bc=!1;om=Bc&&(!document.documentMode||9<document.documentMode)}function cm(){hl&&(hl.detachEvent("onpropertychange",fm),dl=hl=null)}function fm(t){if(t.propertyName==="value"&&Fo(dl)){var n=[];rm(n,dl,t,Cn(t)),pa(Z0,n)}}function J0(t,n,a){t==="focusin"?(cm(),hl=n,dl=a,hl.attachEvent("onpropertychange",fm)):t==="focusout"&&cm()}function $0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(dl)}function W0(t,n){if(t==="click")return Fo(n)}function tE(t,n){if(t==="input"||t==="change")return Fo(n)}function eE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var vn=typeof Object.is=="function"?Object.is:eE;function ml(t,n){if(vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!de.call(n,c)||!vn(t[c],n[c]))return!1}return!0}function hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dm(t,n){var a=hm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hm(a)}}function mm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?mm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=pi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=pi(t.document)}return n}function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nE=xn&&"documentMode"in document&&11>=document.documentMode,Js=null,Hc=null,gl=null,Fc=!1;function pm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fc||Js==null||Js!==pi(l)||(l=Js,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=Vu(Hc,"onSelect"),0<l.length&&(n=new vi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Js)))}function ds(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var $s={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Gc={},ym={};xn&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function ms(t){if(Gc[t])return Gc[t];if(!$s[t])return t;var n=$s[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ym)return Gc[t]=n[a];return t}var _m=ms("animationend"),vm=ms("animationiteration"),Em=ms("animationstart"),iE=ms("transitionrun"),aE=ms("transitionstart"),sE=ms("transitioncancel"),Tm=ms("transitionend"),Am=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function $n(t,n){Am.set(t,n),mi(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],Ws=0,Yc=0;function Qo(){for(var t=Ws,n=Yc=Ws=0;n<t;){var a=In[n];In[n++]=null;var l=In[n];In[n++]=null;var c=In[n];In[n++]=null;var h=In[n];if(In[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Sm(a,c,h)}}function Yo(t,n,a,l){In[Ws++]=t,In[Ws++]=n,In[Ws++]=a,In[Ws++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,a,l){return Yo(t,n,a,l),Ko(t)}function gs(t,n){return Yo(t,null,null,n),Ko(t)}function Sm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-pe(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Ko(t){if(50<Ll)throw Ll=0,ah=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var tr={};function rE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,n,a,l){return new rE(t,n,a,l)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,n){var a=t.alternate;return a===null?(a=En(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")Xc(t)&&(g=1);else if(typeof t=="string")g=fT(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=En(31,a,n,c),t.elementType=C,t.lanes=h,t;case at:return ps(a.children,c,h,n);case et:g=8,c|=24;break;case tt:return t=En(12,a,n,c|2),t.elementType=tt,t.lanes=h,t;case Kt:return t=En(13,a,n,c),t.elementType=Kt,t.lanes=h,t;case gt:return t=En(19,a,n,c),t.elementType=gt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:g=10;break t;case pt:g=9;break t;case At:g=11;break t;case D:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=En(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ps(t,n,a,l){return t=En(7,t,l,n),t.lanes=a,t}function Zc(t,n,a){return t=En(6,t,null,n),t.lanes=a,t}function wm(t){var n=En(18,null,null,0);return n.stateNode=t,n}function Jc(t,n,a){return n=En(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Rm=new WeakMap;function Vn(t,n){if(typeof t=="object"&&t!==null){var a=Rm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:oa(n)},Rm.set(t,n),n)}return{value:t,source:n,stack:oa(n)}}var er=[],nr=0,Zo=null,pl=0,Mn=[],On=0,Ea=null,Si=1,bi="";function qi(t,n){er[nr++]=pl,er[nr++]=Zo,Zo=t,pl=n}function Dm(t,n,a){Mn[On++]=Si,Mn[On++]=bi,Mn[On++]=Ea,Ea=t;var l=Si;t=bi;var c=32-pe(l)-1;l&=~(1<<c),a+=1;var h=32-pe(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Si=1<<32-pe(n)+c|a<<c|l,bi=h+t}else Si=1<<h|a<<c|l,bi=t}function $c(t){t.return!==null&&(qi(t,1),Dm(t,1,0))}function Wc(t){for(;t===Zo;)Zo=er[--nr],er[nr]=null,pl=er[--nr],er[nr]=null;for(;t===Ea;)Ea=Mn[--On],Mn[On]=null,bi=Mn[--On],Mn[On]=null,Si=Mn[--On],Mn[On]=null}function Cm(t,n){Mn[On++]=Si,Mn[On++]=bi,Mn[On++]=Ea,Si=n.id,bi=n.overflow,Ea=t}var Fe=null,se=null,Bt=!1,Ta=null,zn=!1,tf=Error(r(519));function Aa(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Vn(n,t)),tf}function xm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ae]=t,n[Le]=l,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<kl.length;a++)Ot(kl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),xo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),da(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Qp(n.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Aa(t,!0)}function Nm(t){for(Fe=t.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Fe=Fe.return}}function ir(t){if(t!==Fe)return!1;if(!Bt)return Nm(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vh(t.type,t.memoizedProps)),a=!a),a&&se&&Aa(t),Nm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));se=ey(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));se=ey(t)}else n===27?(n=se,Ua(t.type)?(t=bh,bh=null,se=t):se=n):se=Fe?Ln(t.stateNode.nextSibling):null;return!0}function ys(){se=Fe=null,Bt=!1}function ef(){var t=Ta;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ta=null),t}function yl(t){Ta===null?Ta=[t]:Ta.push(t)}var nf=V(null),_s=null,Hi=null;function Sa(t,n,a){Q(nf,n._currentValue),n._currentValue=a}function Fi(t){t._currentValue=nf.current,I(nf)}function af(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function sf(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var x=0;x<n.length;x++)if(E.context===n[x]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),af(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),af(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ar(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;vn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===X.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&sf(n,t,a,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vs(t){_s=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Im(_s,t)}function $o(t,n){return _s===null&&vs(t),Im(t,n)}function Im(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(r(308));Hi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Hi=Hi.next=n;return a}var lE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},oE=s.unstable_scheduleCallback,uE=s.unstable_NormalPriority,we={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new lE,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&oE(uE,function(){t.controller.abort()})}var vl=null,lf=0,sr=0,rr=null;function cE(t,n){if(vl===null){var a=vl=[];lf=0,sr=ch(),rr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,n.then(Vm,Vm),n}function Vm(){if(--lf===0&&vl!==null){rr!==null&&(rr.status="fulfilled");var t=vl;vl=null,sr=0,rr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function fE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Mm=G.S;G.S=function(t,n){pp=Ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&cE(t,n),Mm!==null&&Mm(t,n)};var Es=V(null);function of(){var t=Es.current;return t!==null?t:ie.pooledCache}function Wo(t,n){n===null?Q(Es,Es.current):Q(Es,n.pool)}function Om(){var t=of();return t===null?null:{parent:we._currentValue,pool:t}}var lr=Error(r(460)),uf=Error(r(474)),tu=Error(r(542)),eu={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Um(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Yn,Yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw As=n,lr}}function Ts(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(As=a,lr):a}}var As=null;function Lm(){if(As===null)throw Error(r(459));var t=As;return As=null,t}function jm(t){if(t===lr||t===tu)throw Error(r(483))}var or=null,El=0;function nu(t){var n=El;return El+=1,or===null&&(or=[]),Um(or,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function km(t){function n(U,M){if(t){var k=U.deletions;k===null?(U.deletions=[M],U.flags|=16):k.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function c(U,M){return U=Pi(U,M),U.index=0,U.sibling=null,U}function h(U,M,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<M?(U.flags|=67108866,M):k):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,k,K){return M===null||M.tag!==6?(M=Zc(k,U.mode,K),M.return=U,M):(M=c(M,k),M.return=U,M)}function x(U,M,k,K){var yt=k.type;return yt===at?Y(U,M,k.props.children,K,k.key):M!==null&&(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&Ts(yt)===M.type)?(M=c(M,k.props),Tl(M,k),M.return=U,M):(M=Xo(k.type,k.key,k.props,null,U.mode,K),Tl(M,k),M.return=U,M)}function B(U,M,k,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=Jc(k,U.mode,K),M.return=U,M):(M=c(M,k.children||[]),M.return=U,M)}function Y(U,M,k,K,yt){return M===null||M.tag!==7?(M=ps(k,U.mode,K,yt),M.return=U,M):(M=c(M,k),M.return=U,M)}function Z(U,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zc(""+M,U.mode,k),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case H:return k=Xo(M.type,M.key,M.props,null,U.mode,k),Tl(k,M),k.return=U,k;case it:return M=Jc(M,U.mode,k),M.return=U,M;case b:return M=Ts(M),Z(U,M,k)}if(Gt(M)||O(M))return M=ps(M,U.mode,k,null),M.return=U,M;if(typeof M.then=="function")return Z(U,nu(M),k);if(M.$$typeof===nt)return Z(U,$o(U,M),k);iu(U,M)}return null}function P(U,M,k,K){var yt=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return yt!==null?null:E(U,M,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return k.key===yt?x(U,M,k,K):null;case it:return k.key===yt?B(U,M,k,K):null;case b:return k=Ts(k),P(U,M,k,K)}if(Gt(k)||O(k))return yt!==null?null:Y(U,M,k,K,null);if(typeof k.then=="function")return P(U,M,nu(k),K);if(k.$$typeof===nt)return P(U,M,$o(U,k),K);iu(U,k)}return null}function F(U,M,k,K,yt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(k)||null,E(M,U,""+K,yt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return U=U.get(K.key===null?k:K.key)||null,x(M,U,K,yt);case it:return U=U.get(K.key===null?k:K.key)||null,B(M,U,K,yt);case b:return K=Ts(K),F(U,M,k,K,yt)}if(Gt(K)||O(K))return U=U.get(k)||null,Y(M,U,K,yt,null);if(typeof K.then=="function")return F(U,M,k,nu(K),yt);if(K.$$typeof===nt)return F(U,M,k,$o(M,K),yt);iu(M,K)}return null}function ft(U,M,k,K){for(var yt=null,Ht=null,dt=M,Nt=M=0,Lt=null;dt!==null&&Nt<k.length;Nt++){dt.index>Nt?(Lt=dt,dt=null):Lt=dt.sibling;var Ft=P(U,dt,k[Nt],K);if(Ft===null){dt===null&&(dt=Lt);break}t&&dt&&Ft.alternate===null&&n(U,dt),M=h(Ft,M,Nt),Ht===null?yt=Ft:Ht.sibling=Ft,Ht=Ft,dt=Lt}if(Nt===k.length)return a(U,dt),Bt&&qi(U,Nt),yt;if(dt===null){for(;Nt<k.length;Nt++)dt=Z(U,k[Nt],K),dt!==null&&(M=h(dt,M,Nt),Ht===null?yt=dt:Ht.sibling=dt,Ht=dt);return Bt&&qi(U,Nt),yt}for(dt=l(dt);Nt<k.length;Nt++)Lt=F(dt,U,Nt,k[Nt],K),Lt!==null&&(t&&Lt.alternate!==null&&dt.delete(Lt.key===null?Nt:Lt.key),M=h(Lt,M,Nt),Ht===null?yt=Lt:Ht.sibling=Lt,Ht=Lt);return t&&dt.forEach(function(Pa){return n(U,Pa)}),Bt&&qi(U,Nt),yt}function vt(U,M,k,K){if(k==null)throw Error(r(151));for(var yt=null,Ht=null,dt=M,Nt=M=0,Lt=null,Ft=k.next();dt!==null&&!Ft.done;Nt++,Ft=k.next()){dt.index>Nt?(Lt=dt,dt=null):Lt=dt.sibling;var Pa=P(U,dt,Ft.value,K);if(Pa===null){dt===null&&(dt=Lt);break}t&&dt&&Pa.alternate===null&&n(U,dt),M=h(Pa,M,Nt),Ht===null?yt=Pa:Ht.sibling=Pa,Ht=Pa,dt=Lt}if(Ft.done)return a(U,dt),Bt&&qi(U,Nt),yt;if(dt===null){for(;!Ft.done;Nt++,Ft=k.next())Ft=Z(U,Ft.value,K),Ft!==null&&(M=h(Ft,M,Nt),Ht===null?yt=Ft:Ht.sibling=Ft,Ht=Ft);return Bt&&qi(U,Nt),yt}for(dt=l(dt);!Ft.done;Nt++,Ft=k.next())Ft=F(dt,U,Nt,Ft.value,K),Ft!==null&&(t&&Ft.alternate!==null&&dt.delete(Ft.key===null?Nt:Ft.key),M=h(Ft,M,Nt),Ht===null?yt=Ft:Ht.sibling=Ft,Ht=Ft);return t&&dt.forEach(function(AT){return n(U,AT)}),Bt&&qi(U,Nt),yt}function ne(U,M,k,K){if(typeof k=="object"&&k!==null&&k.type===at&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case H:t:{for(var yt=k.key;M!==null;){if(M.key===yt){if(yt=k.type,yt===at){if(M.tag===7){a(U,M.sibling),K=c(M,k.props.children),K.return=U,U=K;break t}}else if(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&Ts(yt)===M.type){a(U,M.sibling),K=c(M,k.props),Tl(K,k),K.return=U,U=K;break t}a(U,M);break}else n(U,M);M=M.sibling}k.type===at?(K=ps(k.props.children,U.mode,K,k.key),K.return=U,U=K):(K=Xo(k.type,k.key,k.props,null,U.mode,K),Tl(K,k),K.return=U,U=K)}return g(U);case it:t:{for(yt=k.key;M!==null;){if(M.key===yt)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(U,M.sibling),K=c(M,k.children||[]),K.return=U,U=K;break t}else{a(U,M);break}else n(U,M);M=M.sibling}K=Jc(k,U.mode,K),K.return=U,U=K}return g(U);case b:return k=Ts(k),ne(U,M,k,K)}if(Gt(k))return ft(U,M,k,K);if(O(k)){if(yt=O(k),typeof yt!="function")throw Error(r(150));return k=yt.call(k),vt(U,M,k,K)}if(typeof k.then=="function")return ne(U,M,nu(k),K);if(k.$$typeof===nt)return ne(U,M,$o(U,k),K);iu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(U,M.sibling),K=c(M,k),K.return=U,U=K):(a(U,M),K=Zc(k,U.mode,K),K.return=U,U=K),g(U)):a(U,M)}return function(U,M,k,K){try{El=0;var yt=ne(U,M,k,K);return or=null,yt}catch(dt){if(dt===lr||dt===tu)throw dt;var Ht=En(29,dt,null,U.mode);return Ht.lanes=K,Ht.return=U,Ht}finally{}}}var Ss=km(!0),Bm=km(!1),ba=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ko(t),Sm(t,null,a),n}return Yo(t,l,n,a),Ko(t)}function Al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xr(t,a)}}function hf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var df=!1;function Sl(){if(df){var t=rr;if(t!==null)throw t}}function bl(t,n,a,l){df=!1;var c=t.updateQueue;ba=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var x=E,B=x.next;x.next=null,g===null?h=B:g.next=B,g=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=B:E.next=B,Y.lastBaseUpdate=x))}if(h!==null){var Z=c.baseState;g=0,Y=B=x=null,E=h;do{var P=E.lane&-536870913,F=P!==E.lane;if(F?(Ut&P)===P:(l&P)===P){P!==0&&P===sr&&(df=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,vt=E;P=n;var ne=a;switch(vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){Z=ft.call(ne,Z,P);break t}Z=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,P=typeof ft=="function"?ft.call(ne,Z,P):ft,P==null)break t;Z=S({},Z,P);break t;case 2:ba=!0}}P=E.callback,P!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[P]:F.push(P))}else F={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(B=Y=F,x=Z):Y=Y.next=F,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;F=E,E=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);Y===null&&(x=Z),c.baseState=x,c.firstBaseUpdate=B,c.lastBaseUpdate=Y,h===null&&(c.shared.lanes=0),Ia|=g,t.lanes=g,t.memoizedState=Z}}function Pm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function qm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pm(a[t],n)}var ur=V(null),au=V(0);function Hm(t,n){t=Wi,Q(au,t),Q(ur,n),Wi=t|n.baseLanes}function mf(){Q(au,Wi),Q(ur,ur.current)}function gf(){Wi=au.current,I(ur),I(au)}var Tn=V(null),Un=null;function Da(t){var n=t.alternate;Q(_e,_e.current&1),Q(Tn,t),Un===null&&(n===null||ur.current!==null||n.memoizedState!==null)&&(Un=t)}function pf(t){Q(_e,_e.current),Q(Tn,t),Un===null&&(Un=t)}function Fm(t){t.tag===22?(Q(_e,_e.current),Q(Tn,t),Un===null&&(Un=t)):Ca()}function Ca(){Q(_e,_e.current),Q(Tn,Tn.current)}function An(t){I(Tn),Un===t&&(Un=null),I(_e)}var _e=V(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ah(a)||Sh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Ct=null,te=null,Re=null,ru=!1,cr=!1,bs=!1,lu=0,wl=0,fr=null,hE=0;function me(){throw Error(r(321))}function yf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!vn(t[a],n[a]))return!1;return!0}function _f(t,n,a,l,c,h){return Gi=h,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Dg:Mf,bs=!1,h=a(l,c),bs=!1,cr&&(h=Qm(n,a,l,c)),Gm(t),h}function Gm(t){G.H=Cl;var n=te!==null&&te.next!==null;if(Gi=0,Re=te=Ct=null,ru=!1,wl=0,fr=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&Jo(t)&&(De=!0))}function Qm(t,n,a,l){Ct=t;var c=0;do{if(cr&&(fr=null),wl=0,cr=!1,25<=c)throw Error(r(301));if(c+=1,Re=te=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=Cg,h=n(a,l)}while(cr);return h}function dE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Ct.flags|=1024),n}function vf(){var t=lu!==0;return lu=0,t}function Ef(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Tf(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Gi=0,Re=te=Ct=null,cr=!1,wl=lu=0,fr=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ct.memoizedState=Re=t:Re=Re.next=t,Re}function ve(){if(te===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var n=Re===null?Ct.memoizedState:Re.next;if(n!==null)Re=n,te=t;else{if(t===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Ct.memoizedState=Re=t:Re=Re.next=t}return Re}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=wl;return wl+=1,fr===null&&(fr=[]),t=Um(fr,t,n),n=Ct,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Dg:Mf),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===nt)return Ge(t)}throw Error(r(438,String(t)))}function Af(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ou(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=z;return n.index++,a}function Qi(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=ve();return Sf(n,te,t)}function Sf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,x=null,B=n,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ut&Z)===Z:(Gi&Z)===Z){var P=B.revertLane;if(P===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===sr&&(Y=!0);else if((Gi&P)===P){B=B.next,P===sr&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(E=x=Z,g=h):x=x.next=Z,Ct.lanes|=P,Ia|=P;Z=B.action,bs&&a(h,Z),h=B.hasEagerState?B.eagerState:a(h,Z)}else P={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(E=x=P,g=h):x=x.next=P,Ct.lanes|=Z,Ia|=Z;B=B.next}while(B!==null&&B!==n);if(x===null?g=h:x.next=E,!vn(h,t.memoizedState)&&(De=!0,Y&&(a=rr,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=x,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=ve(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);vn(h,n.memoizedState)||(De=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Ym(t,n,a){var l=Ct,c=ve(),h=Bt;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!vn((te||c).memoizedState,a);if(g&&(c.memoizedState=a,De=!0),c=c.queue,Df(Zm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,hr(9,{destroy:void 0},Xm.bind(null,l,c,a,n),null),ie===null)throw Error(r(349));h||(Gi&127)!==0||Km(l,n,a)}return a}function Km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=ou(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Xm(t,n,a,l){n.value=a,n.getSnapshot=l,Jm(n)&&$m(t)}function Zm(t,n,a){return a(function(){Jm(n)&&$m(t)})}function Jm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!vn(t,a)}catch{return!0}}function $m(t){var n=gs(t,2);n!==null&&mn(n,t,2)}function wf(t){var n=ln();if(typeof t=="function"){var a=t;if(t=a(),bs){Rn(!0);try{a()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},n}function Wm(t,n,a,l){return t.baseState=a,Sf(t,te,typeof l=="function"?l:Qi)}function mE(t,n,a,l,c){if(du(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};G.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,tg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function tg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=G.T,g={};G.T=g;try{var E=a(c,l),x=G.S;x!==null&&x(g,E),eg(t,n,E)}catch(B){Rf(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),G.T=h}}else try{h=a(c,l),eg(t,n,h)}catch(B){Rf(t,n,B)}}function eg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ng(t,n,l)},function(l){return Rf(t,n,l)}):ng(t,n,a)}function ng(t,n,a){n.status="fulfilled",n.value=a,ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,tg(t,a)))}function Rf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ig(n),n=n.next;while(n!==l)}t.action=null}function ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function sg(t,n){if(Bt){var a=ie.formState;if(a!==null){t:{var l=Ct;if(Bt){if(se){e:{for(var c=se,h=zn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){se=Ln(c.nextSibling),l=c.data==="F!";break t}}Aa(l)}l=!1}l&&(n=a[0])}}return a=ln(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},a.queue=l,a=bg.bind(null,Ct,l),l.dispatch=a,l=wf(!1),h=Vf.bind(null,Ct,!1,l.queue),l=ln(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=mE.bind(null,Ct,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function rg(t){var n=ve();return lg(n,te,t)}function lg(t,n,a){if(n=Sf(t,n,ag)[0],t=cu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(g){throw g===lr?tu:g}else l=n;n=ve();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,hr(9,{destroy:void 0},gE.bind(null,c,a),null)),[l,h,t]}function gE(t,n){t.action=n}function og(t){var n=ve(),a=te;if(a!==null)return lg(n,a,t);ve(),n=n.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function hr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=ou(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ug(){return ve().memoizedState}function fu(t,n,a,l){var c=ln();Ct.flags|=t,c.memoizedState=hr(1|n,{destroy:void 0},a,l===void 0?null:l)}function hu(t,n,a,l){var c=ve();l=l===void 0?null:l;var h=c.memoizedState.inst;te!==null&&l!==null&&yf(l,te.memoizedState.deps)?c.memoizedState=hr(n,h,a,l):(Ct.flags|=t,c.memoizedState=hr(1|n,h,a,l))}function cg(t,n){fu(8390656,8,t,n)}function Df(t,n){hu(2048,8,t,n)}function pE(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=ou(),Ct.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function fg(t){var n=ve().memoizedState;return pE({ref:n,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function hg(t,n){return hu(4,2,t,n)}function dg(t,n){return hu(4,4,t,n)}function mg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,a){a=a!=null?a.concat([t]):null,hu(4,4,mg.bind(null,n,t),a)}function Cf(){}function pg(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function yg(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=t(),bs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,n],l}function xf(t,n,a){return a===void 0||(Gi&1073741824)!==0&&(Ut&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=_p(),Ct.lanes|=t,Ia|=t,a)}function _g(t,n,a,l){return vn(a,n)?a:ur.current!==null?(t=xf(t,a,l),vn(t,n)||(De=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Ut&261930)===0?(De=!0,t.memoizedState=a):(t=_p(),Ct.lanes|=t,Ia|=t,n)}function vg(t,n,a,l,c){var h=st.p;st.p=h!==0&&8>h?h:8;var g=G.T,E={};G.T=E,Vf(t,!1,n,a);try{var x=c(),B=G.S;if(B!==null&&B(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=fE(x,l);Dl(t,n,Y,wn(t))}else Dl(t,n,l,wn(t))}catch(Z){Dl(t,n,{then:function(){},status:"rejected",reason:Z},wn())}finally{st.p=h,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function yE(){}function Nf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Eg(t).queue;vg(t,c,n,mt,a===null?yE:function(){return Tg(t),a(l)})}function Eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tg(t){var n=Eg(t);n.next===null&&(n=t.alternate.memoizedState),Dl(t,n.next.queue,{},wn())}function If(){return Ge(Fl)}function Ag(){return ve().memoizedState}function Sg(){return ve().memoizedState}function _E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=wa(a);var l=Ra(n,t,a);l!==null&&(mn(l,n,a),Al(l,n,a)),n={cache:rf()},t.payload=n;return}n=n.return}}function vE(t,n,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},du(t)?wg(n,a):(a=Kc(t,n,a,l),a!==null&&(mn(a,t,l),Rg(a,n,l)))}function bg(t,n,a){var l=wn();Dl(t,n,a,l)}function Dl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(du(t))wg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,vn(E,g))return Yo(t,n,c,0),ie===null&&Qo(),!1}catch{}finally{}if(a=Kc(t,n,c,l),a!==null)return mn(a,t,l),Rg(a,n,l),!0}return!1}function Vf(t,n,a,l){if(l={lane:2,revertLane:ch(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(r(479))}else n=Kc(t,a,l,2),n!==null&&mn(n,t,2)}function du(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function wg(t,n){cr=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Rg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xr(t,a)}}var Cl={readContext:Ge,use:uu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Cl.useEffectEvent=me;var Dg={readContext:Ge,use:uu,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,fu(4194308,4,mg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var a=ln();n=n===void 0?null:n;var l=t();if(bs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=ln();if(a!==void 0){var c=a(n);if(bs){Rn(!0);try{a(n)}finally{Rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=vE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,a=bg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(t,n){var a=ln();return xf(a,t,n)},useTransition:function(){var t=wf(!1);return t=vg.bind(null,Ct,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,c=ln();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ie===null)throw Error(r(349));(Ut&127)!==0||Km(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,cg(Zm.bind(null,l,h,t),[t]),l.flags|=2048,hr(9,{destroy:void 0},Xm.bind(null,l,h,a,n),null),a},useId:function(){var t=ln(),n=ie.identifierPrefix;if(Bt){var a=bi,l=Si;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=lu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=hE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:sg,useActionState:sg,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,Ct,!0,a),a.dispatch=n,[t,n]},useMemoCache:Af,useCacheRefresh:function(){return ln().memoizedState=_E.bind(null,Ct)},useEffectEvent:function(t){var n=ln(),a={impl:t};return n.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Mf={readContext:Ge,use:uu,useCallback:pg,useContext:Ge,useEffect:Df,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:dg,useMemo:yg,useReducer:cu,useRef:ug,useState:function(){return cu(Qi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=ve();return _g(a,te.memoizedState,t,n)},useTransition:function(){var t=cu(Qi)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:If,useFormState:rg,useActionState:rg,useOptimistic:function(t,n){var a=ve();return Wm(a,te,t,n)},useMemoCache:Af,useCacheRefresh:Sg};Mf.useEffectEvent=fg;var Cg={readContext:Ge,use:uu,useCallback:pg,useContext:Ge,useEffect:Df,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:dg,useMemo:yg,useReducer:bf,useRef:ug,useState:function(){return bf(Qi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=ve();return te===null?xf(a,t,n):_g(a,te.memoizedState,t,n)},useTransition:function(){var t=bf(Qi)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:If,useFormState:og,useActionState:og,useOptimistic:function(t,n){var a=ve();return te!==null?Wm(a,te,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Sg};Cg.useEffectEvent=fg;function Of(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=wn(),c=wa(l);c.payload=n,a!=null&&(c.callback=a),n=Ra(t,c,l),n!==null&&(mn(n,t,l),Al(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=wn(),c=wa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Ra(t,c,l),n!==null&&(mn(n,t,l),Al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),l=wa(a);l.tag=2,n!=null&&(l.callback=n),n=Ra(t,l,a),n!==null&&(mn(n,t,a),Al(n,t,a))}};function xg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!ml(a,l)||!ml(c,h):!0}function Ng(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&zf.enqueueReplaceState(n,n.state,null)}function ws(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Ig(t){Go(t)}function Vg(t){console.error(t)}function Mg(t){Go(t)}function mu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uf(t,n,a){return a=wa(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(t,n)},a}function zg(t){return t=wa(t),t.tag=3,t}function Ug(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Og(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Og(n,a,l),typeof c!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function EE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ar(n,a,c,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Ru():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===eu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),lh(t,l,c)),!1;case 22:return a.flags|=65536,l===eu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),lh(t,l,c)),!1}throw Error(r(435,a.tag))}return lh(t,l,c),Ru(),!1}if(Bt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==tf&&(t=Error(r(422),{cause:l}),yl(Vn(t,a)))):(l!==tf&&(n=Error(r(423),{cause:l}),yl(Vn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Vn(l,a),c=Uf(t.stateNode,l,c),hf(t,c),ge!==4&&(ge=2)),!1;var h=Error(r(520),{cause:l});if(h=Vn(h,a),Ul===null?Ul=[h]:Ul.push(h),ge!==4&&(ge=2),n===null)return!0;l=Vn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Uf(a.stateNode,l,t),hf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Va===null||!Va.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=zg(c),Ug(c,t,a,l),hf(a,c),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),De=!1;function Qe(t,n,a,l){n.child=t===null?Bm(n,null,a,l):Ss(n,t.child,a,l)}function Lg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return vs(n),l=_f(t,n,a,g,h,c),E=vf(),t!==null&&!De?(Ef(t,n,c),Yi(t,n,c)):(Bt&&E&&$c(n),n.flags|=1,Qe(t,n,l,c),n.child)}function jg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Xc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,kg(t,n,h,l,c)):(t=Xo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Gf(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(g,l)&&t.ref===n.ref)return Yi(t,n,c)}return n.flags|=1,t=Pi(h,l),t.ref=n.ref,t.return=n,n.child=t}function kg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(ml(h,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=h,Gf(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Yi(t,n,c)}return jf(t,n,a,l,c)}function Bg(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Pg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,h!==null?h.cachePool:null),h!==null?Hm(n,h):mf(),Fm(n);else return l=n.lanes=536870912,Pg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Wo(n,h.cachePool),Hm(n,h),Ca(),n.memoizedState=null):(t!==null&&Wo(n,null),mf(),Ca());return Qe(t,n,c,a),n.child}function xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pg(t,n,a,l,c){var h=of();return h=h===null?null:{parent:we._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Wo(n,null),mf(),Fm(n),t!==null&&ar(t,n,l,!0),n.childLanes=c,null}function gu(t,n){return n=yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function qg(t,n,a){return Ss(n,t.child,null,a),t=gu(n,n.pendingProps),t.flags|=2,An(n),n.memoizedState=null,t}function TE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Bt){if(l.mode==="hidden")return t=gu(n,l),n.lanes=536870912,xl(null,t);if(pf(n),(t=se)?(t=ty(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,Fe=n,se=null)):t=null,t===null)throw Aa(n);return n.lanes=536870912,null}return gu(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(pf(n),c)if(n.flags&256)n.flags&=-257,n=qg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(De||ar(t,n,a,!1),c=(a&t.childLanes)!==0,De||c){if(l=ie,l!==null&&(g=Zr(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,gs(t,g),mn(l,t,g),Lf;Ru(),n=qg(t,n,a)}else t=h.treeContext,se=Ln(g.nextSibling),Fe=n,Bt=!0,Ta=null,zn=!1,t!==null&&Cm(n,t),n=gu(n,l),n.flags|=4096;return n}return t=Pi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function jf(t,n,a,l,c){return vs(n),a=_f(t,n,a,l,void 0,c),l=vf(),t!==null&&!De?(Ef(t,n,c),Yi(t,n,c)):(Bt&&l&&$c(n),n.flags|=1,Qe(t,n,a,c),n.child)}function Hg(t,n,a,l,c,h){return vs(n),n.updateQueue=null,a=Qm(n,l,a,c),Gm(t),l=vf(),t!==null&&!De?(Ef(t,n,h),Yi(t,n,h)):(Bt&&l&&$c(n),n.flags|=1,Qe(t,n,a,h),n.child)}function Fg(t,n,a,l,c){if(vs(n),n.stateNode===null){var h=tr,g=a.contextType;typeof g=="object"&&g!==null&&(h=Ge(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=zf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},cf(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?Ge(g):tr,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Of(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&zf.enqueueReplaceState(h,h.state,null),bl(n,l,h,c),Sl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,x=ws(a,E);h.props=x;var B=h.context,Y=a.contextType;g=tr,typeof Y=="object"&&Y!==null&&(g=Ge(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&Ng(n,h,l,g),ba=!1;var P=n.memoizedState;h.state=P,bl(n,l,h,c),Sl(),B=n.memoizedState,E||P!==B||ba?(typeof Z=="function"&&(Of(n,a,Z,l),B=n.memoizedState),(x=ba||xg(n,a,x,l,P,B,g))?(Y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=x):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,ff(t,n),g=n.memoizedProps,Y=ws(a,g),h.props=Y,Z=n.pendingProps,P=h.context,B=a.contextType,x=tr,typeof B=="object"&&B!==null&&(x=Ge(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Z||P!==x)&&Ng(n,h,l,x),ba=!1,P=n.memoizedState,h.state=P,bl(n,l,h,c),Sl();var F=n.memoizedState;g!==Z||P!==F||ba||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof E=="function"&&(Of(n,a,E,l),F=n.memoizedState),(Y=ba||xg(n,a,Y,l,P,F,x)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,F,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,F,x)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),h.props=l,h.state=F,h.context=x,l=Y):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,pu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Ss(n,t.child,null,c),n.child=Ss(n,null,a,c)):Qe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Yi(t,n,c),t}function Gg(t,n,a,l){return ys(),n.flags|=256,Qe(t,n,a,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:Om()}}function Pf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=bn),t}function Qg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Da(n):Ca(),(t=se)?(t=ty(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,Fe=n,se=null)):t=null,t===null)throw Aa(n);return Sh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Ca(),c=n.mode,E=yu({mode:"hidden",children:E},c),l=ps(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Bf(a),l.childLanes=Pf(t,g,a),n.memoizedState=kf,xl(null,l)):(Da(n),qf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(h)n.flags&256?(Da(n),n.flags&=-257,n=Hf(t,n,a)):n.memoizedState!==null?(Ca(),n.child=t.child,n.flags|=128,n=null):(Ca(),E=l.fallback,c=n.mode,l=yu({mode:"visible",children:l.children},c),E=ps(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ss(n,t.child,null,a),l=n.child,l.memoizedState=Bf(a),l.childLanes=Pf(t,g,a),n.memoizedState=kf,n=xl(null,l));else if(Da(n),Sh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,yl({value:l,source:null,stack:null}),n=Hf(t,n,a)}else if(De||ar(t,n,a,!1),g=(a&t.childLanes)!==0,De||g){if(g=ie,g!==null&&(l=Zr(g,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,gs(t,l),mn(g,t,l),Lf;Ah(E)||Ru(),n=Hf(t,n,a)}else Ah(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,se=Ln(E.nextSibling),Fe=n,Bt=!0,Ta=null,zn=!1,t!==null&&Cm(n,t),n=qf(n,l.children),n.flags|=4096);return n}return c?(Ca(),E=l.fallback,c=n.mode,x=t.child,B=x.sibling,l=Pi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,B!==null?E=Pi(B,E):(E=ps(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,xl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Bf(a):(c=E.cachePool,c!==null?(x=we._currentValue,c=c.parent!==x?{parent:x,pool:x}:c):c=Om(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Pf(t,g,a),n.memoizedState=kf,xl(t.child,l)):(Da(n),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function qf(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=En(22,t,null,n),t.lanes=0,t}function Hf(t,n,a){return Ss(n,t.child,null,a),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Yg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),af(t.return,n,a)}function Ff(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function Kg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=_e.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,Q(_e,g),Qe(t,n,l,a),l=Bt?pl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,a,n);else if(t.tag===19)Yg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ff(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ff(n,!0,a,null,h,l);break;case"together":Ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Yi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ia|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ar(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Pi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function AE(t,n,a){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),Sa(n,we,t.memoizedState.cache),ys();break;case 27:case 5:$e(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:Sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Da(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Qg(t,n,a):(Da(n),t=Yi(t,n,a),t!==null?t.sibling:null);Da(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ar(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Kg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(_e,_e.current),l)break;return null;case 22:return n.lanes=0,Bg(t,n,a,n.pendingProps);case 24:Sa(n,we,t.memoizedState.cache)}return Yi(t,n,a)}function Xg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Gf(t,a)&&(n.flags&128)===0)return De=!1,AE(t,n,a);De=(t.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&Dm(n,pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ts(n.elementType),n.type=t,typeof t=="function")Xc(t)?(l=ws(t,l),n.tag=1,n=Fg(null,n,t,l,a)):(n.tag=0,n=jf(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===At){n.tag=11,n=Lg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=jg(null,n,t,l,a);break t}}throw n=Vt(t)||t,Error(r(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ws(l,n.pendingProps),Fg(t,n,l,c,a);case 3:t:{if(ht(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,ff(t,n),bl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Sa(n,we,l),l!==h.cache&&sf(n,[we],a,!0),Sl(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Gg(t,n,l,a);break t}else if(l!==c){c=Vn(Error(r(424)),n),yl(c),n=Gg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Ln(t.firstChild),Fe=n,Bt=!0,Ta=null,zn=!0,a=Bm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ys(),l===c){n=Yi(t,n,a);break t}Qe(t,n,l,a)}n=n.child}return n;case 26:return pu(t,n),t===null?(a=ry(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Mu(ct.current).createElement(a),l[Ae]=n,l[Le]=t,Ye(l,a,t),Se(l),n.stateNode=l):n.memoizedState=ry(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $e(n),t===null&&Bt&&(l=n.stateNode=iy(n.type,n.pendingProps,ct.current),Fe=n,zn=!0,c=se,Ua(n.type)?(bh=c,se=Ln(l.firstChild)):se=c),Qe(t,n,n.pendingProps.children,a),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=$E(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Fe=n,se=Ln(l.firstChild),zn=!1,c=!0):c=!1),c||Aa(n)),$e(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,vh(c,h)?l=null:g!==null&&vh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=_f(t,n,dE,null,null,a),Fl._currentValue=c),pu(t,n),Qe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=se)&&(a=WE(a,n.pendingProps,zn),a!==null?(n.stateNode=a,Fe=n,se=null,t=!0):t=!1),t||Aa(n)),null;case 13:return Qg(t,n,a);case 4:return ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ss(n,null,l,a):Qe(t,n,l,a),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,a);case 7:return Qe(t,n,n.pendingProps,a),n.child;case 8:return Qe(t,n,n.pendingProps.children,a),n.child;case 12:return Qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Sa(n,n.type,l.value),Qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,vs(n),c=Ge(c),l=l(c),n.flags|=1,Qe(t,n,l,a),n.child;case 14:return jg(t,n,n.type,n.pendingProps,a);case 15:return kg(t,n,n.type,n.pendingProps,a);case 19:return Kg(t,n,a);case 31:return TE(t,n,a);case 22:return Bg(t,n,a,n.pendingProps);case 24:return vs(n),l=Ge(we),t===null?(c=of(),c===null&&(c=ie,h=rf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},cf(n),Sa(n,we,c)):((t.lanes&a)!==0&&(ff(t,n),bl(n,null,null,a),Sl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Sa(n,we,l)):(l=h.cache,Sa(n,we,l),l!==c.cache&&sf(n,[we],a,!0))),Qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ki(t){t.flags|=4}function Qf(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ap())t.flags|=8192;else throw As=eu,uf}else t.flags&=-16777217}function Zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fy(n))if(Ap())t.flags|=8192;else throw As=eu,uf}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bo():536870912,t.lanes|=n,pr|=n)}function Nl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function SE(t,n,a){var l=n.pendingProps;switch(Wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fi(we),xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ir(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),re(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Ki(n),h!==null?(re(n),Zg(n,h)):(re(n),Qf(n,c,null,l,a))):h?h!==t.memoizedState?(Ki(n),re(n),Zg(n,h)):(re(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(n),re(n),Qf(n,c,t,l,a)),null;case 27:if(Ui(n),a=ct.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}t=W.current,ir(n)?xm(n):(t=iy(c,l,a),n.stateNode=t,Ki(n))}return re(n),null;case 5:if(Ui(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}if(h=W.current,ir(n))xm(n);else{var g=Mu(ct.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[Ae]=n,h[Le]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(Ye(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(n)}}return re(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ct.current,ir(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Fe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ae]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Qp(t.nodeValue,a)),t||Aa(n,!0)}else t=Mu(t).createTextNode(l),t[Ae]=n,n.stateNode=t}return re(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ir(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ae]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(r(558))}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ir(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ae]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),_u(n,n.updateQueue),re(n),null);case 4:return xt(),t===null&&mh(n.stateNode.containerInfo),re(n),null;case 10:return Fi(n.type),re(n),null;case 19:if(I(_e),l=n.memoizedState,l===null)return re(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)Nl(l,!1);else{if(ge!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=su(t),h!==null){for(n.flags|=128,Nl(l,!1),t=h.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)bm(a,t),a=a.sibling;return Q(_e,_e.current&1|2),Bt&&qi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ue()>Su&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304)}else{if(!c)if(t=su(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Bt)return re(n),null}else 2*Ue()-l.renderingStartTime>Su&&a!==536870912&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ue(),t.sibling=null,a=_e.current,Q(_e,c?a&1|2:a&1),Bt&&qi(n,l.treeForkCount),t):(re(n),null);case 22:case 23:return An(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&_u(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&I(Es),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(we),re(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function bE(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fi(we),xt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ui(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(r(340));ys()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(An(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ys()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return I(_e),null;case 4:return xt(),null;case 10:return Fi(n.type),null;case 22:case 23:return An(n),gf(),t!==null&&I(Es),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fi(we),null;case 25:return null;default:return null}}function Jg(t,n){switch(Wc(n),n.tag){case 3:Fi(we),xt();break;case 26:case 27:case 5:Ui(n);break;case 4:xt();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:I(_e);break;case 10:Fi(n.type);break;case 22:case 23:An(n),gf(),t!==null&&I(Es);break;case 24:Fi(we)}}function Il(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){$t(n,n.return,E)}}function xa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var x=a,B=E;try{B()}catch(Y){$t(c,x,Y)}}}l=l.next}while(l!==h)}}catch(Y){$t(n,n.return,Y)}}function $g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{qm(n,a)}catch(l){$t(t,t.return,l)}}}function Wg(t,n,a){a.props=ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function Vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){$t(t,n,c)}}function wi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(t,n,c)}else a.current=null}function tp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){$t(t,t.return,c)}}function Yf(t,n,a){try{var l=t.stateNode;QE(l,t.type,a,n),l[Le]=n}catch(c){$t(t,t.return,c)}}function ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ua(t.type)||t.tag===4}function Kf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yn));else if(l!==4&&(l===27&&Ua(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,a),t=t.sibling;t!==null;)Xf(t,n,a),t=t.sibling}function vu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ua(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vu(t,n,a),t=t.sibling;t!==null;)vu(t,n,a),t=t.sibling}function np(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ye(n,l,a),n[Ae]=t,n[Le]=a}catch(h){$t(t,t.return,h)}}var Xi=!1,Ce=!1,Zf=!1,ip=typeof WeakSet=="function"?WeakSet:Set,ke=null;function wE(t,n){if(t=t.containerInfo,yh=Bu,t=gm(t),qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,x=-1,B=0,Y=0,Z=t,P=null;e:for(;;){for(var F;Z!==a||c!==0&&Z.nodeType!==3||(E=g+c),Z!==h||l!==0&&Z.nodeType!==3||(x=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(F=Z.firstChild)!==null;)P=Z,Z=F;for(;;){if(Z===t)break e;if(P===a&&++B===c&&(E=g),P===h&&++Y===l&&(x=g),(F=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=F}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(_h={focusedElem:t,selectionRange:a},Bu=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var ft=ws(a.type,c);t=l.getSnapshotBeforeUpdate(ft,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){$t(a,a.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Th(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}}function ap(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&Il(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){$t(a,a.return,g)}else{var c=ws(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(a,a.return,g)}}l&64&&$g(a),l&512&&Vl(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qm(t,n)}catch(g){$t(a,a.return,g)}}break;case 27:n===null&&l&4&&np(a);case 26:case 5:Ji(t,a),n===null&&l&4&&tp(a),l&512&&Vl(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&lp(t,a);break;case 13:Ji(t,a),l&4&&op(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=OE.bind(null,a),tT(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){n=n!==null&&n.memoizedState!==null||Ce,c=Xi;var h=Ce;Xi=l,(Ce=n)&&!h?$i(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=c,Ce=h}break;case 30:break;default:Ji(t,a)}}function sp(t){var n=t.alternate;n!==null&&(t.alternate=null,sp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,cn=!1;function Zi(t,n,a){for(a=a.child;a!==null;)rp(t,n,a),a=a.sibling}function rp(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ce||wi(a,n),Zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||wi(a,n);var l=ue,c=cn;Ua(a.type)&&(ue=a.stateNode,cn=!1),Zi(t,n,a),Pl(a.stateNode),ue=l,cn=c;break;case 5:Ce||wi(a,n);case 6:if(l=ue,c=cn,ue=null,Zi(t,n,a),ue=l,cn=c,ue!==null)if(cn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(h){$t(a,n,h)}else try{ue.removeChild(a.stateNode)}catch(h){$t(a,n,h)}break;case 18:ue!==null&&(cn?(t=ue,$p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),br(t)):$p(ue,a.stateNode));break;case 4:l=ue,c=cn,ue=a.stateNode.containerInfo,cn=!0,Zi(t,n,a),ue=l,cn=c;break;case 0:case 11:case 14:case 15:xa(2,a,n),Ce||xa(4,a,n),Zi(t,n,a);break;case 1:Ce||(wi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wg(a,n,l)),Zi(t,n,a);break;case 21:Zi(t,n,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,Zi(t,n,a),Ce=l;break;default:Zi(t,n,a)}}function lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{br(t)}catch(a){$t(n,n.return,a)}}}function op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{br(t)}catch(a){$t(n,n.return,a)}}function RE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ip),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ip),n;default:throw Error(r(435,t.tag))}}function Eu(t,n){var a=RE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=zE.bind(null,t,l);l.then(c,c)}})}function fn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ua(E.type)){ue=E.stateNode,cn=!1;break t}break;case 5:ue=E.stateNode,cn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ue===null)throw Error(r(160));rp(h,g,c),ue=null,cn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)up(n,t),n=n.sibling}var Wn=null;function up(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),hn(t),l&4&&(xa(3,t,t.return),Il(3,t),xa(5,t,t.return));break;case 1:fn(n,t),hn(t),l&512&&(Ce||a===null||wi(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Wn;if(fn(n,t),hn(t),l&512&&(Ce||a===null||wi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[fi]||h[Ae]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Ye(h,l,a),h[Ae]=t,Se(h),l=h;break t;case"link":var g=uy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),Ye(h,l,a),c.head.appendChild(h);break;case"meta":if(g=uy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),Ye(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[Ae]=t,Se(h),l=h}t.stateNode=l}else cy(c,t.type,t.stateNode);else t.stateNode=oy(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?cy(c,t.type,t.stateNode):oy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),hn(t),l&512&&(Ce||a===null||wi(a,a.return)),a!==null&&l&4&&Yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),hn(t),l&512&&(Ce||a===null||wi(a,a.return)),t.flags&32){c=t.stateNode;try{un(c,"")}catch(ft){$t(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Yf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Zf=!0);break;case 6:if(fn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ft){$t(t,t.return,ft)}}break;case 3:if(Uu=null,c=Wn,Wn=Ou(n.containerInfo),fn(n,t),Wn=c,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{br(n.containerInfo)}catch(ft){$t(t,t.return,ft)}Zf&&(Zf=!1,cp(t));break;case 4:l=Wn,Wn=Ou(t.stateNode.containerInfo),fn(n,t),hn(t),Wn=l;break;case 12:fn(n,t),hn(t);break;case 31:fn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 13:fn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Au=Ue()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 22:c=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,B=Xi,Y=Ce;if(Xi=B||c,Ce=Y||x,fn(n,t),Ce=Y,Xi=B,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||x||Xi||Ce||Rs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(h=x.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var Z=x.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ft){$t(x,x.return,ft)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(ft){$t(x,x.return,ft)}}}else if(n.tag===18){if(a===null){x=n;try{var F=x.stateNode;c?Wp(F,!0):Wp(x.stateNode,!1)}catch(ft){$t(x,x.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eu(t,a))));break;case 19:fn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 30:break;case 21:break;default:fn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(ep(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=Kf(t);vu(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(un(g,""),a.flags&=-33);var E=Kf(t);vu(t,E,g);break;case 3:case 4:var x=a.stateNode.containerInfo,B=Kf(t);Xf(t,B,x);break;default:throw Error(r(161))}}catch(Y){$t(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function cp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ap(t,n.alternate,n),n=n.sibling}function Rs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:xa(4,n,n.return),Rs(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Wg(n,n.return,a),Rs(n);break;case 27:Pl(n.stateNode);case 26:case 5:wi(n,n.return),Rs(n);break;case 22:n.memoizedState===null&&Rs(n);break;case 30:Rs(n);break;default:Rs(n)}t=t.sibling}}function $i(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:$i(c,h,a),Il(4,h);break;case 1:if($i(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){$t(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)Pm(x[c],E)}catch(B){$t(l,l.return,B)}}a&&g&64&&$g(h),Vl(h,h.return);break;case 27:np(h);case 26:case 5:$i(c,h,a),a&&l===null&&g&4&&tp(h),Vl(h,h.return);break;case 12:$i(c,h,a);break;case 31:$i(c,h,a),a&&g&4&&lp(c,h);break;case 13:$i(c,h,a),a&&g&4&&op(c,h);break;case 22:h.memoizedState===null&&$i(c,h,a),Vl(h,h.return);break;case 30:break;default:$i(c,h,a)}n=n.sibling}}function Jf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t))}function ti(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(t,n,a,l),n=n.sibling}function fp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,a,l),c&2048&&Il(9,n);break;case 1:ti(t,n,a,l);break;case 3:ti(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t)));break;case 12:if(c&2048){ti(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$t(n,n.return,x)}}else ti(t,n,a,l);break;case 31:ti(t,n,a,l);break;case 13:ti(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?ti(t,n,a,l):Ml(t,n):h._visibility&2?ti(t,n,a,l):(h._visibility|=2,dr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Jf(g,n);break;case 24:ti(t,n,a,l),c&2048&&$f(n.alternate,n);break;default:ti(t,n,a,l)}}function dr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,x=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:dr(h,g,E,x,c),Il(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?dr(h,g,E,x,c):Ml(h,g):(Y._visibility|=2,dr(h,g,E,x,c)),c&&B&2048&&Jf(g.alternate,g);break;case 24:dr(h,g,E,x,c),c&&B&2048&&$f(g.alternate,g);break;default:dr(h,g,E,x,c)}n=n.sibling}}function Ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Ml(a,l),c&2048&&Jf(l.alternate,l);break;case 24:Ml(a,l),c&2048&&$f(l.alternate,l);break;default:Ml(a,l)}n=n.sibling}}var Ol=8192;function mr(t,n,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)hp(t,n,a),t=t.sibling}function hp(t,n,a){switch(t.tag){case 26:mr(t,n,a),t.flags&Ol&&t.memoizedState!==null&&hT(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:mr(t,n,a);break;case 3:case 4:var l=Wn;Wn=Ou(t.stateNode.containerInfo),mr(t,n,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,mr(t,n,a),Ol=l):mr(t,n,a));break;default:mr(t,n,a)}}function dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,gp(l,t)}dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mp(t),t=t.sibling}function mp(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&xa(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tu(t)):zl(t);break;default:zl(t)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,gp(l,t)}dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:xa(8,n,n.return),Tu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(n));break;default:Tu(n)}t=t.sibling}}function gp(t,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:xa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=t;ke!==null;){l=ke;var c=l.sibling,h=l.return;if(sp(l),l===a){ke=null;break t}if(c!==null){c.return=h,ke=c;break t}ke=h}}}var DE={getCacheForType:function(t){var n=Ge(we),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ge(we).controller.signal}},CE=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ie=null,Mt=null,Ut=0,Jt=0,Sn=null,Na=!1,gr=!1,Wf=!1,Wi=0,ge=0,Ia=0,Ds=0,th=0,bn=0,pr=0,Ul=null,dn=null,eh=!1,Au=0,pp=0,Su=1/0,bu=null,Va=null,Me=0,Ma=null,yr=null,ta=0,nh=0,ih=null,yp=null,Ll=0,ah=null;function wn(){return(Yt&2)!==0&&Ut!==0?Ut&-Ut:G.T!==null?ch():wo()}function _p(){if(bn===0)if((Ut&536870912)===0||Bt){var t=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),bn=t}else bn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),bn}function mn(t,n,a){(t===ie&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(_r(t,0),Oa(t,Ut,bn,!1)),es(t,a),((Yt&2)===0||t!==ie)&&(t===ie&&((Yt&2)===0&&(Ds|=a),ge===4&&Oa(t,Ut,bn,!1)),Ri(t))}function vp(t,n,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),c=l?IE(t,n):rh(t,n,!0),h=l;do{if(c===0){gr&&!l&&Oa(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!xE(a)){c=rh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Ul;var x=E.current.memoizedState.isDehydrated;if(x&&(_r(E,g).flags|=256),g=rh(E,g,!1),g!==2){if(Wf&&!x){E.errorRecoveryDisabledLanes|=h,Ds|=h,c=4;break t}h=dn,dn=c,h!==null&&(dn===null?dn=h:dn.push.apply(dn,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){_r(t,0),Oa(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Oa(l,n,bn,!Na);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Au+300-Ue(),10<c)){if(Oa(l,n,bn,!Na),oi(l,0,!0)!==0)break t;ta=n,l.timeoutHandle=Zp(Ep.bind(null,l,a,dn,bu,eh,n,bn,Ds,pr,Na,h,"Throttled",-0,0),c);break t}Ep(l,a,dn,bu,eh,n,bn,Ds,pr,Na,h,null,-0,0)}}break}while(!0);Ri(t)}function Ep(t,n,a,l,c,h,g,E,x,B,Y,Z,P,F){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},hp(n,h,Z);var ft=(h&62914560)===h?Au-Ue():(h&4194048)===h?pp-Ue():0;if(ft=dT(Z,ft),ft!==null){ta=h,t.cancelPendingCommit=ft(Cp.bind(null,t,n,h,a,l,c,g,E,x,Y,Z,null,P,F)),Oa(t,h,g,!B);return}}Cp(t,n,h,a,l,c,g,E,x)}function xE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!vn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oa(t,n,a,l){n&=~th,n&=~Ds,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-pe(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&ns(t,a,n)}function wu(){return(Yt&6)===0?(jl(0),!1):!0}function sh(){if(Mt!==null){if(Jt===0)var t=Mt.return;else t=Mt,Hi=_s=null,Tf(t),or=null,El=0,t=Mt;for(;t!==null;)Jg(t.alternate,t),t=t.return;Mt=null}}function _r(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,XE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ta=0,sh(),ie=t,Mt=a=Pi(t.current,null),Ut=n,Jt=0,Sn=null,Na=!1,gr=Fn(t,n),Wf=!1,pr=bn=th=Ds=Ia=ge=0,dn=Ul=null,eh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-pe(l),h=1<<c;n|=t[c],l&=~h}return Wi=n,Qo(),a}function Tp(t,n){Ct=null,G.H=Cl,n===lr||n===tu?(n=Lm(),Jt=3):n===uf?(n=Lm(),Jt=4):Jt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Mt===null&&(ge=1,mu(t,Vn(n,t.current)))}function Ap(){var t=Tn.current;return t===null?!0:(Ut&4194048)===Ut?Un===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?t===Un:!1}function Sp(){var t=G.H;return G.H=Cl,t===null?Cl:t}function bp(){var t=G.A;return G.A=DE,t}function Ru(){ge=4,Na||(Ut&4194048)!==Ut&&Tn.current!==null||(gr=!0),(Ia&134217727)===0&&(Ds&134217727)===0||ie===null||Oa(ie,Ut,bn,!1)}function rh(t,n,a){var l=Yt;Yt|=2;var c=Sp(),h=bp();(ie!==t||Ut!==n)&&(bu=null,_r(t,n)),n=!1;var g=ge;t:do try{if(Jt!==0&&Mt!==null){var E=Mt,x=Sn;switch(Jt){case 8:sh(),g=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=Jt;if(Jt=0,Sn=null,vr(t,E,x,B),a&&gr){g=0;break t}break;default:B=Jt,Jt=0,Sn=null,vr(t,E,x,B)}}NE(),g=ge;break}catch(Y){Tp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Hi=_s=null,Yt=l,G.H=c,G.A=h,Mt===null&&(ie=null,Ut=0,Qo()),g}function NE(){for(;Mt!==null;)wp(Mt)}function IE(t,n){var a=Yt;Yt|=2;var l=Sp(),c=bp();ie!==t||Ut!==n?(bu=null,Su=Ue()+500,_r(t,n)):gr=Fn(t,n);t:do try{if(Jt!==0&&Mt!==null){n=Mt;var h=Sn;e:switch(Jt){case 1:Jt=0,Sn=null,vr(t,n,h,1);break;case 2:case 9:if(zm(h)){Jt=0,Sn=null,Rp(n);break}n=function(){Jt!==2&&Jt!==9||ie!==t||(Jt=7),Ri(t)},h.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:zm(h)?(Jt=0,Sn=null,Rp(n)):(Jt=0,Sn=null,vr(t,n,h,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var E=Mt;if(g?fy(g):E.stateNode.complete){Jt=0,Sn=null;var x=E.sibling;if(x!==null)Mt=x;else{var B=E.return;B!==null?(Mt=B,Du(B)):Mt=null}break e}}Jt=0,Sn=null,vr(t,n,h,5);break;case 6:Jt=0,Sn=null,vr(t,n,h,6);break;case 8:sh(),ge=6;break t;default:throw Error(r(462))}}VE();break}catch(Y){Tp(t,Y)}while(!0);return Hi=_s=null,G.H=l,G.A=c,Yt=a,Mt!==null?0:(ie=null,Ut=0,Qo(),ge)}function VE(){for(;Mt!==null&&!ua();)wp(Mt)}function wp(t){var n=Xg(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?Du(t):Mt=n}function Rp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Hg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Hg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Tf(n);default:Jg(a,n),n=Mt=bm(n,Wi),n=Xg(a,n,Wi)}t.memoizedProps=t.pendingProps,n===null?Du(t):Mt=n}function vr(t,n,a,l){Hi=_s=null,Tf(n),or=null,El=0;var c=n.return;try{if(EE(t,c,n,a,Ut)){ge=1,mu(t,Vn(a,t.current)),Mt=null;return}}catch(h){if(c!==null)throw Mt=c,h;ge=1,mu(t,Vn(a,t.current)),Mt=null;return}n.flags&32768?(Bt||l===1?t=!0:gr||(Ut&536870912)!==0?t=!1:(Na=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dp(n,t)):Du(n)}function Du(t){var n=t;do{if((n.flags&32768)!==0){Dp(n,Na);return}t=n.return;var a=SE(n.alternate,n,Wi);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=t}while(n!==null);ge===0&&(ge=5)}function Dp(t,n){do{var a=bE(t.alternate,t);if(a!==null){a.flags&=32767,Mt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Mt=t;return}Mt=t=a}while(t!==null);ge=6,Mt=null}function Cp(t,n,a,l,c,h,g,E,x){t.cancelPendingCommit=null;do Cu();while(Me!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=Yc,jc(t,a,h,g,E,x),t===ie&&(Mt=ie=null,Ut=0),yr=n,Ma=t,ta=a,nh=h,ih=c,yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,UE(ca,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=st.p,st.p=2,g=Yt,Yt|=4;try{wE(t,n,a)}finally{Yt=g,st.p=c,G.T=l}}Me=1,xp(),Np(),Ip()}}function xp(){if(Me===1){Me=0;var t=Ma,n=yr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var c=Yt;Yt|=4;try{up(n,t);var h=_h,g=gm(t.containerInfo),E=h.focusedElem,x=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&mm(E.ownerDocument.documentElement,E)){if(x!==null&&qc(E)){var B=x.start,Y=x.end;if(Y===void 0&&(Y=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Y,E.value.length);else{var Z=E.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var F=P.getSelection(),ft=E.textContent.length,vt=Math.min(x.start,ft),ne=x.end===void 0?vt:Math.min(x.end,ft);!F.extend&&vt>ne&&(g=ne,ne=vt,vt=g);var U=dm(E,vt),M=dm(E,ne);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var k=Z.createRange();k.setStart(U.node,U.offset),F.removeAllRanges(),vt>ne?(F.addRange(k),F.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),F.addRange(k))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var K=Z[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Bu=!!yh,_h=yh=null}finally{Yt=c,st.p=l,G.T=a}}t.current=n,Me=2}}function Np(){if(Me===2){Me=0;var t=Ma,n=yr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var c=Yt;Yt|=4;try{ap(t,n.alternate,n)}finally{Yt=c,st.p=l,G.T=a}}Me=3}}function Ip(){if(Me===4||Me===3){Me=0,si();var t=Ma,n=yr,a=ta,l=yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,yr=Ma=null,Vp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Va=null),Li(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=st.p,st.p=2,G.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{G.T=n,st.p=c}}(ta&3)!==0&&Cu(),Ri(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ah?Ll++:(Ll=0,ah=t):Ll=0,jl(0)}}function Vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,_l(n)))}function Cu(){return xp(),Np(),Ip(),Mp()}function Mp(){if(Me!==5)return!1;var t=Ma,n=nh;nh=0;var a=Li(ta),l=G.T,c=st.p;try{st.p=32>a?32:a,G.T=null,a=ih,ih=null;var h=Ma,g=ta;if(Me=0,yr=Ma=null,ta=0,(Yt&6)!==0)throw Error(r(331));var E=Yt;if(Yt|=4,mp(h.current),fp(h,h.current,g,a),Yt=E,jl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Hn,h)}catch{}return!0}finally{st.p=c,G.T=l,Vp(t,n)}}function Op(t,n,a){n=Vn(a,n),n=Uf(t.stateNode,n,2),t=Ra(t,n,2),t!==null&&(es(t,2),Ri(t))}function $t(t,n,a){if(t.tag===3)Op(t,t,a);else for(;n!==null;){if(n.tag===3){Op(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Va===null||!Va.has(l))){t=Vn(a,t),a=zg(2),l=Ra(n,a,2),l!==null&&(Ug(a,l,n,t),es(l,2),Ri(l));break}}n=n.return}}function lh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new CE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Wf=!0,c.add(a),t=ME.bind(null,t,n,a),n.then(t,t))}function ME(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ie===t&&(Ut&a)===a&&(ge===4||ge===3&&(Ut&62914560)===Ut&&300>Ue()-Au?(Yt&2)===0&&_r(t,0):th|=a,pr===Ut&&(pr=0)),Ri(t)}function zp(t,n){n===0&&(n=bo()),t=gs(t,n),t!==null&&(es(t,n),Ri(t))}function OE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),zp(t,a)}function zE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),zp(t,a)}function UE(t,n){return St(t,n)}var xu=null,Er=null,oh=!1,Nu=!1,uh=!1,za=0;function Ri(t){t!==Er&&t.next===null&&(Er===null?xu=Er=t:Er=Er.next=t),Nu=!0,oh||(oh=!0,jE())}function jl(t,n){if(!uh&&Nu){uh=!0;do for(var a=!1,l=xu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-pe(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,kp(l,h))}else h=Ut,h=oi(l,l===ie?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Fn(l,h)||(a=!0,kp(l,h));l=l.next}while(a);uh=!1}}function LE(){Up()}function Up(){Nu=oh=!1;var t=0;za!==0&&KE()&&(t=za);for(var n=Ue(),a=null,l=xu;l!==null;){var c=l.next,h=Lp(l,n);h===0?(l.next=null,a===null?xu=c:a.next=c,c===null&&(Er=a)):(a=l,(t!==0||(h&3)!==0)&&(Nu=!0)),l=c}Me!==0&&Me!==5||jl(t),za!==0&&(za=0)}function Lp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-pe(h),E=1<<g,x=c[g];x===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Lc(E,n)):x<=n&&(t.expiredLanes|=E),h&=~E}if(n=ie,a=Ut,a=oi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ce(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ce(l),Li(a)){case 2:case 8:a=Kr;break;case 32:a=ca;break;case 268435456:a=vo;break;default:a=ca}return l=jp.bind(null,t),a=St(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ce(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=Ut;return l=oi(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(vp(t,l,n),Lp(t,Ue()),t.callbackNode!=null&&t.callbackNode===a?jp.bind(null,t):null)}function kp(t,n){if(Cu())return null;vp(t,n,!0)}function jE(){ZE(function(){(Yt&6)!==0?St(Yr,LE):Up()})}function ch(){if(za===0){var t=sr;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),za=t}return za}function Bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fs(""+t)}function Pp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function kE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Bp((c[Le]||null).action),g=l.submitter;g&&(n=(n=g[Le]||null)?Bp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new vi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(za!==0){var x=g?Pp(c,g):new FormData(c);Nf(a,{pending:!0,data:x,method:c.method,action:h},null,x)}}else typeof h=="function"&&(E.preventDefault(),x=g?Pp(c,g):new FormData(c),Nf(a,{pending:!0,data:x,method:c.method,action:h},h,x))},currentTarget:c}]})}}for(var fh=0;fh<Qc.length;fh++){var hh=Qc[fh],BE=hh.toLowerCase(),PE=hh[0].toUpperCase()+hh.slice(1);$n(BE,"on"+PE)}$n(_m,"onAnimationEnd"),$n(vm,"onAnimationIteration"),$n(Em,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(iE,"onTransitionRun"),$n(aE,"onTransitionStart"),$n(sE,"onTransitionCancel"),$n(Tm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function qp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],x=E.instance,B=E.currentTarget;if(E=E.listener,x!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(Y){Go(Y)}c.currentTarget=null,h=x}else for(g=0;g<l.length;g++){if(E=l[g],x=E.instance,B=E.currentTarget,E=E.listener,x!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(Y){Go(Y)}c.currentTarget=null,h=x}}}}function Ot(t,n){var a=n[ks];a===void 0&&(a=n[ks]=new Set);var l=t+"__bubble";a.has(l)||(Hp(n,t,2,!1),a.add(l))}function dh(t,n,a){var l=0;n&&(l|=4),Hp(a,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function mh(t){if(!t[Iu]){t[Iu]=!0,Jr.forEach(function(a){a!=="selectionchange"&&(qE.has(a)||dh(a,!1,t),dh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,dh("selectionchange",!1,n))}}function Hp(t,n,a,l){switch(_y(n)){case 2:var c=pT;break;case 8:c=yT;break;default:c=xh}a=c.bind(null,n,a,t),c=void 0,!ls||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function gh(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=h=g;continue t}E=E.parentNode}}l=l.return}pa(function(){var B=h,Y=Cn(a),Z=[];t:{var P=Am.get(t);if(P!==void 0){var F=vi,ft=t;switch(t){case"keypress":if(us(a)===0)break t;case"keydown":case"keyup":F=qo;break;case"focusin":ft="focus",F=fs;break;case"focusout":ft="blur",F=fs;break;case"beforeblur":case"afterblur":F=fs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case _m:case vm:case Em:F=zo;break;case Tm:F=T;break;case"scroll":case"scrollend":F=ul;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Bi;break;case"toggle":case"beforetoggle":F=Dt}var vt=(n&4)!==0,ne=!vt&&(t==="scroll"||t==="scrollend"),U=vt?P!==null?P+"Capture":null:P;vt=[];for(var M=B,k;M!==null;){var K=M;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||U===null||(K=Kn(M,U),K!=null&&vt.push(Bl(M,K,k))),ne)break;M=M.return}0<vt.length&&(P=new F(P,ft,null,a,Y),Z.push({event:P,listeners:vt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",P&&a!==rl&&(ft=a.relatedTarget||a.fromElement)&&(hi(ft)||ft[ci]))break t;if((F||P)&&(P=Y.window===Y?Y:(P=Y.ownerDocument)?P.defaultView||P.parentWindow:window,F?(ft=a.relatedTarget||a.toElement,F=B,ft=ft?hi(ft):null,ft!==null&&(ne=f(ft),vt=ft.tag,ft!==ne||vt!==5&&vt!==27&&vt!==6)&&(ft=null)):(F=null,ft=B),F!==ft)){if(vt=cl,K="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Bi,K="onPointerLeave",U="onPointerEnter",M="pointer"),ne=F==null?P:yn(F),k=ft==null?P:yn(ft),P=new vt(K,M+"leave",F,a,Y),P.target=ne,P.relatedTarget=k,K=null,hi(Y)===B&&(vt=new vt(U,M+"enter",ft,a,Y),vt.target=k,vt.relatedTarget=ne,K=vt),ne=K,F&&ft)e:{for(vt=HE,U=F,M=ft,k=0,K=U;K;K=vt(K))k++;K=0;for(var yt=M;yt;yt=vt(yt))K++;for(;0<k-K;)U=vt(U),k--;for(;0<K-k;)M=vt(M),K--;for(;k--;){if(U===M||M!==null&&U===M.alternate){vt=U;break e}U=vt(U),M=vt(M)}vt=null}else vt=null;F!==null&&Fp(Z,P,F,vt,!1),ft!==null&&ne!==null&&Fp(Z,ne,ft,vt,!0)}}t:{if(P=B?yn(B):window,F=P.nodeName&&P.nodeName.toLowerCase(),F==="select"||F==="input"&&P.type==="file")var Ht=lm;else if(sm(P))if(om)Ht=tE;else{Ht=$0;var dt=J0}else F=P.nodeName,!F||F.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Hs(B.elementType)&&(Ht=lm):Ht=W0;if(Ht&&(Ht=Ht(t,B))){rm(Z,Ht,a,Y);break t}dt&&dt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&il(P,"number",P.value)}switch(dt=B?yn(B):window,t){case"focusin":(sm(dt)||dt.contentEditable==="true")&&(Js=dt,Hc=B,gl=null);break;case"focusout":gl=Hc=Js=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,pm(Z,a,Y);break;case"selectionchange":if(nE)break;case"keydown":case"keyup":pm(Z,a,Y)}var Nt;if(Qt)t:{switch(t){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Zs?hs(t,a)&&(Lt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ai&&a.locale!=="ko"&&(Zs||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Zs&&(Nt=ol()):(_i=Y,ll="value"in _i?_i.value:_i.textContent,Zs=!0)),dt=Vu(B,Lt),0<dt.length&&(Lt=new Ti(Lt,t,null,a,Y),Z.push({event:Lt,listeners:dt}),Nt?Lt.data=Nt:(Nt=Xs(a),Nt!==null&&(Lt.data=Nt)))),(Nt=Nn?Y0(t,a):K0(t,a))&&(Lt=Vu(B,"onBeforeInput"),0<Lt.length&&(dt=new Ti("onBeforeInput","beforeinput",null,a,Y),Z.push({event:dt,listeners:Lt}),dt.data=Nt)),kE(Z,t,B,a,Y)}qp(Z,n)})}function Bl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Vu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Kn(t,a),c!=null&&l.unshift(Bl(t,c,h)),c=Kn(t,n),c!=null&&l.push(Bl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function HE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,x=E.alternate,B=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||B===null||(x=B,c?(B=Kn(a,h),B!=null&&g.unshift(Bl(a,B,x))):c||(B=Kn(a,h),B!=null&&g.push(Bl(a,B,x)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var FE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(FE,`
`).replace(GE,"")}function Qp(t,n){return n=Gp(n),Gp(t)===n}function ee(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&un(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":sl(t,l,h);break;case"data":if(n!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&ee(t,n,"name",c.name,c,null),ee(t,n,"formEncType",c.formEncType,c,null),ee(t,n,"formMethod",c.formMethod,c,null),ee(t,n,"formTarget",c.formTarget,c,null)):(ee(t,n,"encType",c.encType,c,null),ee(t,n,"method",c.method,c,null),ee(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Ps(t,"popover",l);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ps(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vo.get(a)||a,Ps(t,a,l))}}function ph(t,n,a,l,c,h){switch(a){case"style":sl(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Le]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ps(t,a,l)}}}function Ye(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(t,n,h,g,a,null)}}c&&ee(t,n,"srcSet",a.srcSet,a,null),l&&ee(t,n,"src",a.src,a,null);return;case"input":Ot("invalid",t);var E=h=g=c=null,x=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":g=Y;break;case"checked":x=Y;break;case"defaultChecked":B=Y;break;case"value":h=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:ee(t,n,l,Y,a,null)}}xo(t,h,E,x,B,g,c,!1);return;case"select":Ot("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ee(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?ha(t,!!l,n,!1):a!=null&&ha(t,!!l,a,!0);return;case"textarea":Ot("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ee(t,n,g,E,a,null)}da(t,l,c,h);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(t,n,x,l,a,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)Ot(kl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(t,n,B,l,a,null)}return;default:if(Hs(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&ph(t,n,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ee(t,n,E,l,a,null))}function QE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,x=null,B=null,Y=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=Z;default:l.hasOwnProperty(F)||ee(t,n,F,null,l,Z)}}for(var P in l){var F=l[P];if(Z=a[P],l.hasOwnProperty(P)&&(F!=null||Z!=null))switch(P){case"type":h=F;break;case"name":c=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Z&&ee(t,n,P,F,l,Z)}}qs(t,g,E,x,B,Y,h,c);return;case"select":F=g=E=P=null;for(h in a)if(x=a[h],a.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":F=x;default:l.hasOwnProperty(h)||ee(t,n,h,null,l,x)}for(c in l)if(h=l[c],x=a[c],l.hasOwnProperty(c)&&(h!=null||x!=null))switch(c){case"value":P=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==x&&ee(t,n,c,h,l,x)}n=E,a=g,l=F,P!=null?ha(t,!!a,P,!1):!!l!=!!a&&(n!=null?ha(t,!!a,n,!0):ha(t,!!a,a?[]:"",!1));return;case"textarea":F=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":P=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&ee(t,n,g,c,l,h)}No(t,P,F);return;case"option":for(var ft in a)if(P=a[ft],a.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:ee(t,n,ft,null,l,P)}for(x in l)if(P=l[x],F=a[x],l.hasOwnProperty(x)&&P!==F&&(P!=null||F!=null))switch(x){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:ee(t,n,x,P,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)P=a[vt],a.hasOwnProperty(vt)&&P!=null&&!l.hasOwnProperty(vt)&&ee(t,n,vt,null,l,P);for(B in l)if(P=l[B],F=a[B],l.hasOwnProperty(B)&&P!==F&&(P!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:ee(t,n,B,P,l,F)}return;default:if(Hs(n)){for(var ne in a)P=a[ne],a.hasOwnProperty(ne)&&P!==void 0&&!l.hasOwnProperty(ne)&&ph(t,n,ne,void 0,l,P);for(Y in l)P=l[Y],F=a[Y],!l.hasOwnProperty(Y)||P===F||P===void 0&&F===void 0||ph(t,n,Y,P,l,F);return}}for(var U in a)P=a[U],a.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&ee(t,n,U,null,l,P);for(Z in l)P=l[Z],F=a[Z],!l.hasOwnProperty(Z)||P===F||P==null&&F==null||ee(t,n,Z,P,l,F)}function Yp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Yp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var x=a[l],B=x.startTime;if(B>E)break;var Y=x.transferSize,Z=x.initiatorType;Y&&Yp(Z)&&(x=x.responseEnd,g+=Y*(x<E?1:(E-B)/(x-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yh=null,_h=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Eh=null;function KE(){var t=window.event;return t&&t.type==="popstate"?t===Eh?!1:(Eh=t,!0):(Eh=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,XE=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(t){return Jp.resolve(null).then(t).catch(JE)}:Zp;function JE(t){setTimeout(function(){throw t})}function Ua(t){return t==="head"}function $p(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),br(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Pl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&Pl(t.ownerDocument.body);a=c}while(a);br(n)}function Wp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Th(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Th(a),Bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $E(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function WE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function ty(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function Ah(t){return t.data==="$?"||t.data==="$~"}function Sh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bh=null;function ey(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function iy(t,n,a){switch(n=Mu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bs(t)}var jn=new Map,ay=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ea=st.d;st.d={f:eT,r:nT,D:iT,C:aT,L:sT,m:rT,X:oT,S:lT,M:uT};function eT(){var t=ea.f(),n=wu();return t||n}function nT(t){var n=Dn(t);n!==null&&n.tag===5&&n.type==="form"?Tg(n):ea.r(t)}var Tr=typeof document>"u"?null:document;function sy(t,n,a){var l=Tr;if(l&&typeof n=="string"&&n){var c=on(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ay.has(c)||(ay.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ye(n,"link",t),Se(n),l.head.appendChild(n)))}}function iT(t){ea.D(t),sy("dns-prefetch",t,null)}function aT(t,n){ea.C(t,n),sy("preconnect",t,n)}function sT(t,n,a){ea.L(t,n,a);var l=Tr;if(l&&t&&n){var c='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+on(a.imageSizes)+'"]')):c+='[href="'+on(t)+'"]';var h=c;switch(n){case"style":h=Ar(t);break;case"script":h=Sr(t)}jn.has(h)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),jn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(ql(h))||n==="script"&&l.querySelector(Hl(h))||(n=l.createElement("link"),Ye(n,"link",t),Se(n),l.head.appendChild(n)))}}function rT(t,n){ea.m(t,n);var a=Tr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Sr(t)}if(!jn.has(h)&&(t=S({rel:"modulepreload",href:t},n),jn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(h)))return}l=a.createElement("link"),Ye(l,"link",t),Se(l),a.head.appendChild(l)}}}function lT(t,n,a){ea.S(t,n,a);var l=Tr;if(l&&t){var c=di(l).hoistableStyles,h=Ar(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ql(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=jn.get(h))&&wh(t,a);var x=g=l.createElement("link");Se(x),Ye(x,"link",t),x._p=new Promise(function(B,Y){x.onload=B,x.onerror=Y}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function oT(t,n){ea.X(t,n);var a=Tr;if(a&&t){var l=di(a).hoistableScripts,c=Sr(t),h=l.get(c);h||(h=a.querySelector(Hl(c)),h||(t=S({src:t,async:!0},n),(n=jn.get(c))&&Rh(t,n),h=a.createElement("script"),Se(h),Ye(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function uT(t,n){ea.M(t,n);var a=Tr;if(a&&t){var l=di(a).hoistableScripts,c=Sr(t),h=l.get(c);h||(h=a.querySelector(Hl(c)),h||(t=S({src:t,async:!0,type:"module"},n),(n=jn.get(c))&&Rh(t,n),h=a.createElement("script"),Se(h),Ye(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ry(t,n,a,l){var c=(c=ct.current)?Ou(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ar(a.href),a=di(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ar(a.href);var h=di(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(ql(t)))&&!h._p&&(g.instance=h,g.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),h||cT(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sr(a),a=di(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ar(t){return'href="'+on(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function cT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ye(n,"link",a),Se(n),t.head.appendChild(n))}function Sr(t){return'[src="'+on(t)+'"]'}function Hl(t){return"script[async]"+t}function oy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return n.instance=l,Se(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Se(l),Ye(l,"style",c),zu(l,a.precedence,t),n.instance=l;case"stylesheet":c=Ar(a.href);var h=t.querySelector(ql(c));if(h)return n.state.loading|=4,n.instance=h,Se(h),h;l=ly(a),(c=jn.get(c))&&wh(l,c),h=(t.ownerDocument||t).createElement("link"),Se(h);var g=h;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Ye(h,"link",l),n.state.loading|=4,zu(h,a.precedence,t),n.instance=h;case"script":return h=Sr(a.src),(c=t.querySelector(Hl(h)))?(n.instance=c,Se(c),c):(l=a,(c=jn.get(h))&&(l=S({},a),Rh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Se(c),Ye(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,zu(l,a.precedence,t));return n.instance}function zu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uu=null;function uy(t,n,a){if(Uu===null){var l=new Map,c=Uu=new Map;c.set(a,l)}else c=Uu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[fi]||h[Ae]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function cy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function fT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Ar(l.href),h=n.querySelector(ql(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Lu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,Se(h);return}h=n.ownerDocument||n,l=ly(l),(c=jn.get(c))&&wh(l,c),h=h.createElement("link"),Se(h);var g=h;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Ye(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dh=0;function dT(t,n){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Dh===0&&(Dh=62500*YE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Dh?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function ku(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,n.forEach(mT,t),ju=null,Lu.call(t))}function mT(t,n){if(!(n.state.loading&4)){var a=ju.get(t);if(a)var l=a.get(null);else{a=new Map,ju.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=Lu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function gT(t,n,a,l,c,h,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function hy(t,n,a,l,c,h,g,E,x,B,Y,Z){return t=new gT(t,n,a,g,x,B,Y,Z,E),n=1,h===!0&&(n|=24),h=En(3,null,null,n),t.current=h,h.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},cf(h),t}function dy(t){return t?(t=tr,t):tr}function my(t,n,a,l,c,h){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=wa(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=Ra(t,l,n),a!==null&&(mn(a,t,n),Al(a,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ch(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13||t.tag===31){var n=gs(t,67108864);n!==null&&mn(n,t,67108864),Ch(t,67108864)}}function yy(t){if(t.tag===13||t.tag===31){var n=wn();n=is(n);var a=gs(t,n);a!==null&&mn(a,t,n),Ch(t,n)}}var Bu=!0;function pT(t,n,a,l){var c=G.T;G.T=null;var h=st.p;try{st.p=2,xh(t,n,a,l)}finally{st.p=h,G.T=c}}function yT(t,n,a,l){var c=G.T;G.T=null;var h=st.p;try{st.p=8,xh(t,n,a,l)}finally{st.p=h,G.T=c}}function xh(t,n,a,l){if(Bu){var c=Nh(l);if(c===null)gh(t,n,l,Pu,a),vy(t,l);else if(vT(c,t,n,a,l))l.stopPropagation();else if(vy(t,l),n&4&&-1<_T.indexOf(t)){for(;c!==null;){var h=Dn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=li(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-pe(g);E.entanglements[1]|=x,g&=~x}Ri(h),(Yt&6)===0&&(Su=Ue()+500,jl(0))}}break;case 31:case 13:E=gs(h,2),E!==null&&mn(E,h,2),wu(),Ch(h,2)}if(h=Nh(l),h===null&&gh(t,n,l,Pu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else gh(t,n,l,null,a)}}function Nh(t){return t=Cn(t),Ih(t)}var Pu=null;function Ih(t){if(Pu=null,t=hi(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qn()){case Yr:return 2;case Kr:return 8;case ca:case Uc:return 32;case vo:return 268435456;default:return 32}default:return 32}}var Vh=!1,La=null,ja=null,ka=null,Gl=new Map,Ql=new Map,Ba=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vy(t,n){switch(t){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Yl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Dn(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function vT(t,n,a,l,c){switch(n){case"focusin":return La=Yl(La,t,n,a,l,c),!0;case"dragenter":return ja=Yl(ja,t,n,a,l,c),!0;case"mouseover":return ka=Yl(ka,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Gl.set(h,Yl(Gl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ql.set(h,Yl(Ql.get(h)||null,t,n,a,l,c)),!0}return!1}function Ey(t){var n=hi(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Gn(t.priority,function(){yy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Gn(t.priority,function(){yy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Nh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return n=Dn(a),n!==null&&py(n),t.blockedOn=a,!1;n.shift()}return!0}function Ty(t,n,a){qu(t)&&a.delete(n)}function ET(){Vh=!1,La!==null&&qu(La)&&(La=null),ja!==null&&qu(ja)&&(ja=null),ka!==null&&qu(ka)&&(ka=null),Gl.forEach(Ty),Ql.forEach(Ty)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,Vh||(Vh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ET)))}var Fu=null;function Ay(t){Fu!==t&&(Fu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ih(l||a)===null)continue;break}var h=Dn(a);h!==null&&(t.splice(n,3),n-=3,Nf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function br(t){function n(x){return Hu(x,t)}La!==null&&Hu(La,t),ja!==null&&Hu(ja,t),ka!==null&&Hu(ka,t),Gl.forEach(n),Ql.forEach(n);for(var a=0;a<Ba.length;a++){var l=Ba[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ba.length&&(a=Ba[0],a.blockedOn===null);)Ey(a),a.blockedOn===null&&Ba.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Le]||null;if(typeof h=="function")g||Ay(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Le]||null)E=g.formAction;else if(Ih(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Ay(a)}}}function Sy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Mh(t){this._internalRoot=t}Gu.prototype.render=Mh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=wn();my(a,l,t,n,null,null)},Gu.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),wu(),n[ci]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=wo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ba.length&&n!==0&&n<Ba[a].priority;a++);Ba.splice(a,0,t),a===0&&Ey(t)}};var by=e.version;if(by!=="19.2.1")throw Error(r(527,by,"19.2.1"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var TT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Hn=Qu.inject(TT),qe=Qu}catch{}}return Xl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Ig,h=Vg,g=Mg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=hy(t,1,!1,null,null,a,l,null,c,h,g,Sy),t[ci]=n.current,mh(t),new Mh(n)},Xl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",h=Ig,g=Vg,E=Mg,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=hy(t,1,!0,n,a??null,l,c,x,h,g,E,Sy),n.context=dy(null),a=n.current,l=wn(),l=is(l),c=wa(l),c.callback=null,Ra(a,c,l),a=l,n.current.lanes=a,es(n,a),Ri(n),t[ci]=n.current,mh(t),new Gu(n)},Xl.version="19.2.1",Xl}var Oy;function IT(){if(Oy)return Uh.exports;Oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Uh.exports=NT(),Uh.exports}var VT=IT();const MT=ev(VT),ei=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),zy=s=>{const e=zT(s);return e.charAt(0).toUpperCase()+e.slice(1)},iv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),UT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Tt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:f,iconNode:d,...p},v)=>Tt.createElement("svg",{ref:v,...LT,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:iv("lucide",o),...!f&&!UT(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Tt.createElement(_,A)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(s,e)=>{const i=Tt.forwardRef(({className:r,...o},f)=>Tt.createElement(jT,{ref:f,iconNode:e,className:iv(`lucide-${OT(zy(s))}`,`lucide-${s}`,r),...o}));return i.displayName=zy(s),i};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BT=Pn("arrow-left",kT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qT=Pn("copy",PT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FT=Pn("eye",HT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QT=Pn("file-text",GT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KT=Pn("menu",YT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZT=Pn("pen-line",XT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$T=Pn("plus",JT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],t1=Pn("rotate-cw",WT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n1=Pn("square-check-big",e1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],a1=Pn("sticky-note",i1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],r1=Pn("trash-2",s1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],o1=Pn("x",l1),Pe={Menu:KT,Close:o1,Plus:$T,Trash:r1,Check:n1,File:QT,Edit:ZT,Back:BT,Copy:qT,Refresh:t1,Eye:FT,Memo:a1},u1=({isMobileOpen:s,isAlwaysOpen:e,onClose:i,documents:r,templates:o,favoriteDocId:f,onSelectDocument:d,onPreviewTemplate:p,onCreateTemplate:v,onCreateNew:_,onCreateDailyNote:A,onCreateContract:S,onCreateJangeuum:N,onDeleteDocument:H,onDeleteTemplate:it,onEditTemplate:at,onBackup:et,onRestore:tt,onSetFavoriteDocument:pt,onClearFavoriteDocument:nt,onReorderDocuments:At,onReorderTemplates:Kt})=>{const[gt,D]=Tt.useState("tasks"),[b,C]=Tt.useState(null),[z,w]=Tt.useState(null),[O,R]=Tt.useState(null),[Vt,Gt]=Tt.useState(null),[G,st]=Tt.useState(!1),mt=nv.useRef(null),It=r.filter(X=>!X.isTemplate&&!X.isDailyNote&&!X.isContract&&!X.isJangeuum),zt=r.filter(X=>!X.isTemplate&&X.isContract),V=r.filter(X=>!X.isTemplate&&X.isJangeuum),I=r.filter(X=>!X.isTemplate&&X.isDailyNote);if(!s&&!e)return null;const Q=(X,ht)=>{Gt(ht),X.dataTransfer.effectAllowed="move"},W=X=>{X.preventDefault(),X.stopPropagation(),X.dataTransfer.dropEffect="move"},lt=(X,ht)=>{if(X.preventDefault(),X.stopPropagation(),!Vt||Vt===ht.id){Gt(null);return}const xt=gt==="tasks"?It:gt==="contracts"?zt:gt==="jangeuums"?V:gt==="dailyNotes"?I:o,$e=xt.findIndex(We=>We.id===Vt),Ui=xt.findIndex(We=>We.id===ht.id);if($e===-1||Ui===-1){Gt(null);return}const sn=[...xt],[sa]=sn.splice($e,1);if(sn.splice(Ui,0,sa),gt==="tasks"||gt==="contracts"||gt==="jangeuums"||gt==="dailyNotes"){const We=r.map(St=>sn.find(ua=>ua.id===St.id)||St),ra=new Map(sn.filter(St=>!St.isDailyNote&&!St.isContract&&!St.isJangeuum).map((St,ce)=>[St.id,ce])),ai=new Map(sn.filter(St=>St.isContract).map((St,ce)=>[St.id,ce])),la=new Map(sn.filter(St=>St.isJangeuum).map((St,ce)=>[St.id,ce])),oa=new Map(sn.filter(St=>St.isDailyNote).map((St,ce)=>[St.id,ce])),de=We.sort((St,ce)=>{const ua=qn=>qn.isDailyNote?3:qn.isJangeuum?2:qn.isContract?1:0,si=ua(St),Ue=ua(ce);return si!==Ue?si-Ue:si===0?(ra.get(St.id)??0)-(ra.get(ce.id)??0):si===1?(ai.get(St.id)??0)-(ai.get(ce.id)??0):si===2?(la.get(St.id)??0)-(la.get(ce.id)??0):(oa.get(St.id)??0)-(oa.get(ce.id)??0)});At(de)}else Kt(sn);Gt(null)},ct=X=>L.jsxs("div",{draggable:!0,onDragStart:ht=>Q(ht,X.id),onDragOver:W,onDrop:ht=>lt(ht,X),onDragEnd:()=>Gt(null),className:`group bg-white p-2 rounded-lg border shadow-sm hover:shadow-md transition-all relative cursor-move ${f===X.id?"ring-2 ring-yellow-400":""} ${Vt===X.id?"opacity-50":""}`,onContextMenu:ht=>{ht.preventDefault(),w(X.id),R({x:ht.clientX,y:ht.clientY})},onTouchStart:ht=>{if(ht.touches.length>0){const xt=ht.touches[0],$e=setTimeout(()=>{w(X.id),R({x:xt.clientX,y:xt.clientY})},500);ht.target.longPressTimer=$e}},onTouchEnd:ht=>{const xt=ht.target.longPressTimer;xt&&clearTimeout(xt)},children:[L.jsxs("div",{className:"flex justify-between items-start",children:[L.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>{d(X),i()},children:L.jsx("h3",{className:"text-sm font-semibold text-gray-800 truncate",children:X.title||" "})}),L.jsx("button",{onClick:ht=>{ht.stopPropagation(),H(X.id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:L.jsx(Pe.Trash,{size:16})})]}),z===X.id&&O&&L.jsx("div",{className:"fixed bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[160px]",style:{left:`${O.x}px`,top:`${O.y}px`},onClick:()=>w(null),children:L.jsxs("button",{onClick:ht=>{ht.stopPropagation(),f===X.id?nt():pt(X.id),w(null)},className:"w-full text-left px-3 py-2 text-sm text-yellow-600 hover:bg-yellow-50 transition-colors flex items-center gap-2",children:[L.jsx("span",{className:"text-lg",children:""}),L.jsx("span",{children:f===X.id?" ":" "})]})})]},X.id);return L.jsxs("div",{className:`
      ${e?"relative flex-shrink-0 w-[250px] h-full":"fixed inset-0 z-50 flex"}
      ${!e&&!s?"transform -translate-x-full":"transform translate-x-0"}
      transition-transform duration-300 ease-in-out
    `,children:[!e&&s&&L.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:i}),L.jsxs("div",{className:`
        relative flex flex-col h-full bg-white shadow-xl
        ${e?"w-full":"w-[95%]"}
      `,children:[L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-gray-50 gap-2",children:[L.jsx("h2",{className:"text-lg font-bold text-gray-800 flex-shrink-0",children:""}),L.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[L.jsx("button",{onClick:()=>st(!G),className:"flex items-center justify-center px-2.5 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs font-medium",title:"",children:L.jsxs("span",{children:["(",o.length,")"]})}),L.jsx("button",{onClick:et,className:"flex items-center justify-center px-2 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-xs font-medium",title:"",children:L.jsx("span",{children:""})}),L.jsx("button",{onClick:()=>{var X;return(X=mt.current)==null?void 0:X.click()},className:"flex items-center justify-center px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors text-xs font-medium",title:"",children:L.jsx("span",{children:""})}),L.jsx("input",{ref:mt,type:"file",accept:".json",onChange:X=>{var xt;const ht=(xt=X.target.files)==null?void 0:xt[0];ht&&(tt(ht),X.target.value="")},className:"hidden"}),L.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-200 rounded-full flex-shrink-0",children:L.jsx(Pe.Close,{size:16})})]})]}),G&&L.jsx("div",{className:"bg-white border-b p-2 space-y-2",children:o.length===0?L.jsxs("div",{className:"text-center py-3 space-y-2",children:[L.jsx("p",{className:"text-sm text-gray-400",children:"  "}),L.jsx("button",{onClick:()=>{v(),i()},className:"w-full px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs font-medium",children:"+   "})]}):L.jsxs("div",{className:"space-y-2",children:[o.map(X=>L.jsx("div",{className:"p-2 bg-gray-50 rounded-lg border border-gray-200",children:L.jsxs("div",{className:"flex items-center justify-between gap-2",children:[L.jsxs("div",{className:"flex-1 cursor-pointer flex items-center gap-2 min-w-0",onClick:()=>{p(X),i()},children:[L.jsx(Pe.Copy,{size:14,className:"text-green-600 flex-shrink-0"}),L.jsx("span",{className:"text-xs font-medium text-gray-800 truncate",children:X.title||"( )"})]}),L.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[L.jsx("button",{onClick:ht=>{ht.stopPropagation(),at(X),i()},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"",children:L.jsx(Pe.Edit,{size:12})}),L.jsx("button",{onClick:ht=>{ht.stopPropagation(),it(X.id)},className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"",children:L.jsx(Pe.Trash,{size:12})})]})]})},X.id)),L.jsx("button",{onClick:()=>{v(),i()},className:"w-full px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs font-medium",children:"+   "})]})}),L.jsxs("div",{className:"grid grid-cols-4 gap-2 px-2 py-2 bg-gray-50 border-b",children:[L.jsx("button",{onClick:()=>{_(),i()},className:"flex items-center justify-center px-2 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs font-medium",title:"",children:L.jsx("span",{children:""})}),L.jsx("button",{onClick:()=>{S(),i()},className:"flex items-center justify-center px-2 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors text-xs font-medium",title:"",children:L.jsx("span",{children:""})}),L.jsx("button",{onClick:()=>{N(),i()},className:"flex items-center justify-center px-2 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",title:"",children:L.jsx("span",{children:""})}),L.jsx("button",{onClick:()=>{A(),i()},className:"flex items-center justify-center px-2 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-xs font-medium",title:"",children:L.jsx("span",{children:""})})]}),L.jsxs("div",{className:"flex border-b overflow-x-auto",children:[L.jsxs("button",{className:`flex-1 min-w-max px-2 py-3 text-xs font-medium ${gt==="tasks"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>D("tasks"),children:["(",It.length,")"]}),L.jsxs("button",{className:`flex-1 min-w-max px-2 py-3 text-xs font-medium ${gt==="contracts"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>D("contracts"),children:["(",zt.length,")"]}),L.jsxs("button",{className:`flex-1 min-w-max px-2 py-3 text-xs font-medium ${gt==="jangeuums"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>D("jangeuums"),children:["(",V.length,")"]}),L.jsxs("button",{className:`flex-1 min-w-max px-2 py-3 text-xs font-medium ${gt==="dailyNotes"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>D("dailyNotes"),children:["(",I.length,")"]})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50 relative",children:gt==="tasks"?L.jsxs("div",{className:"space-y-2",onDragOver:W,onDrop:X=>{X.preventDefault(),X.stopPropagation()},children:[It.length===0&&L.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),It.map(X=>ct(X))]}):gt==="contracts"?L.jsxs("div",{className:"space-y-2",onDragOver:W,onDrop:X=>{X.preventDefault(),X.stopPropagation()},children:[zt.length===0&&L.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),zt.map(X=>ct(X))]}):gt==="jangeuums"?L.jsxs("div",{className:"space-y-2",onDragOver:W,onDrop:X=>{X.preventDefault(),X.stopPropagation()},children:[V.length===0&&L.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),V.map(X=>ct(X))]}):gt==="dailyNotes"?L.jsxs("div",{className:"space-y-2",onDragOver:W,onDrop:X=>{X.preventDefault(),X.stopPropagation()},children:[I.length===0&&L.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),I.map(X=>ct(X))]}):null})]})]})},av=({isOpen:s,title:e,message:i,onConfirm:r,onClose:o})=>s?L.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[L.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px] transition-opacity animate-in fade-in duration-200",onClick:o}),L.jsxs("div",{className:"relative w-full max-w-[280px] bg-white rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 transform",children:[L.jsxs("div",{className:"p-5 text-center",children:[L.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:e}),L.jsx("p",{className:"text-sm text-gray-500 leading-relaxed break-keep",children:i})]}),L.jsxs("div",{className:"flex border-t border-gray-100",children:[L.jsx("button",{onClick:o,className:"flex-1 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors active:bg-gray-100",children:""}),L.jsx("div",{className:"w-px bg-gray-100"}),L.jsx("button",{onClick:r,className:"flex-1 py-3 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors active:bg-red-100",children:""})]})]})]}):null,c1=({isOpen:s,memo:e="",onSave:i,onDelete:r,onClose:o})=>{const[f,d]=Tt.useState(!e),[p,v]=Tt.useState(e);Tt.useEffect(()=>{v(e),d(!e)},[s,e]);const _=()=>{d(!1),p!==e&&i(p.trim())},A=N=>{N.key==="Escape"&&(v(e),d(!1))},S=()=>{confirm(" ?")&&(r(),d(!1))};return s?L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:L.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full mx-4 max-h-[90vh] h-[95vh] flex flex-col",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[L.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:""}),L.jsx("button",{onClick:o,className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:L.jsx(Pe.Close,{size:20})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col",onClick:N=>N.stopPropagation(),onDoubleClick:N=>{N.preventDefault(),N.stopPropagation()},children:f?L.jsx("textarea",{value:p,onChange:N=>v(N.target.value),onBlur:_,onKeyDown:A,onClick:N=>N.stopPropagation(),onMouseDown:N=>N.stopPropagation(),placeholder:" ... (Esc )",className:"flex-1 w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",autoFocus:!0}):L.jsx("div",{onClick:N=>N.stopPropagation(),onDoubleClick:N=>{N.preventDefault(),N.stopPropagation(),d(!0)},onMouseDown:N=>{N.detail>1&&N.preventDefault()},className:"flex-1 overflow-y-auto p-3 bg-gray-50 rounded-md whitespace-pre-wrap text-gray-700 cursor-text hover:bg-gray-100 transition-colors",children:p||"  "})}),L.jsxs("div",{className:"flex gap-2 p-4 border-t border-gray-200 flex-shrink-0",children:[p&&L.jsx("button",{onClick:S,className:"flex-1 px-3 py-2 text-gray-700 border border-red-300 text-red-600 rounded-md hover:bg-red-50 transition-colors",children:""}),L.jsx("button",{onClick:o,className:"flex-1 px-3 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:""})]})]})}):null},f1=({item:s,onToggle:e,onEdit:i,onDelete:r,onMemoOpen:o,isDragging:f,onDragStart:d,onDragOver:p,onDrop:v,onDragEnd:_,isEditing:A,onStartEdit:S,onEndEdit:N})=>{const H=Tt.useRef(null),[it,at]=Tt.useState(s.text);Tt.useEffect(()=>{A&&H.current&&(H.current.focus(),H.current.style.height="auto",H.current.style.height=`${H.current.scrollHeight}px`)},[A]),Tt.useEffect(()=>{A||at(s.text)},[s.text,A]);const et=nt=>{const At=nt.target;At.style.height="auto",At.style.height=`${At.scrollHeight}px`},tt=()=>{it.trim()!==s.text&&i(s.id,it),N(s.id)},pt=nt=>{nt.key==="Escape"&&(at(s.text),N(s.id))};return L.jsxs("div",{draggable:!0,onDragStart:nt=>{nt.stopPropagation(),d(s.id,nt)},onDragOver:nt=>{nt.preventDefault(),nt.stopPropagation(),p(nt)},onDrop:nt=>{nt.preventDefault(),nt.stopPropagation(),v(s.id,nt)},onDragEnd:nt=>{nt.stopPropagation(),_()},className:`group flex items-start gap-3 p-3 rounded-lg border shadow-sm transition-all duration-200 cursor-move select-none ${f?"opacity-50 bg-blue-50 border-blue-400":""} ${s.isChecked?"bg-gray-50 border-gray-200":"bg-white border-gray-300 hover:border-blue-400 hover:shadow-md"}`,children:[L.jsx("button",{draggable:!1,onClick:()=>e(s.id),className:`mt-0.5 flex-none transition-colors ${s.isChecked?"text-blue-500":"text-gray-400 hover:text-blue-500"}`,children:s.isChecked?L.jsx(Pe.Check,{size:20}):L.jsx("div",{className:"w-[20px] h-[20px] border-2 border-current rounded-md"})}),A?L.jsx("textarea",{draggable:!1,ref:H,className:"flex-1 bg-white text-sm resize-none outline-none h-auto min-h-[1.5rem] leading-relaxed py-0.5 px-2 border border-blue-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800 font-medium",value:it,onChange:nt=>at(nt.target.value),onInput:et,onBlur:tt,onKeyDown:pt,onClick:nt=>nt.stopPropagation(),onMouseDown:nt=>nt.stopPropagation(),rows:1,placeholder:" ..."}):L.jsx("div",{draggable:!1,onClick:nt=>nt.stopPropagation(),onDoubleClick:nt=>{nt.preventDefault(),nt.stopPropagation(),S(s.id)},onMouseDown:nt=>{nt.detail>1&&nt.preventDefault()},className:`flex-1 text-sm leading-relaxed py-0.5 px-2 rounded-md cursor-text transition-colors hover:bg-gray-100 ${s.isChecked?"line-through text-gray-400":"text-gray-800 font-medium"}`,children:s.text}),L.jsxs("div",{draggable:!1,className:"flex gap-1 flex-shrink-0",children:[L.jsx("button",{draggable:!1,onClick:()=>o(s.id),className:`p-2 ${s.memo?"text-green-500":"text-gray-400"} hover:text-blue-500 hover:bg-blue-50 rounded transition-all flex-shrink-0`,title:"",children:L.jsx(Pe.Memo,{size:18})}),L.jsx("button",{draggable:!1,onClick:()=>r(s.id),className:"p-2 text-gray-400 hover:text-white hover:bg-red-600 rounded transition-all font-semibold flex-shrink-0",title:"",children:L.jsx(Pe.Trash,{size:18})})]})]})},h1=({items:s,onChange:e})=>{const[i,r]=Tt.useState(""),[o,f]=Tt.useState(null),[d,p]=Tt.useState(!1),[v,_]=Tt.useState(null),[A,S]=Tt.useState(null),[N,H]=Tt.useState(null),it=w=>{if(w==null||w.preventDefault(),!i.trim())return;const O={id:ei(),text:i.trim(),isChecked:!1};e([...s,O]),r("")},at=w=>{const O=s.map(R=>R.id===w?{...R,isChecked:!R.isChecked}:R);e(O)},et=w=>{f(w)},tt=()=>{o&&(e(s.filter(w=>w.id!==o)),f(null))},pt=(w,O)=>{const R=s.map(Vt=>Vt.id===w?{...Vt,text:O}:Vt);e(R)},nt=w=>{_(w),p(!0)},At=w=>{if(v){const O=s.map(R=>R.id===v?{...R,memo:w||void 0}:R);e(O)}p(!1)},Kt=()=>{if(v){const w=s.map(O=>O.id===v?{...O,memo:void 0}:O);e(w)}p(!1)},gt=v?s.find(w=>w.id===v):null,D=(w,O)=>{S(w),O.dataTransfer.effectAllowed="move"},b=w=>{w.preventDefault(),w.stopPropagation(),w.dataTransfer.dropEffect="move"},C=(w,O)=>{if(O.preventDefault(),O.stopPropagation(),!A||A===w){S(null);return}const R=s.findIndex(st=>st.id===A),Vt=s.findIndex(st=>st.id===w);if(R===-1||Vt===-1){S(null);return}const Gt=[...s],[G]=Gt.splice(R,1);Gt.splice(Vt,0,G),e(Gt),S(null)},z=()=>{S(null)};return L.jsxs("div",{className:"flex flex-col h-full bg-slate-50 border-t border-gray-200",children:[L.jsx("div",{className:"px-3 py-3 border-b bg-white flex-none shadow-sm z-10",children:L.jsxs("form",{onSubmit:it,className:"flex gap-2 items-center",children:[L.jsx("div",{className:"flex-1 relative",children:L.jsx("input",{type:"text",value:i,onChange:w=>r(w.target.value),placeholder:" ...",className:"w-full pl-3 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 transition-all"})}),L.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 transition-colors flex-shrink-0 shadow-sm",children:L.jsx(Pe.Plus,{size:18})})]})}),L.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-2.5",onDragOver:b,onDrop:w=>{w.preventDefault(),w.stopPropagation()},children:[s.length===0&&L.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-gray-400",children:[L.jsx(Pe.Check,{size:28,className:"mb-2 opacity-30"}),L.jsx("span",{className:"text-sm",children:" "})]}),s.map(w=>L.jsx(f1,{item:w,onToggle:at,onEdit:pt,onDelete:et,onMemoOpen:nt,isDragging:A===w.id,onDragStart:D,onDragOver:b,onDrop:C,onDragEnd:z,isEditing:N===w.id,onStartEdit:H,onEndEdit:()=>H(null)},w.id))]}),L.jsx(av,{isOpen:!!o,title:" ",message:"   ?",onConfirm:tt,onClose:()=>f(null)}),L.jsx(c1,{isOpen:d,memo:gt==null?void 0:gt.memo,onSave:At,onDelete:Kt,onClose:()=>p(!1)})]})},d1=({isOpen:s,title:e,content:i,onClose:r,onSave:o})=>{const[f,d]=Tt.useState(e),[p,v]=Tt.useState(i),[_,A]=Tt.useState(!1),[S,N]=Tt.useState(!1);Tt.useEffect(()=>{s&&(d(e),v(i),A(!1),N(!1))},[s,e,i]);const H=()=>{A(!1),(f!==e||p!==i)&&o(f,p)},it=()=>{N(!1),(f!==e||p!==i)&&o(f,p)},at=tt=>{tt.key==="Enter"?(A(!1),(f!==e||p!==i)&&o(f,p)):tt.key==="Escape"&&(d(e),A(!1))},et=tt=>{tt.key==="Escape"&&(v(i),N(!1))};return s?L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:tt=>{tt.target===tt.currentTarget&&r()},onDoubleClick:tt=>{tt.preventDefault(),tt.stopPropagation()},children:L.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full mx-4 max-h-[90vh] h-[95vh] flex flex-col",onClick:tt=>tt.stopPropagation(),onDoubleClick:tt=>{tt.preventDefault(),tt.stopPropagation()},children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[L.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:""}),L.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:L.jsx(Pe.Close,{size:20})})]}),L.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col",onClick:tt=>tt.stopPropagation(),onDoubleClick:tt=>{tt.preventDefault(),tt.stopPropagation()},children:[L.jsx("div",{className:"mb-4 flex-shrink-0",children:_?L.jsx("input",{type:"text",value:f,onChange:tt=>d(tt.target.value),onBlur:H,onKeyDown:at,onClick:tt=>tt.stopPropagation(),onMouseDown:tt=>tt.stopPropagation(),placeholder:"",className:"w-full text-xl font-bold text-gray-800 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):L.jsx("h3",{onClick:tt=>tt.stopPropagation(),onDoubleClick:tt=>{tt.preventDefault(),tt.stopPropagation(),A(!0)},className:"text-xl font-bold text-gray-800 cursor-text hover:bg-gray-100 p-2 rounded-md transition-colors",children:f||L.jsx("span",{className:"text-gray-400",children:" "})})}),S?L.jsx("textarea",{value:p,onChange:tt=>v(tt.target.value),onBlur:it,onKeyDown:et,onClick:tt=>tt.stopPropagation(),onMouseDown:tt=>tt.stopPropagation(),placeholder:" ... (Esc )",className:"flex-1 w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",autoFocus:!0}):L.jsx(L.Fragment,{children:p?L.jsx("div",{onClick:tt=>tt.stopPropagation(),onDoubleClick:tt=>{tt.preventDefault(),tt.stopPropagation(),N(!0)},onMouseDown:tt=>{tt.detail>1&&tt.preventDefault()},className:"flex-1 overflow-y-auto text-gray-700 leading-relaxed whitespace-pre-wrap break-words text-sm cursor-text hover:bg-gray-100 p-2 rounded-md transition-colors",children:p}):L.jsxs("div",{onClick:tt=>tt.stopPropagation(),onDoubleClick:tt=>{tt.preventDefault(),tt.stopPropagation(),N(!0)},className:"flex-1 overflow-y-auto flex flex-col items-center justify-center text-center text-gray-400 cursor-text hover:bg-gray-100 p-2 rounded-md transition-colors select-none",children:[L.jsx(Pe.File,{size:48,className:"mx-auto mb-3 opacity-50"}),L.jsx("p",{className:"text-sm",children:"  "})]})})]}),L.jsx("div",{className:"flex gap-2 p-4 border-t border-gray-200 flex-shrink-0",children:L.jsx("button",{onClick:r,className:"flex-1 px-3 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:""})})]})}):null},Uy=({data:s,onSave:e,isTemplateMode:i=!1,isTemplatePreview:r=!1,sourceTemplateName:o,onCancel:f,onOpenSidebar:d,screenWidth:p,mdBreakpoint:v})=>{const[_,A]=Tt.useState(s.title),[S,N]=Tt.useState(s.content),[H,it]=Tt.useState(s.checklist),[at,et]=Tt.useState(!1),[tt,pt]=Tt.useState(s.templateCategory||"task");return Tt.useEffect(()=>{A(s.title),N(s.content),it(s.checklist),pt(s.templateCategory||"task")},[s.id]),Tt.useEffect(()=>{const nt=setTimeout(()=>{(_!==s.title||S!==s.content||JSON.stringify(H)!==JSON.stringify(s.checklist)||tt!==s.templateCategory)&&e({...s,title:_,content:S,checklist:H,templateCategory:i?tt:s.templateCategory,updatedAt:Date.now()})},1e3);return()=>clearTimeout(nt)},[_,S,H,tt,s,e,i]),L.jsxs("div",{className:"flex flex-col h-full bg-white",children:[i&&L.jsxs("div",{className:"px-3 py-2 bg-blue-50 border-b border-blue-200 flex-none",children:[L.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"  "}),L.jsxs("select",{value:tt,onChange:nt=>pt(nt.target.value),className:"w-full px-2 py-1.5 text-sm border border-blue-300 rounded bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[L.jsx("option",{value:"task",children:""}),L.jsx("option",{value:"contract",children:""}),L.jsx("option",{value:"jangeuum",children:""}),L.jsx("option",{value:"dailyNote",children:""})]})]}),L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b shadow-sm z-10 bg-white flex-none h-12",children:[L.jsxs("div",{className:"flex items-center gap-2 flex-1 mr-2 min-w-0",children:[i&&f?L.jsx("button",{onClick:f,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-600 flex-shrink-0",children:L.jsx(Pe.Back,{size:18})}):p<v&&d&&L.jsx("button",{onClick:d,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-700 flex-shrink-0",children:L.jsx(Pe.Menu,{size:18})}),L.jsx("input",{type:"text",value:_,onChange:nt=>A(nt.target.value),placeholder:i?" ":" ()",className:"text-base font-bold text-gray-800 placeholder-gray-300 outline-none bg-transparent w-full truncate leading-tight"})]}),L.jsx("button",{onClick:()=>et(!0),className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 bg-gray-100 text-gray-600 hover:bg-gray-200",title:"",children:L.jsx(Pe.Eye,{size:18})}),L.jsx("button",{onClick:()=>window.location.reload(),className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 text-gray-600 hover:bg-gray-100",title:"",children:L.jsx(Pe.Refresh,{size:18})}),f&&L.jsx("button",{onClick:f,className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 text-gray-600 hover:bg-gray-100",title:"",children:L.jsx(Pe.Back,{size:18})})]}),L.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[L.jsx("div",{className:"flex-1 flex flex-col border-b border-gray-200 relative group min-h-0 basis-1/3",children:L.jsx("textarea",{value:S,onChange:nt=>N(nt.target.value),placeholder:i?"  ...":"  ...",className:"flex-1 w-full p-3 resize-none outline-none text-gray-700 leading-relaxed text-sm"})}),L.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 min-h-0 basis-2/3",children:L.jsx(h1,{items:H,onChange:nt=>it(nt)})})]}),L.jsx(d1,{isOpen:at,title:_,content:S,onClose:()=>et(!1),onSave:(nt,At)=>{A(nt),N(At)}})]})},m1=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},g1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];e[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const f=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const f=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=f>>2,S=(f&3)<<4|p>>4;let N=(p&15)<<2|_>>6,H=_&63;v||(H=64,d||(N=64)),r.push(i[A],i[S],i[N],i[H])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(sv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):g1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||p==null||_==null||S==null)throw new p1;const N=f<<2|p>>4;if(r.push(N),_!==64){const H=p<<4&240|_>>2;if(r.push(H),S!==64){const it=_<<6&192|S;r.push(it)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class p1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y1=function(s){const e=sv(s);return rv.encodeByteArray(e,!0)},lc=function(s){return y1(s).replace(/\./g,"")},_1=function(s){try{return rv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=()=>v1().__FIREBASE_DEFAULTS__,T1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const s=Ly.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},A1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&_1(s[1]);return e&&JSON.parse(e)},Sd=()=>{try{return m1()||E1()||T1()||A1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},S1=s=>{var e,i;return(i=(e=Sd())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},b1=s=>{const e=S1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},lv=()=>{var s;return(s=Sd())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lc(JSON.stringify(i)),lc(JSON.stringify(d)),""].join(".")}const Wl={};function C1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?s.emulator.push(e):s.prod.push(e);return s}function x1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let jy=!1;function N1(s,e){if(typeof window>"u"||typeof document>"u"||!bd(window.location.host)||Wl[s]===e||Wl[s]||jy)return;Wl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",f=C1().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{jy=!0,d()},N}function A(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=x1(r),H=i("text"),it=document.getElementById(H)||document.createElement("span"),at=i("learnmore"),et=document.getElementById(at)||document.createElement("a"),tt=i("preprendIcon"),pt=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const nt=N.element;p(nt),A(et,at);const At=_();v(pt,tt),nt.append(pt,it,et,At),document.body.appendChild(nt)}f?(it.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,it.innerText="Preview backend running in this workspace."),it.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V1(){var e;const s=(e=Sd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return!V1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){try{return typeof indexedDB=="object"}catch{return!1}}function z1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)==null?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="FirebaseError";class Pr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=U1,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ov.prototype.create)}}class ov{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?L1(f,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Pr(o,p,r)}}function L1(s,e){return s.replace(j1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const j1=/\{\$([^}]+)}/g;function oc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const f=s[o],d=e[o];if(ky(f)&&ky(d)){if(!oc(f,d))return!1}else if(f!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function ky(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(s){return s&&s._delegate?s._delegate:s}class ao{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new w1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P1(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[f,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&e(f,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(s){return s===xs?void 0:s}function P1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new k1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qt||(qt={}));const H1={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},F1=qt.INFO,G1={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},Q1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=G1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uv{constructor(e){this.name=e,this._logLevel=F1,this._logHandler=Q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const Y1=(s,e)=>e.some(i=>s instanceof i);let By,Py;function K1(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X1(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cv=new WeakMap,td=new WeakMap,fv=new WeakMap,Bh=new WeakMap,wd=new WeakMap;function Z1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{i(Ha(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&cv.set(i,s)}).catch(()=>{}),wd.set(e,s),e}function J1(s){if(td.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});td.set(s,e)}let ed={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return td.get(s);if(e==="objectStoreNames")return s.objectStoreNames||fv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ha(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function $1(s){ed=s(ed)}function W1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Ph(this),e,...i);return fv.set(r,e.sort?e.sort():[e]),Ha(r)}:X1().includes(s)?function(...e){return s.apply(Ph(this),e),Ha(cv.get(this))}:function(...e){return Ha(s.apply(Ph(this),e))}}function tA(s){return typeof s=="function"?W1(s):(s instanceof IDBTransaction&&J1(s),Y1(s,K1())?new Proxy(s,ed):s)}function Ha(s){if(s instanceof IDBRequest)return Z1(s);if(Bh.has(s))return Bh.get(s);const e=tA(s);return e!==s&&(Bh.set(s,e),wd.set(e,s)),e}const Ph=s=>wd.get(s);function eA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:f}={}){const d=indexedDB.open(s,e),p=Ha(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ha(d.result),v.oldVersion,v.newVersion,Ha(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const nA=["get","getKey","getAll","getAllKeys","count"],iA=["put","add","delete","clear"],qh=new Map;function qy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=iA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||nA.includes(i)))return;const f=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return qh.set(e,f),f}$1(s=>({...s,get:(e,i,r)=>qy(e,i)||s.get(e,i,r),has:(e,i)=>!!qy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(sA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function sA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nd="@firebase/app",Hy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new uv("@firebase/app"),rA="@firebase/app-compat",lA="@firebase/analytics-compat",oA="@firebase/analytics",uA="@firebase/app-check-compat",cA="@firebase/app-check",fA="@firebase/auth",hA="@firebase/auth-compat",dA="@firebase/database",mA="@firebase/data-connect",gA="@firebase/database-compat",pA="@firebase/functions",yA="@firebase/functions-compat",_A="@firebase/installations",vA="@firebase/installations-compat",EA="@firebase/messaging",TA="@firebase/messaging-compat",AA="@firebase/performance",SA="@firebase/performance-compat",bA="@firebase/remote-config",wA="@firebase/remote-config-compat",RA="@firebase/storage",DA="@firebase/storage-compat",CA="@firebase/firestore",xA="@firebase/ai",NA="@firebase/firestore-compat",IA="firebase",VA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",MA={[nd]:"fire-core",[rA]:"fire-core-compat",[oA]:"fire-analytics",[lA]:"fire-analytics-compat",[cA]:"fire-app-check",[uA]:"fire-app-check-compat",[fA]:"fire-auth",[hA]:"fire-auth-compat",[dA]:"fire-rtdb",[mA]:"fire-data-connect",[gA]:"fire-rtdb-compat",[pA]:"fire-fn",[yA]:"fire-fn-compat",[_A]:"fire-iid",[vA]:"fire-iid-compat",[EA]:"fire-fcm",[TA]:"fire-fcm-compat",[AA]:"fire-perf",[SA]:"fire-perf-compat",[bA]:"fire-rc",[wA]:"fire-rc-compat",[RA]:"fire-gcs",[DA]:"fire-gcs-compat",[CA]:"fire-fst",[NA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,OA=new Map,ad=new Map;function Fy(s,e){try{s.container.addComponent(e)}catch(i){na.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function cc(s){const e=s.name;if(ad.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,s);for(const i of uc.values())Fy(i,s);for(const i of OA.values())Fy(i,s);return!0}function zA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function UA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new ov("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=VA;function hv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:id,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Fa.create("bad-app-name",{appName:String(o)});if(i||(i=lv()),!i)throw Fa.create("no-options");const f=uc.get(o);if(f){if(oc(i,f.options)&&oc(r,f.config))return f;throw Fa.create("duplicate-app",{appName:o})}const d=new q1(o);for(const v of ad.values())d.addComponent(v);const p=new jA(i,r,d);return uc.set(o,p),p}function BA(s=id){const e=uc.get(s);if(!e&&s===id&&lv())return hv();if(!e)throw Fa.create("no-app",{appName:s});return e}function xr(s,e,i){let r=MA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(d.join(" "));return}cc(new ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebase-heartbeat-database",qA=1,so="firebase-heartbeat-store";let Hh=null;function dv(){return Hh||(Hh=eA(PA,qA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(s=>{throw Fa.create("idb-open",{originalErrorMessage:s.message})})),Hh}async function HA(s){try{const i=(await dv()).transaction(so),r=await i.objectStore(so).get(mv(s));return await i.done,r}catch(e){if(e instanceof Pr)na.warn(e.message);else{const i=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});na.warn(i.message)}}}async function Gy(s,e){try{const r=(await dv()).transaction(so,"readwrite");await r.objectStore(so).put(e,mv(s)),await r.done}catch(i){if(i instanceof Pr)na.warn(i.message);else{const r=Fa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});na.warn(r.message)}}}function mv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=1024,GA=30;class QA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new KA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Qy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>GA){const d=XA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){na.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qy(),{heartbeatsToSend:r,unsentEntries:o}=YA(this._heartbeatsCache.heartbeats),f=lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return na.warn(i),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function YA(s,e=FA){const i=[];let r=s.slice();for(const o of s){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Yy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O1()?z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await HA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yy(s){return lc(JSON.stringify({version:2,heartbeats:s})).length}function XA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(s){cc(new ao("platform-logger",e=>new aA(e),"PRIVATE")),cc(new ao("heartbeat",e=>new QA(e),"PRIVATE")),xr(nd,Hy,s),xr(nd,Hy,"esm2020"),xr("fire-js","")}ZA("");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ga,gv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function C(){}C.prototype=b.prototype,D.F=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(z,w,O){for(var R=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)R[Vt-2]=arguments[Vt];return b.prototype[w].apply(z,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,C){C||(C=0);const z=Array(16);if(typeof b=="string")for(var w=0;w<16;++w)z[w]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(w=0;w<16;++w)z[w]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],w=D.g[2];let O=D.g[3],R;R=b+(O^C&(w^O))+z[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=O+(w^b&(C^w))+z[1]+3905402710&4294967295,O=b+(R<<12&4294967295|R>>>20),R=w+(C^O&(b^C))+z[2]+606105819&4294967295,w=O+(R<<17&4294967295|R>>>15),R=C+(b^w&(O^b))+z[3]+3250441966&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(O^C&(w^O))+z[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=O+(w^b&(C^w))+z[5]+1200080426&4294967295,O=b+(R<<12&4294967295|R>>>20),R=w+(C^O&(b^C))+z[6]+2821735955&4294967295,w=O+(R<<17&4294967295|R>>>15),R=C+(b^w&(O^b))+z[7]+4249261313&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(O^C&(w^O))+z[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=O+(w^b&(C^w))+z[9]+2336552879&4294967295,O=b+(R<<12&4294967295|R>>>20),R=w+(C^O&(b^C))+z[10]+4294925233&4294967295,w=O+(R<<17&4294967295|R>>>15),R=C+(b^w&(O^b))+z[11]+2304563134&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(O^C&(w^O))+z[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=O+(w^b&(C^w))+z[13]+4254626195&4294967295,O=b+(R<<12&4294967295|R>>>20),R=w+(C^O&(b^C))+z[14]+2792965006&4294967295,w=O+(R<<17&4294967295|R>>>15),R=C+(b^w&(O^b))+z[15]+1236535329&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(w^O&(C^w))+z[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^w&(b^C))+z[6]+3225465664&4294967295,O=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(O^b))+z[11]+643717713&4294967295,w=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(w^O))+z[0]+3921069994&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^O&(C^w))+z[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^w&(b^C))+z[10]+38016083&4294967295,O=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(O^b))+z[15]+3634488961&4294967295,w=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(w^O))+z[4]+3889429448&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^O&(C^w))+z[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^w&(b^C))+z[14]+3275163606&4294967295,O=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(O^b))+z[3]+4107603335&4294967295,w=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(w^O))+z[8]+1163531501&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^O&(C^w))+z[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=O+(C^w&(b^C))+z[2]+4243563512&4294967295,O=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(O^b))+z[7]+1735328473&4294967295,w=O+(R<<14&4294967295|R>>>18),R=C+(O^b&(w^O))+z[12]+2368359562&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(C^w^O)+z[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^w)+z[8]+2272392833&4294967295,O=b+(R<<11&4294967295|R>>>21),R=w+(O^b^C)+z[11]+1839030562&4294967295,w=O+(R<<16&4294967295|R>>>16),R=C+(w^O^b)+z[14]+4259657740&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^O)+z[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^w)+z[4]+1272893353&4294967295,O=b+(R<<11&4294967295|R>>>21),R=w+(O^b^C)+z[7]+4139469664&4294967295,w=O+(R<<16&4294967295|R>>>16),R=C+(w^O^b)+z[10]+3200236656&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^O)+z[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^w)+z[0]+3936430074&4294967295,O=b+(R<<11&4294967295|R>>>21),R=w+(O^b^C)+z[3]+3572445317&4294967295,w=O+(R<<16&4294967295|R>>>16),R=C+(w^O^b)+z[6]+76029189&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^O)+z[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=O+(b^C^w)+z[12]+3873151461&4294967295,O=b+(R<<11&4294967295|R>>>21),R=w+(O^b^C)+z[15]+530742520&4294967295,w=O+(R<<16&4294967295|R>>>16),R=C+(w^O^b)+z[2]+3299628645&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(w^(C|~O))+z[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~w))+z[7]+1126891415&4294967295,O=b+(R<<10&4294967295|R>>>22),R=w+(b^(O|~C))+z[14]+2878612391&4294967295,w=O+(R<<15&4294967295|R>>>17),R=C+(O^(w|~b))+z[5]+4237533241&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~O))+z[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~w))+z[3]+2399980690&4294967295,O=b+(R<<10&4294967295|R>>>22),R=w+(b^(O|~C))+z[10]+4293915773&4294967295,w=O+(R<<15&4294967295|R>>>17),R=C+(O^(w|~b))+z[1]+2240044497&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~O))+z[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~w))+z[15]+4264355552&4294967295,O=b+(R<<10&4294967295|R>>>22),R=w+(b^(O|~C))+z[6]+2734768916&4294967295,w=O+(R<<15&4294967295|R>>>17),R=C+(O^(w|~b))+z[13]+1309151649&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~O))+z[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=O+(C^(b|~w))+z[11]+3174756917&4294967295,O=b+(R<<10&4294967295|R>>>22),R=w+(b^(O|~C))+z[2]+718787259&4294967295,w=O+(R<<15&4294967295|R>>>17),R=C+(O^(w|~b))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(w+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+w&4294967295,D.g[3]=D.g[3]+O&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const C=b-this.blockSize,z=this.C;let w=this.h,O=0;for(;O<b;){if(w==0)for(;O<=C;)o(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<b;)if(z[w++]=D.charCodeAt(O++),w==this.blockSize){o(this,z),w=0;break}}else for(;O<b;)if(z[w++]=D[O++],w==this.blockSize){o(this,z),w=0;break}}this.h=w,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,C=0;C<4;++C)for(let z=0;z<32;z+=8)D[b++]=this.g[C]>>>z&255;return D};function f(D,b){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function d(D,b){this.h=b;const C=[];let z=!0;for(let w=D.length-1;w>=0;w--){const O=D[w]|0;z&&O==b||(C[w]=O,z=!1)}this.g=C}var p={};function v(D){return-128<=D&&D<128?f(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return et(_(-D));const b=[];let C=1;for(let z=0;D>=C;z++)b[z]=D/C|0,C*=4294967296;return new d(b,0)}function A(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return et(A(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let z=S;for(let O=0;O<D.length;O+=8){var w=Math.min(8,D.length-O);const R=parseInt(D.substring(O,O+w),b);w<8?(w=_(Math.pow(b,w)),z=z.j(w).add(_(R))):(z=z.j(C),z=z.add(_(R)))}return z}var S=v(0),N=v(1),H=v(16777216);s=d.prototype,s.m=function(){if(at(this))return-et(this).m();let D=0,b=1;for(let C=0;C<this.g.length;C++){const z=this.i(C);D+=(z>=0?z:4294967296+z)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(it(this))return"0";if(at(this))return"-"+et(this).toString(D);const b=_(Math.pow(D,6));var C=this;let z="";for(;;){const w=At(C,b).g;C=tt(C,w.j(b));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=w,it(C))return O+z;for(;O.length<6;)O="0"+O;z=O+z}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function it(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function at(D){return D.h==-1}s.l=function(D){return D=tt(this,D),at(D)?-1:it(D)?0:1};function et(D){const b=D.g.length,C=[];for(let z=0;z<b;z++)C[z]=~D.g[z];return new d(C,~D.h).add(N)}s.abs=function(){return at(this)?et(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),C=[];let z=0;for(let w=0;w<=b;w++){let O=z+(this.i(w)&65535)+(D.i(w)&65535),R=(O>>>16)+(this.i(w)>>>16)+(D.i(w)>>>16);z=R>>>16,O&=65535,R&=65535,C[w]=R<<16|O}return new d(C,C[C.length-1]&-2147483648?-1:0)};function tt(D,b){return D.add(et(b))}s.j=function(D){if(it(this)||it(D))return S;if(at(this))return at(D)?et(this).j(et(D)):et(et(this).j(D));if(at(D))return et(this.j(et(D)));if(this.l(H)<0&&D.l(H)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,C=[];for(var z=0;z<2*b;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(let w=0;w<D.g.length;w++){const O=this.i(z)>>>16,R=this.i(z)&65535,Vt=D.i(w)>>>16,Gt=D.i(w)&65535;C[2*z+2*w]+=R*Gt,pt(C,2*z+2*w),C[2*z+2*w+1]+=O*Gt,pt(C,2*z+2*w+1),C[2*z+2*w+1]+=R*Vt,pt(C,2*z+2*w+1),C[2*z+2*w+2]+=O*Vt,pt(C,2*z+2*w+2)}for(D=0;D<b;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=b;D<2*b;D++)C[D]=0;return new d(C,0)};function pt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function nt(D,b){this.g=D,this.h=b}function At(D,b){if(it(b))throw Error("division by zero");if(it(D))return new nt(S,S);if(at(D))return b=At(et(D),b),new nt(et(b.g),et(b.h));if(at(b))return b=At(D,et(b)),new nt(et(b.g),b.h);if(D.g.length>30){if(at(D)||at(b))throw Error("slowDivide_ only works with positive integers.");for(var C=N,z=b;z.l(D)<=0;)C=Kt(C),z=Kt(z);var w=gt(C,1),O=gt(z,1);for(z=gt(z,2),C=gt(C,2);!it(z);){var R=O.add(z);R.l(D)<=0&&(w=w.add(C),O=R),z=gt(z,1),C=gt(C,1)}return b=tt(D,w.j(b)),new nt(w,b)}for(w=S;D.l(b)>=0;){for(C=Math.max(1,Math.floor(D.m()/b.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),O=_(C),R=O.j(b);at(R)||R.l(D)>0;)C-=z,O=_(C),R=O.j(b);it(O)&&(O=N),w=w.add(O),D=tt(D,R)}return new nt(w,D)}s.B=function(D){return At(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let z=0;z<b;z++)C[z]=this.i(z)&D.i(z);return new d(C,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let z=0;z<b;z++)C[z]=this.i(z)|D.i(z);return new d(C,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let z=0;z<b;z++)C[z]=this.i(z)^D.i(z);return new d(C,this.h^D.h)};function Kt(D){const b=D.g.length+1,C=[];for(let z=0;z<b;z++)C[z]=D.i(z)<<1|D.i(z-1)>>>31;return new d(C,D.h)}function gt(D,b){const C=b>>5;b%=32;const z=D.g.length-C,w=[];for(let O=0;O<z;O++)w[O]=b>0?D.i(O+C)>>>b|D.i(O+C+1)<<32-b:D.i(O+C);return new d(w,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ga=d}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pv,Zl,yv,ec,sd,_v,vv,Ev;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in y))break t;y=y[j]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,j,q){for(var rt=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)rt[Dt-2]=arguments[Dt];return m.prototype[j].apply(T,rt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function it(u,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var y=typeof j;if(y=y!="object"?y:j?Array.isArray(j)?"array":y:"null",y=="array"||y=="object"&&typeof j.length=="number"){y=u.length||0;const q=j.length||0;u.length=y+q;for(let rt=0;rt<q;rt++)u[y+rt]=j[rt]}else u.push(j)}}class at{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function tt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,y){const T=nt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var nt=new at(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,gt=!1,D=new pt,b=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(C)}};function C(){for(var u;u=tt();){try{u.h.call(u.g)}catch(y){et(y)}var m=nt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}gt=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Vt(u,m){w.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Vt,w),Vt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Vt.Z.h.call(this)},Vt.prototype.h=function(){Vt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(u,m,y,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=j,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function zt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(u,m){let y,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(y in T)u[y]=T[y];for(let q=0;q<I.length;q++)y=I[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,y,T,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const rt=ct(u,m,T,j);return rt>-1?(m=u[rt],y||(m.fa=!1)):(m=new st(m,this.src,q,!!T,j),m.fa=y,u.push(m)),m};function lt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],j=Array.prototype.indexOf.call(T,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(T,j,1),q&&(mt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ct(u,m,y,T){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return j}return-1}var X="closure_lm_"+(Math.random()*1e6|0),ht={};function xt(u,m,y,T,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)xt(u,m[q],y,T,j);return null}return y=oa(y),u&&u[Gt]?u.J(m,y,p(T)?!!T.capture:!1,j):$e(u,m,y,!1,T,j)}function $e(u,m,y,T,j,q){if(!m)throw Error("Invalid event type");const rt=p(j)?!!j.capture:!!j;let Dt=ai(u);if(Dt||(u[X]=Dt=new W(u)),y=Dt.add(m,y,T,rt,q),y.proxy)return y;if(T=Ui(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)O||(j=rt),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(We(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ui(){function u(y){return m.call(u.src,u.listener,y)}const m=ra;return u}function sn(u,m,y,T,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)sn(u,m[q],y,T,j);else T=p(T)?!!T.capture:!!T,y=oa(y),u&&u[Gt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=ct(m,y,T,j),y>-1&&(mt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,y,T,j)),(y=u>-1?m[u]:null)&&sa(y))}function sa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Gt])lt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(We(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ai(m))?(lt(y,u),y.h==0&&(y.src=null,m[X]=null)):mt(u)}}}function We(u){return u in ht?ht[u]:ht[u]="on"+u}function ra(u,m){if(u.da)u=!0;else{m=new Vt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&sa(u),u=y.call(T,m)}return u}function ai(u){return u=u[X],u instanceof W?u:null}var la="__closure_events_fn_"+(Math.random()*1e9>>>0);function oa(u){return typeof u=="function"?u:(u[la]||(u[la]=function(m){return u.handleEvent(m)}),u[la])}function de(){z.call(this),this.i=new W(this),this.M=this,this.G=null}S(de,z),de.prototype[Gt]=!0,de.prototype.removeEventListener=function(u,m,y,T){sn(this,u,m,y,T)};function St(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new w(m,u);else if(m instanceof w)m.target=m.target||u;else{var j=m;m=new w(T,u),Q(m,j)}j=!0;let q,rt;if(y)for(rt=y.length-1;rt>=0;rt--)q=m.g=y[rt],j=ce(q,T,!0,m)&&j;if(q=m.g=u,j=ce(q,T,!0,m)&&j,j=ce(q,T,!1,m)&&j,y)for(rt=0;rt<y.length;rt++)q=m.g=y[rt],j=ce(q,T,!1,m)&&j}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)mt(y[T]);delete u.g[m],u.h--}}this.G=null},de.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},de.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ce(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const rt=m[q];if(rt&&!rt.da&&rt.capture==y){const Dt=rt.listener,ye=rt.ha||rt.src;rt.fa&&lt(u.i,rt),j=Dt.call(ye,T)!==!1&&j}}return j&&!T.defaultPrevented}function ua(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function si(u){u.g=ua(()=>{u.g=null,u.i&&(u.i=!1,si(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ue extends z{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(u){z.call(this),this.h=u,this.g={}}S(qn,z);var Yr=[];function Kr(u){It(u.g,function(m,y){this.g.hasOwnProperty(y)&&sa(m)},u),u.g={}}qn.prototype.N=function(){qn.Z.N.call(this),Kr(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=d.JSON.stringify,Uc=d.JSON.parse,vo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Eo(){}function To(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){w.call(this,"d")}S(qe,w);function Rn(){w.call(this,"c")}S(Rn,w);var pe={},Ao=null;function js(){return Ao=Ao||new de}pe.Ia="serverreachability";function So(u){w.call(this,pe.Ia,u)}S(So,w);function ri(u){const m=js();St(m,new So(m))}pe.STAT_EVENT="statevent";function ts(u,m){w.call(this,pe.STAT_EVENT,u),this.stat=m}S(ts,w);function Te(u){const m=js();St(m,new ts(m,u))}pe.Ja="timingevent";function li(u,m){w.call(this,pe.Ja,u),this.size=m}S(li,w);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Lc(u,m,y,T,j,q){u.info(function(){if(u.g)if(q){var rt="",Dt=q.split("&");for(let Qt=0;Qt<Dt.length;Qt++){var ye=Dt[Qt].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const Nn=oe.split("_");rt=Nn.length>=2&&Nn[1]=="type"?rt+(oe+"="+ye+"&"):rt+(oe+"=redacted&")}}}else rt=null;else rt=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+y+`
`+rt})}function bo(u,m,y,T,j,q,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+y+`
`+q+" "+rt})}function ui(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jc(u,y)+(T?" "+T:"")})}function es(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function jc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return ca(q)}catch{return m}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zr;function is(){}S(is,Eo),is.prototype.g=function(){return new XMLHttpRequest},Zr=new is;function Li(u){return encodeURIComponent(String(u))}function wo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Gn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Ae={},Le={};function ci(u,m,y){u.M=1,u.A=as(be(m)),u.u=y,u.R=!0,ks(u,null)}function ks(u,m){u.F=Date.now(),fi(u),u.B=be(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Hs(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Qn,u.g=Bo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ue(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Yr[0]=j.toString()),j=Yr);for(let q=0;q<j.length;q++){const rt=xt(y,j[q],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Lc(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Dt=Xn(this.g),ye=this.g.ya(),Qt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Dt!=4||ye==7||(ye==8||Qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var y=kc(this);if(this.o=m==200,bo(this.i,this.v,this.B,this.l,this.S,Dt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Te(12),yn(this),Dn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<y.length;)if(oe=Do(this,y),oe==Le){Dt==4&&(this.m=4,Te(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ae){this.m=4,Te(15),ui(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,oe,null),di(this,oe);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||y.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,y,"[Invalid Chunked Response]"),yn(this),Dn(this);else if(y.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),fl(rt),rt.P=!0,Te(11))}}else ui(this.i,this.l,y,null),di(this,y);Dt==4&&yn(this),this.o&&!this.K&&(Dt==4?Uo(this.j,this):(this.o=!1,fi(this)))}else ki(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),yn(this),Dn(this)}}}catch{}finally{}};function kc(u){if(!Ro(u))return u.g.la();const m=He(u.g);if(m==="")return"";let y="";const T=m.length,j=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(j&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Ro(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Do(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Le:(y=Number(m.substring(y,T)),isNaN(y)?Ae:(T+=1,T+y>m.length?Le:(m=m.slice(T,T+y),u.C=T+y,m)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function fi(u){u.T=Date.now()+u.H,Bs(u,u.H)}function Bs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(_(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(es(this.i,this.B),this.M!=2&&(ri(),Te(17)),yn(this),this.m=2,Dn(this)):Bs(this,this.T-u)};function Dn(u){u.j.I==0||u.K||Uo(u.j,u)}function yn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Kr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||gi(y.h,u))){if(!u.L&&gi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Ks(y),_a(y);else break t;fs(y),Te(18)}}else y.xa=j[1],0<y.xa-y.K&&j[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=oi(_(y.Va,y),6e3));mi(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ti(y,11)}else if((u.L||y.g==u)&&Ks(y),!R(m))for(j=y.Ba.g.parse(m),m=0;m<j.length;m++){let Qt=j[m];const oe=Qt[0];if(!(oe<=y.K))if(y.K=oe,Qt=Qt[1],y.I==2)if(Qt[0]=="c"){y.M=Qt[1],y.ba=Qt[2];const Nn=Qt[3];Nn!=null&&(y.ka=Nn,y.j.info("VER="+y.ka));const Ai=Qt[4];Ai!=null&&(y.za=Ai,y.j.info("SVER="+y.za));const Zn=Qt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Jn=u.g;if(Jn){const hs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var q=T.h;q.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Wr(q,q.h),q.h=null))}if(T.G){const Xs=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xs&&(T.wa=Xs,Zt(T.J,T.G,Xs))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var rt=u;if(T.na=ko(T,T.L?T.ba:null,T.W),rt.L){tl(T.h,rt);var Dt=rt,ye=T.O;ye&&(Dt.H=ye),Dt.D&&(hi(Dt),fi(Dt)),T.g=rt}else Oo(T);y.i.length>0&&Ei(y)}else Qt[0]!="stop"&&Qt[0]!="close"||Ti(y,7);else y.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ti(y,7):ul(y):Qt[0]!="noop"&&y.l&&y.l.qa(Qt),y.A=0)}}ri(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function Jr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Wr(u,m){u.g?u.g.add(m):u.h=m}function tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Jr.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function el(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return H(u.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let j,q=null;T>=0?(j=u[y].substring(0,T),q=u[y].substring(T+1)):j=u[y],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,fa(this,u.u),this.h=u.h,nl(this,Vo(u.i)),this.m=u.m):u&&(m=String(u).match(Co))?(this.l=!1,je(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),fa(this,m[4]),this.h=pi(m[5]||"",!0),nl(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new da(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ss(m,qs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,qs,!0),"@"),u.push(Li(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ss(y,y.charAt(0)=="/"?il:xo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ss(y,No)),u.join("")},_n.prototype.resolve=function(u){const m=be(this);let y=!!u.j;y?je(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)fa(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let rt=0;rt<j.length;){const Dt=j[rt++];Dt=="."?T&&rt==j.length&&q.push(""):Dt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&rt==j.length&&q.push("")):(q.push(Dt),T=!0)}T=q.join("/")}else T=j}return y?m.h=T:y=u.i.toString()!=="",y?nl(m,Vo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function be(u){return new _n(u)}function je(u,m,y){u.j=y?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fa(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function nl(u,m,y){m instanceof da?(u.i=m,Fs(u.i,u.l)):(y||(m=ss(m,ha)),u.i=new da(m,u.l))}function Zt(u,m,y){u.i.set(m,y)}function as(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,on),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,xo=/[#\?:]/g,il=/[#\?]/g,ha=/[#\?@]/g,No=/#/g;function da(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&Ps(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=da.prototype,s.add=function(u,m){un(this),this.i=null,u=ma(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Io(u,m){un(u),m=ma(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function al(u,m){return un(u),m=ma(u,m),u.g.has(m)}s.forEach=function(u,m){un(this),this.g.forEach(function(y,T){y.forEach(function(j){u.call(m,j,T,this)},this)},this)};function sl(u,m){un(u);let y=[];if(typeof m=="string")al(u,m)&&(y=y.concat(u.g.get(ma(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return un(this),this.i=null,u=ma(this,u),al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=sl(this,u),u.length>0?String(u[0]):m):m};function Hs(u,m,y){Io(u,m),y.length>0&&(u.i=null,u.g.set(ma(u,m),H(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const j=Li(y);y=sl(this,y);for(let q=0;q<y.length;q++){let rt=j;y[q]!==""&&(rt+="="+Li(y[q])),u.push(rt)}}return this.i=u.join("&")};function Vo(u){const m=new da;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ma(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fs(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(y,T){const j=T.toLowerCase();T!=j&&(Io(this,T),Hs(this,j,y))},u)),u.j=m}function Yn(u,m){const y=new Fn;if(d.Image){const T=new Image;T.onload=A(Cn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Cn,y,"TestLoadImage: error",!1,m,T),T.onabort=A(Cn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Cn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function rl(u,m){const y=new Fn,T=new AbortController,j=setTimeout(()=>{T.abort(),Cn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?Cn(y,"TestPingServer: ok",!0,m):Cn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Cn(y,"TestPingServer: error",!1,m)})}function Cn(u,m,y,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(y)}catch{}}function ga(){this.g=new vo}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(yi,Eo),yi.prototype.g=function(){return new rs(this.i,this.h)};function rs(u,m){de.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(rs,de),s=rs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pa(this):Kn(this),this.readyState==3&&Gs(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,pa(this))},s.Na=function(u){this.g&&(this.response=u,pa(this))},s.ga=function(){this.g&&pa(this)};function pa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return It(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function ls(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=xn(y),typeof u=="string"?y!=null&&Li(y):Zt(u,m,y))}function Wt(u){de.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Wt,de);var _i=/^https?$/i,ll=["POST","PUT"];s=Wt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zr.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){os(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)y.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ll,m,void 0)>=0)||T||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,rt]of y)this.g.setRequestHeader(q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){os(this,q)}};function os(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ol(u),ji(u)}function ol(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Wt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?us(this):this.Xa())},s.Xa=function(){us(this)};function us(u){if(u.h&&typeof f<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let rt=String(u.D).match(Co)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!_i.test(rt?rt.toLowerCase():"")}y=T}if(y)St(u,"complete"),St(u,"success");else{u.o=6;try{var j=Xn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",ol(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||St(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uc(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=wo(u[T]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[j]||[];m[j]=q,q.push(y)}zt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ya(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Jr(u&&u.concurrentRequestLimit),this.Ba=new ga,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ya.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){Te(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=ko(this,null,this.W),Ei(this)};function ul(u){if(Qs(u),u.I==3){var m=u.V++,y=be(u.J);if(Zt(y,"SID",u.M),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),cs(u,y),m=new Gn(u,u.j,m),m.M=2,m.A=as(be(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Bo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}jo(u)}function _a(u){u.g&&(fl(u),u.g.cancel(),u.g=null)}function Qs(u){_a(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ks(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!$r(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||b(),gt||(Kt(),gt=!0),D.add(m,u),u.D=0}}function Ys(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(_(u.Ea,u,m),Lo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Gn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),Q(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Mo(this,j,m),y=be(this.J),Zt(y,"RID",u),Zt(y,"CVER",22),this.G&&Zt(y,"X-HTTP-Session-Id",this.G),cs(this,y),q&&(this.R?m="headers="+Li(xn(q))+"&"+m:this.u&&ls(y,this.u,q)),Wr(this.h,j),this.Ra&&Zt(y,"TYPE","init"),this.S?(Zt(y,"$req",m),Zt(y,"SID","null"),j.U=!0,ci(j,y,null)):ci(j,y,m),this.I=2}}else this.I==3&&(u?cl(this,u):this.i.length==0||$r(this.h)||cl(this))};function cl(u,m){var y;m?y=m.l:y=u.V++;const T=be(u.J);Zt(T,"SID",u.M),Zt(T,"RID",y),Zt(T,"AID",u.K),cs(u,T),u.u&&u.o&&ls(T,u.u,u.o),y=new Gn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Mo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Wr(u.h,y),ci(y,T,m)}function cs(u,m){u.H&&It(u.H,function(y,T){Zt(m,T,y)}),u.l&&It({},function(y,T){Zt(m,T,y)})}function Mo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var j=u.i;let Dt=-1;for(;;){const ye=["count="+y];Dt==-1?y>0?(Dt=j[0].g,ye.push("ofs="+Dt)):Dt=0:ye.push("ofs="+Dt);let Qt=!0;for(let oe=0;oe<y;oe++){var q=j[oe].g;const Nn=j[oe].map;if(q-=Dt,q<0)Dt=Math.max(0,j[oe].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var rt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ai,Zn]of rt){let Jn=Zn;p(Zn)&&(Jn=ca(Zn)),ye.push(q+Ai+"="+encodeURIComponent(Jn))}}catch(Ai){throw ye.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{T&&T(Nn)}}if(Qt){rt=ye.join("&");break t}}rt=void 0}return u=u.i.splice(0,y),m.G=u,rt}function Oo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||b(),gt||(Kt(),gt=!0),D.add(m,u),u.A=0}}function fs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(_(u.Da,u),Lo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),_a(this),zo(this))};function fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function zo(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),cs(u,m),u.u&&u.o&&ls(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=as(be(m)),y.u=null,y.R=!0,ks(y,u)}s.Va=function(){this.C!=null&&(this.C=null,_a(this),fs(this),Te(19))};function Ks(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Uo(u,m){var y=null;if(u.g==m){Ks(u),fl(u),u.g=null;var T=2}else if(gi(u.h,m))y=m.G,tl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;T=js(),St(T,new li(T,y)),Ei(u)}else Oo(u);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&Ys(u,m)||T==2&&fs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),j){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Lo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const j=!T;T=new _n(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(T,"https"),as(T),j?Yn(T.toString(),y):rl(T.toString(),y)}else Te(2);u.I=0,u.l&&u.l.pa(m),jo(u),Qs(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function jo(u){if(u.I=0,u.ja=[],u.l){const m=el(u.h);(m.length!=0||u.i.length!=0)&&(it(u.ja,m),it(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function ko(u,m,y){var T=y instanceof _n?be(y):new _n(y);if(T.g!="")m&&(T.g=m+"."+T.g),fa(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new _n(null);T&&je(q,T),m&&(q.g=m),j&&fa(q,j),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&Zt(T,y,m),Zt(T,"VER",u.ka),cs(u,T),T}function Bo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new yi({ab:y})):new Wt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}s=Po.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function va(){}va.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){de.call(this),this.g=new ya(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}S(rn,de),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){ul(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ca(u),u=y);m.i.push(new Se(m.Ya++,u)),m.I==3&&Ei(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,rn.Z.N.call(this)};function qo(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(qo,qe);function Ho(){Rn.call(this),this.status=1}S(Ho,Rn);function Bi(u){this.g=u}S(Bi,Po),Bi.prototype.ra=function(){St(this.g,"a")},Bi.prototype.qa=function(u){St(this.g,new qo(u))},Bi.prototype.pa=function(u){St(this.g,new Ho)},Bi.prototype.oa=function(){St(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Ev=function(){return new va},vv=function(){return js()},_v=pe,sd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,ec=ns,Xr.COMPLETE="complete",yv=Xr,To.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",de.prototype.listen=de.prototype.J,Zl=To,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,pv=Wt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const Xy="@firebase/firestore",Zy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new uv("@firebase/firestore");function wr(){return Is.logLevel}function ut(s,...e){if(Is.logLevel<=qt.DEBUG){const i=e.map(Rd);Is.debug(`Firestore (${qr}): ${s}`,...i)}}function ia(s,...e){if(Is.logLevel<=qt.ERROR){const i=e.map(Rd);Is.error(`Firestore (${qr}): ${s}`,...i)}}function Or(s,...e){if(Is.logLevel<=qt.WARN){const i=e.map(Rd);Is.warn(`Firestore (${qr}): ${s}`,...i)}}function Rd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Tv(s,r,i)}function Tv(s,e,i){let r=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ia(r),new Error(r)}function Xt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||Tv(e,o,r)}function Rt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Pr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class $A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WA{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let f=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Qa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Qa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new Av(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class tS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new tS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,UA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xt(this.o===void 0,3512);const r=f=>{f.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>r(f)))};const o=f=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=iS(40);for(let f=0;f<o.length;++f)r.length<20&&o[f]<i&&(r+=e.charAt(o[f]%62))}return r}}function jt(s,e){return s<e?-1:s>e?1:0}function rd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),f=e.charAt(r);if(o!==f)return Fh(o)===Fh(f)?jt(o,f):Fh(o)?1:-1}return jt(s.length,e.length)}const aS=55296,sS=57343;function Fh(s){const e=s.charCodeAt(0);return e>=aS&&e<=sS}function zr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Et(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const f=xi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return jt(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),o=xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class ae extends xi{construct(e,i,r){return new ae(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const rS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends xi{construct(e,i,r){return new Ze(e,i,r)}static isValidIdentifier(e){return rS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new Ze([$y])}static fromServerFormat(e){const i=[];let r="",o=0;const f=()=>{if(r.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(f(),o++)}if(f(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(ae.fromString(e))}static fromName(e){return new _t(ae.fromString(e).popFirst(5))}static empty(){return new _t(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(s,e,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function lS(s,e,i,r){if(e===!0&&r===!0)throw new ot(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Wy(s){if(!_t.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function t_(s){if(_t.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function bv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ac(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function Ur(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ac(s);throw new ot(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(s,e){const i={typeString:s};return e&&(i.value=e),i}function mo(s,e){if(!bv(s))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,f="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${r}' field to equal '${f.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,n_=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(e){return le.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*n_);return new le(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e_)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mo(e,le._jsonSchema))return new le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ve("string",le._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new le(0,0))}static max(){return new bt(new le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function oS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(r===1e9?new le(i+1,0):new le(i,r));return new Ka(o,_t.empty(),e)}function uS(s){return new Ka(s.readTime,s.key,ro)}class Ka{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ka(bt.min(),_t.empty(),ro)}static max(){return new Ka(bt.max(),_t.empty(),ro)}}function cS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_t.comparator(s.documentKey,e.documentKey),i!==0?i:jt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==fS)throw s;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(r,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let o=0,f=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++f,d&&f===o&&i()}),(v=>r(v)))})),d=!0,f===o&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((o=>o?$.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,f)=>{r.push(i.call(this,o,f))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,o)=>{const f=e.length,d=new Array(f);let p=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++p,p===f&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((r,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):r()};f()}))}}function dS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=-1;function bc(s){return s==null}function fc(s){return s===0&&1/s==-1/0}function mS(s){return typeof s=="number"&&Number.isInteger(s)&&!fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="";function gS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=i_(e)),e=pS(s.get(i),e);return i_(e)}function pS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const f=s.charAt(o);switch(f){case"\0":i+="";break;case wv:i+="";break;default:i+=f}}return i}function i_(s){return s+wv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ms(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Rv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.comparator=e,this.root=i||Xe.EMPTY}insert(e,i){return new he(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?r(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,i,r,o,f){this.key=e,this.value=i,this.color=r??Xe.RED,this.left=o??Xe.EMPTY,this.right=f??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,f){return new Xe(e??this.key,i??this.value,r??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const f=r(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,r),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,r,o,f){return this}insert(e,i,r){return new Xe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new ze(this.comparator);return i.data=e,i}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new ni([])}unionWith(e){let i=new ze(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Dv("Invalid base64 string: "+f):f}})(e);return new Je(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const yS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(s){if(Xt(!!s,39018),typeof s=="string"){let e=0;const i=yS.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Za(s){return typeof s=="string"?Je.fromBase64String(s):Je.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="server_timestamp",xv="__type__",Nv="__previous_value__",Iv="__local_write_time__";function xd(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[xv])==null?void 0:r.stringValue)===Cv}function wc(s){const e=s.mapValue.fields[Nv];return xd(e)?wc(e):e}function lo(s){const e=Xa(s.mapValue.fields[Iv].timestampValue);return new le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i,r,o,f,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const hc="(default)";class oo{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new oo("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof oo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__type__",vS="__max__",Xu={mapValue:{}},Mv="__vector__",dc="value";function Ja(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?xd(s)?4:TS(s)?9007199254740991:ES(s)?10:11:Et(28295,{value:s})}function zi(s,e){if(s===e)return!0;const i=Ja(s);if(i!==Ja(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return lo(s).isEqual(lo(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Xa(o.timestampValue),p=Xa(f.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,f){return Za(o.bytesValue).isEqual(Za(f.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,f){return Ee(o.geoPointValue.latitude)===Ee(f.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(f.geoPointValue.longitude)})(s,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return Ee(o.integerValue)===Ee(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=Ee(o.doubleValue),p=Ee(f.doubleValue);return d===p?fc(d)===fc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return zr(s.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},p=f.mapValue.fields||{};if(a_(d)!==a_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!zi(d[v],p[v])))return!1;return!0})(s,e);default:return Et(52216,{left:s})}}function uo(s,e){return(s.values||[]).find((i=>zi(i,e)))!==void 0}function Lr(s,e){if(s===e)return 0;const i=Ja(s),r=Ja(e);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,e.booleanValue);case 2:return(function(f,d){const p=Ee(f.integerValue||f.doubleValue),v=Ee(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return r_(s.timestampValue,e.timestampValue);case 4:return r_(lo(s),lo(e));case 5:return rd(s.stringValue,e.stringValue);case 6:return(function(f,d){const p=Za(f),v=Za(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(f,d){const p=f.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=jt(p[_],v[_]);if(A!==0)return A}return jt(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(f,d){const p=jt(Ee(f.latitude),Ee(d.latitude));return p!==0?p:jt(Ee(f.longitude),Ee(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return l_(s.arrayValue,e.arrayValue);case 10:return(function(f,d){var N,H,it,at;const p=f.fields||{},v=d.fields||{},_=(N=p[dc])==null?void 0:N.arrayValue,A=(H=v[dc])==null?void 0:H.arrayValue,S=jt(((it=_==null?void 0:_.values)==null?void 0:it.length)||0,((at=A==null?void 0:A.values)==null?void 0:at.length)||0);return S!==0?S:l_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Xu.mapValue&&d===Xu.mapValue)return 0;if(f===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const p=f.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const N=rd(v[S],A[S]);if(N!==0)return N;const H=Lr(p[v[S]],_[A[S]]);if(H!==0)return H}return jt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function r_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return jt(s,e);const i=Xa(s),r=Xa(e),o=jt(i.seconds,r.seconds);return o!==0?o:jt(i.nanos,r.nanos)}function l_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const f=Lr(i[o],r[o]);if(f)return f}return jt(i.length,r.length)}function jr(s){return ld(s)}function ld(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Xa(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Za(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _t.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const f of i.values||[])o?o=!1:r+=",",r+=ld(f);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of r)f?f=!1:o+=",",o+=`${d}:${ld(i.fields[d])}`;return o+"}"})(s.mapValue):Et(61005,{value:s})}function nc(s){switch(Ja(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(s);return e?16+nc(e):16;case 5:return 2*s.stringValue.length;case 6:return Za(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,f)=>o+nc(f)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ms(r.fields,((f,d)=>{o+=f.length+nc(d)})),o})(s.mapValue);default:throw Et(13486,{value:s})}}function o_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function od(s){return!!s&&"integerValue"in s}function Nd(s){return!!s&&"arrayValue"in s}function u_(s){return!!s&&"nullValue"in s}function c_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ic(s){return!!s&&"mapValue"in s}function ES(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Vv])==null?void 0:r.stringValue)===Mv}function to(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ms(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=to(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=to(s.arrayValue.values[i]);return e}return{...s}}function TS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===vS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ic(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(i)}setAll(e){let i=Ze.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=to(d):o.push(p.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,r,o)}delete(e){const i=this.field(e.popLast());ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ms(i,((o,f)=>e[o]=f));for(const o of r)delete e[o]}clone(){return new kn(to(this.value))}}function Ov(s){const e=[];return Ms(s.fields,((i,r)=>{const o=new Ze([i]);if(ic(r)){const f=Ov(r.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,i,r,o,f,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=f,this.data=d,this.documentState=p}static newInvalidDocument(e){return new an(e,0,bt.min(),bt.min(),bt.min(),kn.empty(),0)}static newFoundDocument(e,i,r,o){return new an(e,1,i,bt.min(),r,o,0)}static newNoDocument(e,i){return new an(e,2,i,bt.min(),bt.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,bt.min(),bt.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.position=e,this.inclusive=i}}function f_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const f=e[o],d=s.position[o];if(f.field.isKeyField()?r=_t.comparator(_t.fromName(d.referenceValue),i.key):r=Lr(d,i.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function h_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!zi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,i="asc"){this.field=e,this.dir=i}}function AS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{}class Ie extends zv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new bS(e,i,r):i==="array-contains"?new DS(e,r):i==="in"?new CS(e,r):i==="not-in"?new xS(e,r):i==="array-contains-any"?new NS(e,r):new Ie(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new wS(e,r):new RS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Lr(i,this.value)):i!==null&&Ja(this.value)===Ja(i)&&this.matchesComparison(Lr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends zv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ii(e,i)}matches(e){return Uv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Uv(s){return s.op==="and"}function Lv(s){return SS(s)&&Uv(s)}function SS(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function ud(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+jr(s.value);if(Lv(s))return s.filters.map((e=>ud(e))).join(",");{const e=s.filters.map((i=>ud(i))).join(",");return`${s.op}(${e})`}}function jv(s,e){return s instanceof Ie?(function(r,o){return o instanceof Ie&&r.op===o.op&&r.field.isEqual(o.field)&&zi(r.value,o.value)})(s,e):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((f,d,p)=>f&&jv(d,o.filters[p])),!0):!1})(s,e):void Et(19439)}function kv(s){return s instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${jr(i.value)}`})(s):s instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(kv).join(" ,")+"}"})(s):"Filter"}class bS extends Ie{constructor(e,i,r){super(e,i,r),this.key=_t.fromName(r.referenceValue)}matches(e){const i=_t.comparator(e.key,this.key);return this.matchesComparison(i)}}class wS extends Ie{constructor(e,i){super(e,"in",i),this.keys=Bv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class RS extends Ie{constructor(e,i){super(e,"not-in",i),this.keys=Bv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Bv(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>_t.fromName(r.referenceValue)))}class DS extends Ie{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Nd(i)&&uo(i.arrayValue,this.value)}}class CS extends Ie{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&uo(this.value.arrayValue,i)}}class xS extends Ie{constructor(e,i){super(e,"not-in",i)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!uo(this.value.arrayValue,i)}}class NS extends Ie{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>uo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i=null,r=[],o=[],f=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=f,this.startAt=d,this.endAt=p,this.Te=null}}function d_(s,e=null,i=[],r=[],o=null,f=null,d=null){return new IS(s,e,i,r,o,f,d)}function Id(s){const e=Rt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ud(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(f){return f.field.canonicalString()+f.dir})(r))).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>jr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>jr(r))).join(",")),e.Te=i}return e.Te}function Vd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!AS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!jv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!h_(s.startAt,e.startAt)&&h_(s.endAt,e.endAt)}function cd(s){return _t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,i=null,r=[],o=[],f=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=f,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VS(s,e,i,r,o,f,d,p){return new Gr(s,e,i,r,o,f,d,p)}function Pv(s){return new Gr(s)}function m_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function qv(s){return s.collectionGroup!==null}function eo(s){const e=Rt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Ze.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new co(f,r))})),i.has(Ze.keyField().canonicalString())||e.Ie.push(new co(Ze.keyField(),r))}return e.Ie}function Ni(s){const e=Rt(s);return e.Ee||(e.Ee=MS(e,eo(s))),e.Ee}function MS(s,e){if(s.limitType==="F")return d_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new co(o.field,f)}));const i=s.endAt?new mc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new mc(s.startAt.position,s.startAt.inclusive):null;return d_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function fd(s,e){const i=s.filters.concat([e]);return new Gr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function hd(s,e,i){return new Gr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rc(s,e){return Vd(Ni(s),Ni(e))&&s.limitType===e.limitType}function Hv(s){return`${Id(Ni(s))}|lt:${s.limitType}`}function Rr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>kv(o))).join(", ")}]`),bc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>jr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>jr(o))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function Dc(s,e){return e.isFoundDocument()&&(function(r,o){const f=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):_t.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)})(s,e)&&(function(r,o){for(const f of eo(r))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const f of r.filters)if(!f.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const _=f_(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,eo(r),o)||r.endAt&&!(function(d,p,v){const _=f_(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,eo(r),o))})(s,e)}function OS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Fv(s){return(e,i)=>{let r=!1;for(const o of eo(s)){const f=zS(o,e,i);if(f!==0)return f;r=r||o.field.isKeyField()}return 0}}function zS(s,e,i){const r=s.field.isKeyField()?_t.comparator(e.key,i.key):(function(f,d,p){const v=d.data.field(f),_=p.data.field(f);return v!==null&&_!==null?Lr(v,_):Et(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,f]of r)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((i,r)=>{for(const[o,f]of r)e(o,f)}))}isEmpty(){return Rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new he(_t.comparator);function aa(){return US}const Gv=new he(_t.comparator);function Jl(...s){let e=Gv;for(const i of s)e=e.insert(i.key,i);return e}function Qv(s){let e=Gv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ns(){return no()}function Yv(){return no()}function no(){return new Os((s=>s.toString()),((s,e)=>s.isEqual(e)))}const LS=new he(_t.comparator),jS=new ze(_t.comparator);function kt(...s){let e=jS;for(const i of s)e=e.add(i);return e}const kS=new ze(jt);function BS(){return kS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function Kv(s){return{integerValue:""+s}}function PS(s,e){return mS(e)?Kv(e):Md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function qS(s,e,i){return s instanceof gc?(function(o,f){const d={fields:{[xv]:{stringValue:Cv},[Iv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&xd(f)&&(f=wc(f)),f&&(d.fields[Nv]=f),{mapValue:d}})(i,e):s instanceof fo?Zv(s,e):s instanceof ho?Jv(s,e):(function(o,f){const d=Xv(o,f),p=g_(d)+g_(o.Ae);return od(d)&&od(o.Ae)?Kv(p):Md(o.serializer,p)})(s,e)}function HS(s,e,i){return s instanceof fo?Zv(s,e):s instanceof ho?Jv(s,e):i}function Xv(s,e){return s instanceof pc?(function(r){return od(r)||(function(f){return!!f&&"doubleValue"in f})(r)})(e)?e:{integerValue:0}:null}class gc extends Cc{}class fo extends Cc{constructor(e){super(),this.elements=e}}function Zv(s,e){const i=$v(e);for(const r of s.elements)i.some((o=>zi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class ho extends Cc{constructor(e){super(),this.elements=e}}function Jv(s,e){let i=$v(e);for(const r of s.elements)i=i.filter((o=>!zi(o,r)));return{arrayValue:{values:i}}}class pc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function g_(s){return Ee(s.integerValue||s.doubleValue)}function $v(s){return Nd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function FS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof ho&&o instanceof ho?zr(r.elements,o.elements,zi):r instanceof pc&&o instanceof pc?zi(r.Ae,o.Ae):r instanceof gc&&o instanceof gc})(s.transform,e.transform)}class GS{constructor(e,i){this.version=e,this.transformResults=i}}class Ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class xc{}function Wv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Od(s.key,Ii.none()):new go(s.key,s.data,Ii.none());{const i=s.data,r=kn.empty();let o=new ze(Ze.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?r.delete(f):r.set(f,d),o=o.add(f)}return new zs(s.key,r,new ni(o.toArray()),Ii.none())}}function QS(s,e,i){s instanceof go?(function(o,f,d){const p=o.value.clone(),v=y_(o.fieldTransforms,f,d.transformResults);p.setAll(v),f.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof zs?(function(o,f,d){if(!ac(o.precondition,f))return void f.convertToUnknownDocument(d.version);const p=y_(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(t0(o)),v.setAll(p),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function io(s,e,i,r){return s instanceof go?(function(f,d,p,v){if(!ac(f.precondition,d))return p;const _=f.value.clone(),A=__(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof zs?(function(f,d,p,v){if(!ac(f.precondition,d))return p;const _=__(f.fieldTransforms,v,d),A=d.data;return A.setAll(t0(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(f,d,p){return ac(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function YS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),f=Xv(r.transform,o||null);f!=null&&(i===null&&(i=kn.empty()),i.set(r.field,f))}return i||null}function p_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zr(r,o,((f,d)=>FS(f,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class go extends xc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends xc{constructor(e,i,r,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function t0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function y_(s,e,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const f=s[o],d=f.transform,p=e.data.field(f.field);r.set(f.field,HS(d,p,i[o]))}return r}function __(s,e,i){const r=new Map;for(const o of s){const f=o.transform,d=i.data.field(o.field);r.set(o.field,qS(f,d,e))}return r}class Od extends xc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KS extends xc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&QS(f,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=io(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=io(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Yv();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let p=this.applyToLocalView(d,f.mutatedFields);p=i.has(o.key)?null:p;const v=Wv(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),kt())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((i,r)=>p_(i,r)))&&zr(this.baseMutations,e.baseMutations,((i,r)=>p_(i,r)))}}class zd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return LS})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,r[d].version);return new zd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Pt;function $S(s){switch(s){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function e0(s){if(s===void 0)return ia("GRPC error has no .code"),J.UNKNOWN;switch(s){case xe.OK:return J.OK;case xe.CANCELLED:return J.CANCELLED;case xe.UNKNOWN:return J.UNKNOWN;case xe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xe.INTERNAL:return J.INTERNAL;case xe.UNAVAILABLE:return J.UNAVAILABLE;case xe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xe.NOT_FOUND:return J.NOT_FOUND;case xe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xe.ABORTED:return J.ABORTED;case xe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xe.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:s})}}(Pt=xe||(xe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Ga([4294967295,4294967295],0);function v_(s){const e=WS().encode(s),i=new gv;return i.update(e),new Uint8Array(i.digest())}function E_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ga([i,r],0),new Ga([o,f],0)]}class Ud{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new $l(`Invalid padding: ${i}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new $l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ga.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ga.fromNumber(r)));return o.compare(tb)===1&&(o=new Ga([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v_(e),[r,o]=E_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Ud(f,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=v_(e),[r,o]=E_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,r,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Nc(bt.min(),o,new he(jt),aa(),kt())}}class po{constructor(e,i,r,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new po(r,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class n0{constructor(e,i){this.targetId=e,this.Ce=i}}class i0{constructor(e,i,r=Je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class T_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kt(),i=kt(),r=kt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:f})}})),new po(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=A_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eb{constructor(e){this.Ge=e,this.ze=new Map,this.je=aa(),this.Je=Zu(),this.He=Zu(),this.Ye=new he(jt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(cd(f))if(r===0){const d=new _t(f.path);this.et(i,d,an.newNoDocument(d,bt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:f=0}=i;let d,p;try{d=Za(r).toUint8Array()}catch(v){if(v instanceof Dv)return Or("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Ud(d,o,f)}catch(v){return Or(v instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((f=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(p)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const p=this.ot(d);if(p){if(f.current&&cd(p.target)){const v=new _t(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,an.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let r=kt();this.He.forEach(((f,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new Nc(e,i,this.Ye,this.je,r);return this.je=aa(),this.Je=Zu(),this.He=Zu(),this.Ye=new he(jt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new T_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new ze(jt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new ze(jt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Zu(){return new he(_t.comparator)}function A_(){return new he(_t.comparator)}const nb={asc:"ASCENDING",desc:"DESCENDING"},ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ab={and:"AND",or:"OR"};class sb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dd(s,e){return s.useProto3Json||bc(e)?e:{value:e}}function yc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rb(s,e){return yc(s,e.toTimestamp())}function Vi(s){return Xt(!!s,49232),bt.fromTimestamp((function(i){const r=Xa(i);return new le(r.seconds,r.nanos)})(s))}function Ld(s,e){return md(s,e).canonicalString()}function md(s,e){const i=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function s0(s){const e=ae.fromString(s);return Xt(c0(e),10190,{key:e.toString()}),e}function gd(s,e){return Ld(s.databaseId,e.path)}function Gh(s,e){const i=s0(e);if(i.get(1)!==s.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _t(l0(i))}function r0(s,e){return Ld(s.databaseId,e)}function lb(s){const e=s0(s);return e.length===4?ae.emptyPath():l0(e)}function pd(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function l0(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function S_(s,e,i){return{name:gd(s,e),fields:i.value.mapValue.fields}}function ob(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(_,A){return _.useProto3Json?(Xt(A===void 0||typeof A=="string",58123),Je.fromBase64String(A||"")):(Xt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Je.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:e0(_.code);return new ot(A,_.message||"")})(d);i=new i0(r,o,f,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gh(s,r.document.name),f=Vi(r.document.updateTime),d=r.document.createTime?Vi(r.document.createTime):bt.min(),p=new kn({mapValue:{fields:r.document.fields}}),v=an.newFoundDocument(o,f,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new sc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Gh(s,r.document),f=r.readTime?Vi(r.readTime):bt.min(),d=an.newNoDocument(o,f),p=r.removedTargetIds||[];i=new sc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Gh(s,r.document),f=r.removedTargetIds||[];i=new sc([],f,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:f}=r,d=new JS(o,f),p=r.targetId;i=new n0(p,d)}}return i}function ub(s,e){let i;if(e instanceof go)i={update:S_(s,e.key,e.value)};else if(e instanceof Od)i={delete:gd(s,e.key)};else if(e instanceof zs)i={update:S_(s,e.key,e.data),updateMask:_b(e.fieldMask)};else{if(!(e instanceof KS))return Et(16599,{Vt:e.type});i={verify:gd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(f,d){const p=d.transform;if(p instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:rb(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:Et(27497)})(s,e.precondition)),i}function cb(s,e){return s&&s.length>0?(Xt(e!==void 0,14353),s.map((i=>(function(o,f){let d=o.updateTime?Vi(o.updateTime):Vi(f);return d.isEqual(bt.min())&&(d=Vi(f)),new GS(d,o.transformResults||[])})(i,e)))):[]}function fb(s,e){return{documents:[r0(s,e.path)]}}function hb(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=r0(s,o);const f=(function(_){if(_.length!==0)return u0(ii.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:Dr(N.field),direction:gb(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dd(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function db(s){let e=lb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Xt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(S){const N=o0(S);return N instanceof ii&&Lv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(it){return new co(Cr(it.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(it.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,bc(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(S){const N=!!S.before,H=S.values||[];return new mc(H,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,H=S.values||[];return new mc(H,N)})(i.endAt)),VS(e,o,d,f,p,"F",v,_)}function mb(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function o0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Cr(i.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Cr(i.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Cr(i.unaryFilter.field);return Ie.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cr(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ie.create(Cr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((r=>o0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(s):Et(30097,{filter:s})}function gb(s){return nb[s]}function pb(s){return ib[s]}function yb(s){return ab[s]}function Dr(s){return{fieldPath:s.canonicalString()}}function Cr(s){return Ze.fromServerFormat(s.fieldPath)}function u0(s){return s instanceof Ie?(function(i){if(i.op==="=="){if(c_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NAN"}};if(u_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(c_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NAN"}};if(u_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(i.field),op:pb(i.op),value:i.value}}})(s):s instanceof ii?(function(i){const r=i.getFilters().map((o=>u0(o)));return r.length===1?r[0]:{compositeFilter:{op:yb(i.op),filters:r}}})(s):Et(54877,{filter:s})}function _b(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function c0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,i,r,o,f=bt.min(),d=bt.min(),p=Je.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.yt=e}}function Eb(s){const e=db({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.Cn=new Ab}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Ka.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Ka.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Ab{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new ze(ae.comparator),f=!o.has(r);return this.index[i]=o.add(r),f}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new ze(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f0=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(f0,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kr(0)}static cr(){return new kr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",Sb=1048576;function R_([s,e],[i,r]){const o=jt(s,i);return o===0?jt(e,r):o}class bb{constructor(e){this.Ir=e,this.buffer=new ze(R_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();R_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fr(i)?ut(w_,"Ignoring IndexedDB error during garbage collection: ",i):await Hr(i)}await this.Vr(3e5)}))}}class Rb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Sc.ce);const r=new bb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(b_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,f,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(f=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),wr()<=qt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${f} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:S}))))}}function Db(s,e){return new Rb(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.changes=new Os((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&io(r.mutation,o,ni.empty(),le.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,kt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=kt()){const o=Ns();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((f=>{let d=Jl();return f.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ns();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,kt())))}populateOverlays(e,i,r){const o=[];return r.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let f=aa();const d=no(),p=(function(){return no()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof zs)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),io(A.mutation,_,A.mutation.getFieldMask(),le.now())):d.set(_.key,ni.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new xb(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=no();let o=new he(((d,p)=>d-p)),f=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||ni.empty();A=p.applyToLocalView(_,A),r.set(v,A);const S=(o.get(p.batchId)||kt()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,S=Yv();A.forEach((N=>{if(!f.has(N)){const H=Wv(i.get(N),r.get(N));H!==null&&S.set(N,H),f=f.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):qv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-f.size):$.resolve(Ns());let p=ro,v=f;return d.next((_=>$.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),f.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,kt()))).next((A=>({batchId:p,changes:Qv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _t(i)).next((r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const f=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,f).next((p=>$.forEach(p,(v=>{const _=(function(S,N){return new Gr(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,f,o)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=Jl();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&io(A.mutation,_,ni.empty(),le.now()),Dc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Eb(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.overlays=new he(_t.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ns();return $.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&r.set(o,f)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,f)=>{this.St(e,i,f)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const o=Ns(),f=i.length+1,d=new _t(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>r&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let f=new he(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=f.get(_.largestBatchId);A===null&&(A=Ns(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ns(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return $.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ZS(i,r));let f=this.qr.get(i);f===void 0&&(f=kt(),this.qr.set(i,f)),this.qr.set(i,f.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Qr=new ze(Be.$r),this.Ur=new ze(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Be(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Be(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _t(new ae([])),r=new Be(i,e),o=new Be(i,e+1),f=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _t(new ae([])),r=new Be(i,e),o=new Be(i,e+1);let f=kt();return this.Ur.forEachInRange([r,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Be(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Be{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _t.comparator(e.key,i.key)||jt(e.Yr,i.Yr)}static Kr(e,i){return jt(e.Yr,i.Yr)||_t.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Be.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new XS(f,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Be(p.key,f)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),f=o<0?0:o;return $.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Cd:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);f.push(p)})),$.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new ze(jt);return i.forEach((o=>{const f=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let f=r;_t.isDocumentKey(f)||(f=f.child(""));const d=new Be(new _t(f),0);let p=new ze(jt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(o=>{const f=new Be(o.key,i.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Be(i,0),o=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.ri=e,this.docs=(function(){return new he(_t.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let r=aa();return i.forEach((o=>{const f=this.docs.get(o);r=r.insert(o,f?f.document.mutableCopy():an.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let f=aa();const d=i.path,p=new _t(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||cS(uS(A),r)<=0||(o.has(A.key)||Dc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return $.resolve(f)}getAllFromCollectionGroup(e,i,r,o){Et(9500)}ii(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Ub(this)}getSize(e){return $.resolve(this.size)}}class Ub extends Cb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.persistence=e,this.si=new Os((i=>Id(i)),Vd),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new jd,this.targetCount=0,this.ai=kr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let o=0;const f=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(f).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Sc(0),this.li=!1,this.li=!0,this.hi=new Mb,this.referenceDelegate=e(this),this.Pi=new Lb(this),this.indexManager=new Tb,this.remoteDocumentCache=(function(o){return new zb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new vb(i),this.Ii=new Ib(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Vb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Ob(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ut("MemoryPersistence","Starting transaction:",e);const o=new jb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class jb extends hS{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Ri=new jd,this.Vi=null}static mi(e){return new kd(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const o=_t.fromPath(r);return this.gi(e,o).next((f=>{f||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.pi=new Os((r=>gS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Db(this,i)}static mi(e,i){return new _c(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((r,o)=>this.br(e,r,o).next((f=>f?$.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,f.removeEntry(d,bt.min()))})))).next((()=>f.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=nc(e.data.value)),i}br(e,i,r){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=kt(),o=kt();for(const f of i.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Bd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return M1()?8:dS(I1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,r).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new kb;return this.Ss(e,i,d).next((p=>{if(f.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>f.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(wr()<=qt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Rr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(wr()<=qt.DEBUG&&ut("QueryEngine","Query:",Rr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(wr()<=qt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Rr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(i))):$.resolve())}ys(e,i){if(m_(i))return $.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hd(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((f=>{const d=kt(...f);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,hd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return m_(i)||o.isEqual(bt.min())?$.resolve(null):this.ps.getDocuments(e,r).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,r,o)?$.resolve(null):(wr()<=qt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rr(i)),this.vs(e,d,i,oS(o,ro)).next((p=>p)))}))}Ds(e,i){let r=new ze(Fv(e));return i.forEach(((o,f)=>{Dc(e,f)&&(r=r.add(f))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,r){return wr()<=qt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Rr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ka.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="LocalStore",Pb=3e8;class qb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new he(jt),this.xs=new Os((f=>Id(f)),Vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Hb(s,e,i,r){return new qb(s,e,i,r)}async function d0(s,e){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((f=>{const d=[],p=[];let v=kt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Fb(s,e){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const S=_.batch,N=S.keys();let H=$.resolve();return N.forEach((it=>{H=H.next((()=>A.getEntry(v,it))).next((at=>{const et=_.docVersions.get(it);Xt(et!==null,48541),at.version.compareTo(et)<0&&(S.applyToRemoteDocument(at,_),at.isValidDocument()&&(at.setReadTime(_.commitVersion),A.addEntry(at)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,f).next((()=>f.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=kt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function m0(s){const e=Rt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Gb(s,e){const i=Rt(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,S)=>{const N=o.get(S);if(!N)return;p.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,S))));let H=N.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(Je.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,r)),o=o.insert(S,H),(function(at,et,tt){return at.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=Pb?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(N,H,A)&&p.push(i.Pi.updateTargetData(f,H))}));let v=aa(),_=kt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),p.push(Qb(f,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(bt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((S=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=o,f)))}function Qb(s,e,i){let r=kt(),o=kt();return i.forEach((f=>r=r.add(f))),e.getEntries(s,r).next((f=>{let d=aa();return i.forEach(((p,v)=>{const _=f.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(bt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ut(Pd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Yb(s,e){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Kb(s,e){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((f=>f?(o=f,$.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new qa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function yd(s,e,i){const r=Rt(s),o=r.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",f,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Fr(d))throw d;ut(Pd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function D_(s,e,i){const r=Rt(s);let o=bt.min(),f=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=Rt(v),N=S.xs.get(A);return N!==void 0?$.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,A)})(r,d,Ni(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{f=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?f:kt()))).next((p=>(Xb(r,OS(e),p),{documents:p,Qs:f})))))}function Xb(s,e,i){let r=s.Os.get(e)||bt.min();i.forEach(((o,f)=>{f.readTime.compareTo(r)>0&&(r=f.readTime)})),s.Os.set(e,r)}class C_{constructor(){this.activeTargetIds=BS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zb{constructor(){this.Mo=new C_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="ConnectivityMonitor";class N_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(x_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function _d(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="RestConnection",$b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,f){const d=_d(),p=this.zo(e,i.toUriEncodedString());ut(Qh,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(p),A=bd(_);return this.Jo(e,p,v,r,A).then((S=>(ut(Qh,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Or(Qh,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,o,f,d){return this.Go(e,i,r,o,f)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),r&&r.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const r=$b[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class e2 extends Wb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,f){const d=_d();return new Promise(((p,v)=>{const _=new pv;_.setWithCredentials(!0),_.listenOnce(yv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case ec.NO_ERROR:const S=_.getResponseJson();ut(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case ec.TIMEOUT:ut(en,`RPC '${e}' ${d} timed out`),v(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const N=_.getStatus();if(ut(en,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const it=H==null?void 0:H.error;if(it&&it.status&&it.message){const at=(function(tt){const pt=tt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(pt)>=0?pt:J.UNKNOWN})(it.status);v(new ot(at,it.message))}else v(new ot(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(en,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ut(en,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=_d(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ev(),p=vv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=f.join("");ut(en,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let N=!1,H=!1;const it=new t2({Yo:et=>{H?ut(en,`Not sending because RPC '${e}' stream ${o} is closed:`,et):(N||(ut(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),ut(en,`RPC '${e}' stream ${o} sending:`,et),S.send(et))},Zo:()=>S.close()}),at=(et,tt,pt)=>{et.listen(tt,(nt=>{try{pt(nt)}catch(At){setTimeout((()=>{throw At}),0)}}))};return at(S,Zl.EventType.OPEN,(()=>{H||(ut(en,`RPC '${e}' stream ${o} transport opened.`),it.o_())})),at(S,Zl.EventType.CLOSE,(()=>{H||(H=!0,ut(en,`RPC '${e}' stream ${o} transport closed`),it.a_(),this.E_(S))})),at(S,Zl.EventType.ERROR,(et=>{H||(H=!0,Or(en,`RPC '${e}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),it.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),at(S,Zl.EventType.MESSAGE,(et=>{var tt;if(!H){const pt=et.data[0];Xt(!!pt,16349);const nt=pt,At=(nt==null?void 0:nt.error)||((tt=nt[0])==null?void 0:tt.error);if(At){ut(en,`RPC '${e}' stream ${o} received error:`,At);const Kt=At.status;let gt=(function(C){const z=xe[C];if(z!==void 0)return e0(z)})(Kt),D=At.message;gt===void 0&&(gt=J.INTERNAL,D="Unknown error status: "+Kt+" with message "+At.message),H=!0,it.a_(new ot(gt,D)),S.close()}else ut(en,`RPC '${e}' stream ${o} received:`,pt),it.u_(pt)}})),at(p,_v.STAT_EVENT,(et=>{et.stat===sd.PROXY?ut(en,`RPC '${e}' stream ${o} detected buffering proxy`):et.stat===sd.NOPROXY&&ut(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{it.__()}),0),it}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(s){return new sb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,i,r=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class p0{constructor(e,i,r,o,f,d,p,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ia(i.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ot(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n2 extends p0{constructor(e,i,r,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ob(this.serializer,e),r=(function(f){if(!("targetChange"in f))return bt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Vi(d.readTime):bt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=pd(this.serializer),i.addTarget=(function(f,d){let p;const v=d.target;if(p=cd(v)?{documents:fb(f,v)}:{query:hb(f,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=a0(f,d.resumeToken);const _=dd(f,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=yc(f,d.snapshotVersion.toTimestamp());const _=dd(f,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=mb(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=pd(this.serializer),i.removeTarget=e,this.q_(i)}}class i2 extends p0{constructor(e,i,r,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=cb(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>ub(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class s2 extends a2{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,md(i,r),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(J.UNKNOWN,f.toString())}))}Ho(e,i,r,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,md(i,r),o,d,p,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class r2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class l2{constructor(e,i,r,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Us(this)&&(ut(Vs,"Restarting streams for network reachability change."),await(async function(v){const _=Rt(v);_.Ea.add(4),await yo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Vc(_)})(this))}))})),this.Ra=new r2(r,o)}}async function Vc(s){if(Us(s))for(const e of s.da)await e(!0)}async function yo(s){for(const e of s.da)await e(!1)}function y0(s,e){const i=Rt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Gd(i)?Fd(i):Qr(i).O_()&&Hd(i,e))}function qd(s,e){const i=Rt(s),r=Qr(i);i.Ia.delete(e),r.O_()&&_0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Us(i)&&i.Ra.set("Unknown"))}function Hd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qr(s).Y_(e)}function _0(s,e){s.Va.Ue(e),Qr(s).Z_(e)}function Fd(s){s.Va=new eb({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Qr(s).start(),s.Ra.ua()}function Gd(s){return Us(s)&&!Qr(s).x_()&&s.Ia.size>0}function Us(s){return Rt(s).Ea.size===0}function v0(s){s.Va=void 0}async function o2(s){s.Ra.set("Online")}async function u2(s){s.Ia.forEach(((e,i)=>{Hd(s,e)}))}async function c2(s,e){v0(s),Gd(s)?(s.Ra.ha(e),Fd(s)):s.Ra.set("Unknown")}async function f2(s,e,i){if(s.Ra.set("Online"),e instanceof i0&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const p of f.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){ut(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(s,r)}else if(e instanceof sc?s.Va.Ze(e):e instanceof n0?s.Va.st(e):s.Va.tt(e),!i.isEqual(bt.min()))try{const r=await m0(s.localStore);i.compareTo(r)>=0&&await(function(f,d){const p=f.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(Je.EMPTY_BYTE_STRING,A.snapshotVersion)),_0(f,v);const S=new qa(A.target,v,_,A.sequenceNumber);Hd(f,S)})),f.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ut(Vs,"Failed to raise snapshot:",r),await vc(s,r)}}async function vc(s,e,i){if(!Fr(e))throw e;s.Ea.add(1),await yo(s),s.Ra.set("Offline"),i||(i=()=>m0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(Vs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vc(s)}))}function E0(s,e){return e().catch((i=>vc(s,i,e)))}async function Mc(s){const e=Rt(s),i=$a(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;h2(e);)try{const o=await Yb(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,d2(e,o)}catch(o){await vc(e,o)}T0(e)&&A0(e)}function h2(s){return Us(s)&&s.Ta.length<10}function d2(s,e){s.Ta.push(e);const i=$a(s);i.O_()&&i.X_&&i.ea(e.mutations)}function T0(s){return Us(s)&&!$a(s).x_()&&s.Ta.length>0}function A0(s){$a(s).start()}async function m2(s){$a(s).ra()}async function g2(s){const e=$a(s);for(const i of s.Ta)e.ea(i.mutations)}async function p2(s,e,i){const r=s.Ta.shift(),o=zd.from(r,e,i);await E0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Mc(s)}async function y2(s,e){e&&$a(s).X_&&await(async function(r,o){if((function(d){return $S(d)&&d!==J.ABORTED})(o.code)){const f=r.Ta.shift();$a(r).B_(),await E0(r,(()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o))),await Mc(r)}})(s,e),T0(s)&&A0(s)}async function V_(s,e){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),ut(Vs,"RemoteStore received new credentials");const r=Us(i);i.Ea.add(3),await yo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vc(i)}async function _2(s,e){const i=Rt(s);e?(i.Ea.delete(2),await Vc(i)):e||(i.Ea.add(2),await yo(i),i.Ra.set("Unknown"))}function Qr(s){return s.ma||(s.ma=(function(i,r,o){const f=Rt(i);return f.sa(),new n2(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(s.datastore,s.asyncQueue,{Xo:o2.bind(null,s),t_:u2.bind(null,s),r_:c2.bind(null,s),H_:f2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Gd(s)?Fd(s):s.Ra.set("Unknown")):(await s.ma.stop(),v0(s))}))),s.ma}function $a(s){return s.fa||(s.fa=(function(i,r,o){const f=Rt(i);return f.sa(),new i2(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:m2.bind(null,s),r_:y2.bind(null,s),ta:g2.bind(null,s),na:p2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Mc(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(Vs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,r,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=f,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,f){const d=Date.now()+r,p=new Qd(e,i,d,o,f);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(s,e){if(ia("AsyncQueue",`${e}: ${s}`),Fr(s))return new ot(J.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{static emptySet(e){return new Nr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_t.comparator(i.key,r.key):(i,r)=>_t.comparator(i.key,r.key),this.keyedMap=Jl(),this.sortedSet=new he(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Nr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ga=new he(_t.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Br{constructor(e,i,r,o,f,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,f){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Br(e,i,Nr.emptySet(i),d,r,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E2{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Rt(i),f=o.queries;o.queries=O_(),f.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function O_(){return new Os((s=>Hv(s)),Rc)}async function T2(s,e){const i=Rt(s);let r=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(r=2):(f=new v2,r=e.Da()?0:1);try{switch(r){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Yd(d,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Kd(i)}async function A2(s,e){const i=Rt(s),r=e.query;let o=3;const f=i.queries.get(r);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function S2(s,e){const i=Rt(s);let r=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Kd(i)}function b2(s,e,i){const r=Rt(s),o=r.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);r.queries.delete(e)}function Kd(s){s.Ca.forEach((e=>{e.next()}))}var vd,z_;(z_=vd||(vd={})).Ma="default",z_.Cache="cache";class w2{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Br(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Br.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.key=e}}class b0{constructor(e){this.key=e}}class R2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=Fv(e),this.tu=new Nr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new M_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const N=o.get(A),H=Dc(this.query,S)?S:null,it=!!N&&this.mutatedKeys.has(N.key),at=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let et=!1;N&&H?N.data.isEqual(H.data)?it!==at&&(r.track({type:3,doc:H}),et=!0):this.su(N,H)||(r.track({type:2,doc:H}),et=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(p=!0)):!N&&H?(r.track({type:0,doc:H}),et=!0):N&&!H&&(r.track({type:1,doc:N}),et=!0,(v||_)&&(p=!0)),et&&(H?(d=d.add(H),f=at?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(H,it){const at=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:et})}};return at(H)-at(it)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Br(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new b0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new S0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Br.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xd="SyncEngine";class D2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class C2{constructor(e){this.key=e,this.hu=!1}}class x2{constructor(e,i,r,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Os((p=>Hv(p)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new he(_t.comparator),this.Au=new Map,this.Ru=new jd,this.Vu={},this.mu=new Map,this.fu=kr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N2(s,e,i=!0){const r=N0(s);let o;const f=r.Tu.get(e);return f?(r.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await w0(r,e,i,!0),o}async function I2(s,e){const i=N0(s);await w0(i,e,!0,!1)}async function w0(s,e,i,r){const o=await Kb(s.localStore,Ni(e)),f=o.targetId,d=s.sharedClientState.addLocalQueryTarget(f,i);let p;return r&&(p=await V2(s,e,f,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&y0(s.remoteStore,o),p}async function V2(s,e,i,r,o){s.pu=(S,N,H)=>(async function(at,et,tt,pt){let nt=et.view.ru(tt);nt.Cs&&(nt=await D_(at.localStore,et.query,!1).then((({documents:D})=>et.view.ru(D,nt))));const At=pt&&pt.targetChanges.get(et.targetId),Kt=pt&&pt.targetMismatches.get(et.targetId)!=null,gt=et.view.applyChanges(nt,at.isPrimaryClient,At,Kt);return L_(at,et.targetId,gt.au),gt.snapshot})(s,S,N,H);const f=await D_(s.localStore,e,!0),d=new R2(e,f.Qs),p=d.ru(f.documents),v=po.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,v);L_(s,i,_.au);const A=new D2(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function M2(s,e,i){const r=Rt(s),o=r.Tu.get(e),f=r.Iu.get(o.targetId);if(f.length>1)return r.Iu.set(o.targetId,f.filter((d=>!Rc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await yd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&qd(r.remoteStore,o.targetId),Ed(r,o.targetId)})).catch(Hr)):(Ed(r,o.targetId),await yd(r.localStore,o.targetId,!0))}async function O2(s,e){const i=Rt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),qd(i.remoteStore,r.targetId))}async function z2(s,e,i){const r=q2(s);try{const o=await(function(d,p){const v=Rt(d),_=le.now(),A=p.reduce(((H,it)=>H.add(it.key)),kt());let S,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let it=aa(),at=kt();return v.Ns.getEntries(H,A).next((et=>{it=et,it.forEach(((tt,pt)=>{pt.isValidDocument()||(at=at.add(tt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,it))).next((et=>{S=et;const tt=[];for(const pt of p){const nt=YS(pt,S.get(pt.key).overlayedDocument);nt!=null&&tt.push(new zs(pt.key,nt,Ov(nt.value.mapValue),Ii.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,tt,p)})).next((et=>{N=et;const tt=et.applyToLocalDocumentSet(S,at);return v.documentOverlayCache.saveOverlays(H,et.batchId,tt)}))})).then((()=>({batchId:N.batchId,changes:Qv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new he(jt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await _o(r,o.changes),await Mc(r.remoteStore)}catch(o){const f=Yd(o,"Failed to persist write");i.reject(f)}}async function R0(s,e){const i=Rt(s);try{const r=await Gb(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xt(d.hu,14607):o.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await _o(i,r,e)}catch(r){await Hr(r)}}function U_(s,e,i){const r=Rt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((f,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Rt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(p)&&(_=!0)})),_&&Kd(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U2(s,e,i){const r=Rt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),f=o&&o.key;if(f){let d=new he(_t.comparator);d=d.insert(f,an.newNoDocument(f,bt.min()));const p=kt().add(f),v=new Nc(bt.min(),new Map,new he(jt),d,p);await R0(r,v),r.du=r.du.remove(f),r.Au.delete(e),Zd(r)}else await yd(r.localStore,e,!1).then((()=>Ed(r,e,i))).catch(Hr)}async function L2(s,e){const i=Rt(s),r=e.batch.batchId;try{const o=await Fb(i.localStore,e);C0(i,r,null),D0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await _o(i,o)}catch(o){await Hr(o)}}async function j2(s,e,i){const r=Rt(s);try{const o=await(function(d,p){const v=Rt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((S=>(Xt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);C0(r,e,i),D0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await _o(r,o)}catch(o){await Hr(o)}}function D0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function C0(s,e,i){const r=Rt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ed(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||x0(s,r)}))}function x0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(qd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Zd(s))}function L_(s,e,i){for(const r of i)r instanceof S0?(s.Ru.addReference(r.key,e),k2(s,r)):r instanceof b0?(ut(Xd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||x0(s,r.key)):Et(19791,{wu:r})}function k2(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ut(Xd,"New document in limbo: "+i),s.Eu.add(r),Zd(s))}function Zd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _t(ae.fromString(e)),r=s.fu.next();s.Au.set(r,new C2(i)),s.du=s.du.insert(i,r),y0(s.remoteStore,new qa(Ni(Pv(i.path)),r,"TargetPurposeLimboResolution",Sc.ce))}}async function _o(s,e,i){const r=Rt(s),o=[],f=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,e,i).then((_=>{var A;if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Bd.As(v.targetId,_);f.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=Rt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(N=>$.forEach(N.Es,(H=>A.persistence.referenceDelegate.addReference(S,N.targetId,H))).next((()=>$.forEach(N.ds,(H=>A.persistence.referenceDelegate.removeReference(S,N.targetId,H)))))))))}catch(S){if(!Fr(S))throw S;ut(Pd,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const H=A.Ms.get(N),it=H.snapshotVersion,at=H.withLastLimboFreeSnapshotVersion(it);A.Ms=A.Ms.insert(N,at)}}})(r.localStore,f))}async function B2(s,e){const i=Rt(s);if(!i.currentUser.isEqual(e)){ut(Xd,"User change. New user:",e.toKey());const r=await d0(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((p=>{p.forEach((v=>{v.reject(new ot(J.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _o(i,r.Ls)}}function P2(s,e){const i=Rt(s),r=i.Au.get(e);if(r&&r.hu)return kt().add(r.key);{let o=kt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function N0(s){const e=Rt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U2.bind(null,e),e.Pu.H_=S2.bind(null,e.eventManager),e.Pu.yu=b2.bind(null,e.eventManager),e}function q2(s){const e=Rt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j2.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Hb(this.persistence,new Bb,e.initialUser,this.serializer)}Cu(e){return new h0(kd.mi,this.serializer)}Du(e){return new Zb}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class H2 extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xt(this.persistence.referenceDelegate instanceof _c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new h0((r=>_c.mi(r,i)),this.serializer)}}class Td{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E2})()}createDatastore(e){const i=Ic(e.databaseInfo.databaseId),r=(function(f){return new e2(f)})(e.databaseInfo);return(function(f,d,p,v){return new s2(f,d,p,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,f,d,p){return new l2(r,o,f,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>U_(this.syncEngine,i,0)),(function(){return N_.v()?new N_:new Jb})())}createSyncEngine(e,i){return(function(o,f,d,p,v,_,A){const S=new x2(o,f,d,p,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=Rt(o);ut(Vs,"RemoteStore shutting down."),f.Ea.add(5),await yo(f),f.Aa.shutdown(),f.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Td.provider={build:()=>new Td};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="FirestoreClient";class G2{constructor(e,i,r,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,(async d=>{ut(Wa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(Wa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Yd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kh(s,e){s.asyncQueue.verifyOperationInProgress(),ut(Wa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await d0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function j_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Q2(s);ut(Wa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>V_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>V_(e.remoteStore,o))),s._onlineComponents=e}async function Q2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(Wa,"Using user provided OfflineComponentProvider");try{await Kh(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Or("Error using user provided cache. Falling back to memory cache: "+i),await Kh(s,new Ec)}}else ut(Wa,"Using default OfflineComponentProvider"),await Kh(s,new H2(void 0));return s._offlineComponents}async function I0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(Wa,"Using user provided OnlineComponentProvider"),await j_(s,s._uninitializedComponentsProvider._online)):(ut(Wa,"Using default OnlineComponentProvider"),await j_(s,new Td))),s._onlineComponents}function Y2(s){return I0(s).then((e=>e.syncEngine))}async function K2(s){const e=await I0(s),i=e.eventManager;return i.onListen=N2.bind(null,e.syncEngine),i.onUnlisten=M2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=I2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=O2.bind(null,e.syncEngine),i}function X2(s,e,i={}){const r=new Qa;return s.asyncQueue.enqueueAndForget((async()=>(function(f,d,p,v,_){const A=new F2({next:N=>{A.Nu(),d.enqueueAndForget((()=>A2(f,S))),N.fromCache&&v.source==="server"?_.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new w2(p,A,{includeMetadataChanges:!0,qa:!0});return T2(f,S)})(await K2(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="firestore.googleapis.com",B_=!0;class P_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M0,this.ssl=B_}else this.host=e.host,this.ssl=e.ssl??B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sb)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JA;switch(r.type){case"firstParty":return new eS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=k_.get(i);r&&(ut("ComponentProvider","Removing Datastore"),k_.delete(i),r.terminate())})(this),Promise.resolve()}}function Z2(s,e,i,r={}){var _;s=Ur(s,Oc);const o=bd(e),f=s._getSettings(),d={...f,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(R1(`https://${p}`),N1("Firestore",!0)),f.host!==M0&&f.host!==p&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:p,ssl:o,emulatorOptions:r};if(!oc(v,d)&&(s._setSettings(v),r.mockUserToken)){let A,S;if(typeof r.mockUserToken=="string")A=r.mockUserToken,S=nn.MOCK_USER;else{A=D1(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new nn(N)}s._authCredentials=new $A(new Av(A,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class Oe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(mo(i,Oe._jsonSchema))return new Oe(e,r||null,new _t(ae.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Ve("string",Oe._jsonSchemaVersion),referencePath:Ve("string")};class Ya extends Ls{constructor(e,i,r){super(e,i,Pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new _t(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function Xh(s,e,...i){if(s=Mr(s),Sv("collection","path",e),s instanceof Oc){const r=ae.fromString(e,...i);return t_(r),new Ya(s,null,r)}{if(!(s instanceof Oe||s instanceof Ya))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(e,...i));return t_(r),new Ya(s.firestore,null,r)}}function Cs(s,e,...i){if(s=Mr(s),arguments.length===1&&(e=Dd.newId()),Sv("doc","path",e),s instanceof Oc){const r=ae.fromString(e,...i);return Wy(r),new Oe(s,null,new _t(r))}{if(!(s instanceof Oe||s instanceof Ya))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(e,...i));return Wy(r),new Oe(s.firestore,s instanceof Ya?s.converter:null,new _t(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g0(this,"async_queue_retry"),this._c=()=>{const r=Yh();r&&ut(q_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Yh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fr(e))throw e;ut(q_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",F_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Qd.createAndSchedule(this,e,i,r,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function F_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class zc extends Oc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new H_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function J2(s,e){const i=typeof s=="object"?s:BA(),r=typeof s=="string"?s:hc,o=zA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const f=b1("firestore");f&&Z2(o,...f)}return o}function O0(s){if(s._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||$2(s),s._firestoreClient}function $2(s){var r,o,f;const e=s._freezeSettings(),i=(function(p,v,_,A){return new _S(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,V0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new G2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Je.fromBase64String(e))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bn(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mo(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ve("string",Bn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(mo(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ve("string",Mi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mo(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Oi(e.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Ve("string",Oi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^__.*__$/;class tw{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,i,this.fieldTransforms):new go(e,this.data,i,this.fieldTransforms)}}function U0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class $d{constructor(e,i,r,o,f,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $d({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(U0(this.Ac)&&W2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ew{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ic(e)}Cc(e,i,r,o=!1){return new $d({Ac:e,methodName:i,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L0(s){const e=s._freezeSettings(),i=Ic(s._databaseId);return new ew(s._databaseId,!!e.ignoreUndefinedProperties,i)}function nw(s,e,i,r,o,f={}){const d=s.Cc(f.merge||f.mergeFields?2:0,e,i,o);B0("Data must be an object, but it was:",d,r);const p=j0(r,d);let v,_;if(f.merge)v=new ni(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const S of f.mergeFields){const N=aw(e,S,i);if(!d.contains(N))throw new ot(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);rw(A,N)||A.push(N)}v=new ni(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new tw(new kn(p),v,_)}function iw(s,e,i,r=!1){return Wd(i,s.Cc(r?4:3,e))}function Wd(s,e){if(k0(s=Mr(s)))return B0("Unsupported field value:",e,s),j0(s,e);if(s instanceof z0)return(function(r,o){if(!U0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const f=[];let d=0;for(const p of r){let v=Wd(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(s,e)}return(function(r,o){if((r=Mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const f=le.fromDate(r);return{timestampValue:yc(o.serializer,f)}}if(r instanceof le){const f=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(o.serializer,f)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:a0(o.serializer,r._byteString)};if(r instanceof Oe){const f=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ld(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Oi)return(function(d,p){return{mapValue:{fields:{[Vv]:{stringValue:Mv},[dc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Md(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Ac(r)}`)})(s,e)}function j0(s,e){const i={};return Rv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(s,((r,o)=>{const f=Wd(o,e.mc(r));f!=null&&(i[r]=f)})),{mapValue:{fields:i}}}function k0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof Mi||s instanceof Bn||s instanceof Oe||s instanceof z0||s instanceof Oi)}function B0(s,e,i){if(!k0(i)||!bv(i)){const r=Ac(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function aw(s,e,i){if((e=Mr(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return P0(s,e);throw Tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const sw=new RegExp("[~\\*/\\[\\]]");function P0(s,e,i){if(e.search(sw)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Jd(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Tc(s,e,i,r,o){const f=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ot(J.INVALID_ARGUMENT,p+s+v)}function rw(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,i,r,o,f){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(tm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lw extends q0{data(){return super.data()}}function tm(s,e){return typeof e=="string"?P0(s,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class H0 extends em{}function G_(s,e,...i){let r=[];e instanceof em&&r.push(e),r=r.concat(i),(function(f){const d=f.filter((v=>v instanceof im)).length,p=f.filter((v=>v instanceof nm)).length;if(d>1||d>0&&p>0)throw new ot(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class nm extends H0{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new nm(e,i,r)}_apply(e){const i=this._parse(e);return F0(e._query,i),new Ls(e.firestore,e.converter,fd(e._query,i))}_parse(e){const i=L0(e.firestore);return(function(f,d,p,v,_,A,S){let N;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ot(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){K_(S,A);const it=[];for(const at of S)it.push(Y_(v,f,at));N={arrayValue:{values:it}}}else N=Y_(v,f,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||K_(S,A),N=iw(p,d,S,A==="in"||A==="not-in");return Ie.create(_,A,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class im extends em{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new im(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const p=f.getFlattenedFilters();for(const v of p)F0(d,v),d=fd(d,v)})(e._query,i),new Ls(e.firestore,e.converter,fd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class am extends H0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new am(e,i)}_apply(e){const i=(function(o,f,d){if(o.startAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new co(f,d)})(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,(function(o,f){const d=o.explicitOrderBy.concat([f]);return new Gr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Q_(s,e="asc"){const i=e,r=tm("orderBy",s);return am._create(r,i)}function Y_(s,e,i){if(typeof(i=Mr(i))=="string"){if(i==="")throw new ot(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qv(e)&&i.indexOf("/")!==-1)throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ae.fromString(i));if(!_t.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return o_(s,new _t(r))}if(i instanceof Oe)return o_(s,i._key);throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ac(i)}.`)}function K_(s,e){if(!Array.isArray(s)||s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F0(s,e){const i=(function(o,f){for(const d of o)for(const p of d.getFlattenedFilters())if(f.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class uw{convertValue(e,i="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ms(e,((o,f)=>{r[o]=this.convertValue(f,i)})),r}convertVectorValue(e){var r,o,f;const i=(f=(o=(r=e.fields)==null?void 0:r[dc].arrayValue)==null?void 0:o.values)==null?void 0:f.map((d=>Ee(d.doubleValue)));return new Oi(i)}convertGeoPoint(e){return new Mi(Ee(e.latitude),Ee(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=wc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(lo(e));default:return null}}convertTimestamp(e){const i=Xa(e);return new le(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ae.fromString(e);Xt(c0(r),9688,{name:e});const o=new oo(r.get(1),r.get(3)),f=new _t(r.popFirst(5));return o.isEqual(i)||ia(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class $u{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ir extends q0{constructor(e,i,r,o,f,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ir._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ir._jsonSchema={type:Ve("string",Ir._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class rc extends Ir{data(e={}){return super.data(e)}}class Vr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new $u(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new rc(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new rc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new $u(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>f||p.type!==3)).map((p=>{const v=new rc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new $u(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:fw(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),r.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fw(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}Vr._jsonSchemaVersion="firestore/querySnapshot/1.0",Vr._jsonSchema={type:Ve("string",Vr._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class hw extends uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function Zh(s){s=Ur(s,Ls);const e=Ur(s.firestore,zc),i=O0(e),r=new hw(e);return ow(s._query),X2(i,s._query).then((o=>new Vr(e,r,s,o)))}function Wu(s,e,i){s=Ur(s,Oe);const r=Ur(s.firestore,zc),o=cw(s.converter,e);return G0(r,[nw(L0(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ii.none())])}function X_(s){return G0(Ur(s.firestore,zc),[new Od(s._key,Ii.none())])}function G0(s,e){return(function(r,o){const f=new Qa;return r.asyncQueue.enqueueAndForget((async()=>z2(await Y2(r),o,f))),f.promise})(O0(s),e)}(function(e,i=!0){(function(o){qr=o})(kA),cc(new ao("firestore",((r,{instanceIdentifier:o,options:f})=>{const d=r.getProvider("app").getImmediate(),p=new zc(new WA(r.getProvider("auth-internal")),new nS(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(_.options.projectId,A)})(d,o),d);return f={useFetchStreams:i,...f},p._setSettings(f),p}),"PUBLIC").setMultipleInstances(!0)),xr(Xy,Zy,e),xr(Xy,Zy,"esm2020")})();var dw="firebase",mw="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(dw,mw,"app");const gw={apiKey:"AIzaSyB8XHkT_DedThCHBUSd85AwjJLXqDFP2g",authDomain:"smartrealapp.firebaseapp.com",projectId:"smartrealapp",storageBucket:"smartrealapp.firebasestorage.app",messagingSenderId:"651193312612",appId:"1:651193312612:web:d931922ccaafa442a94671"},pw=hv(gw),Di=J2(pw),Jh="documents",$h="templates",tc="settings",Ci="default_user",Ke={getDocuments:async()=>{try{const s=Xh(Di,`users/${Ci}/${Jh}`),e=G_(s,Q_("updatedAt","desc"));return(await Zh(e)).docs.map(r=>({...r.data(),id:r.id}))}catch(s){return console.error("Failed to load documents from Firestore",s),[]}},saveDocument:async s=>{try{const e=Cs(Di,`users/${Ci}/${Jh}`,s.id);await Wu(e,{...s,updatedAt:Date.now()})}catch(e){throw console.error("Failed to save document to Firestore",e),e}},deleteDocument:async s=>{try{const e=Cs(Di,`users/${Ci}/${Jh}`,s);await X_(e)}catch(e){throw console.error("Failed to delete document from Firestore",e),e}},getTemplates:async()=>{try{const s=Xh(Di,`users/${Ci}/${$h}`),e=G_(s,Q_("updatedAt","desc"));return(await Zh(e)).docs.map(r=>({...r.data(),id:r.id}))}catch(s){return console.error("Failed to load templates from Firestore",s),[]}},saveTemplate:async s=>{try{const e=Cs(Di,`users/${Ci}/${$h}`,s.id);await Wu(e,{...s,updatedAt:Date.now()})}catch(e){throw console.error("Failed to save template to Firestore",e),e}},deleteTemplate:async s=>{try{const e=Cs(Di,`users/${Ci}/${$h}`,s);await X_(e)}catch(e){throw console.error("Failed to delete template from Firestore",e),e}},exportData:async()=>{const s=await Ke.getDocuments(),e=await Ke.getTemplates();return{version:"1.0",exportDate:new Date().toISOString(),documents:s,templates:e}},importData:async s=>{try{if(!s.version||!Array.isArray(s.documents)||!Array.isArray(s.templates))throw new Error("Invalid backup file format");for(const e of s.documents)await Ke.saveDocument(e);for(const e of s.templates)await Ke.saveTemplate(e);return{success:!0,message:" ."}}catch(e){return console.error("Failed to import data to Firestore",e),{success:!1,message:` : ${e instanceof Error?e.message:"   "}`}}},getFavoriteDocId:async()=>{try{const s=Cs(Di,`users/${Ci}/${tc}`,"favorite"),i=(await Zh(Xh(Di,`users/${Ci}/${tc}`))).docs.find(r=>r.id==="favorite");return i&&i.data().favoriteDocId||null}catch(s){return console.error("Failed to get favorite doc id from Firestore",s),null}},setFavoriteDocId:async s=>{try{const e=Cs(Di,`users/${Ci}/${tc}`,"favorite");await Wu(e,{favoriteDocId:s})}catch(e){throw console.error("Failed to set favorite doc id in Firestore",e),e}},clearFavoriteDocId:async()=>{try{const s=Cs(Di,`users/${Ci}/${tc}`,"favorite");await Wu(s,{favoriteDocId:null})}catch(s){throw console.error("Failed to clear favorite doc id in Firestore",s),s}}},Z_="tm_documents",J_="tm_templates",Wh="tm_favorite_doc_id",Ne={getDocuments:()=>{try{const s=localStorage.getItem(Z_);return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load documents",s),[]}},saveDocuments:s=>{localStorage.setItem(Z_,JSON.stringify(s))},getTemplates:()=>{try{const s=localStorage.getItem(J_);return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load templates",s),[]}},saveTemplates:s=>{localStorage.setItem(J_,JSON.stringify(s))},exportData:()=>{const s=Ne.getDocuments(),e=Ne.getTemplates();return{version:"1.0",exportDate:new Date().toISOString(),documents:s,templates:e}},importData:s=>{try{if(!s.version||!Array.isArray(s.documents)||!Array.isArray(s.templates))throw new Error("Invalid backup file format");return Ne.saveDocuments(s.documents),Ne.saveTemplates(s.templates),{success:!0,message:" ."}}catch(e){return console.error("Failed to import data",e),{success:!1,message:` : ${e instanceof Error?e.message:"   "}`}}},getFavoriteDocId:()=>{try{return localStorage.getItem(Wh)}catch(s){return console.error("Failed to load favorite doc id",s),null}},setFavoriteDocId:s=>{localStorage.setItem(Wh,s)},clearFavoriteDocId:()=>{localStorage.removeItem(Wh)}},fe={getDocuments:async()=>{try{return await Ke.getDocuments()}catch(s){return console.error("Firestore error, falling back to localStorage",s),Ne.getDocuments()}return Ne.getDocuments()},saveDocuments:async s=>{try{for(const e of s)await Ke.saveDocument(e);Ne.saveDocuments(s)}catch(e){console.error("Failed to save to Firestore",e),Ne.saveDocuments(s)}},getTemplates:async()=>{try{return await Ke.getTemplates()}catch(s){return console.error("Firestore error, falling back to localStorage",s),Ne.getTemplates()}return Ne.getTemplates()},saveTemplates:async s=>{try{for(const e of s)await Ke.saveTemplate(e);Ne.saveTemplates(s)}catch(e){console.error("Failed to save to Firestore",e),Ne.saveTemplates(s)}},exportData:async()=>await Ke.exportData(),importData:async s=>await Ke.importData(s),deleteDocument:async s=>{try{await Ke.deleteDocument(s)}catch(e){console.error("Failed to delete document from Firestore",e)}},deleteTemplate:async s=>{try{await Ke.deleteTemplate(s)}catch(e){console.error("Failed to delete template from Firestore",e)}},getFavoriteDocId:async()=>{try{return await Ke.getFavoriteDocId()}catch(s){return console.error("Firestore error, falling back to localStorage",s),Ne.getFavoriteDocId()}return Ne.getFavoriteDocId()},setFavoriteDocId:async s=>{try{await Ke.setFavoriteDocId(s),Ne.setFavoriteDocId(s)}catch(e){console.error("Failed to save favorite doc to Firestore",e),Ne.setFavoriteDocId(s)}},clearFavoriteDocId:async()=>{try{await Ke.clearFavoriteDocId(),Ne.clearFavoriteDocId()}catch(s){console.error("Failed to clear favorite doc from Firestore",s),Ne.clearFavoriteDocId()}}},$_="tm_migration_completed",W_="tm_template_category_migrated",tv={migrateToFirestore:async()=>{if(localStorage.getItem($_)==="true")return console.log("Migration already completed"),!0;try{console.log("Starting migration from localStorage to Firestore...");const e=Ne.getDocuments(),i=Ne.getTemplates();console.log(`Found ${e.length} documents and ${i.length} templates`);for(const r of e)await Ke.saveDocument(r),console.log(`Migrated document: ${r.title}`);for(const r of i)await Ke.saveTemplate(r),console.log(`Migrated template: ${r.title}`);return localStorage.setItem($_,"true"),console.log("Migration completed successfully!"),!0}catch(e){return console.error("Migration failed:",e),!1}},migrateTemplateCategories:async()=>{if(localStorage.getItem(W_)==="true"){console.log("Template category migration already completed");return}try{console.log("Starting template category migration...");const e=await fe.getTemplates(),i=e.map(d=>({...d,templateCategory:d.templateCategory||"task"})),r=new Map;i.forEach(d=>{const p=d.templateCategory;r.has(p)||r.set(p,[]),r.get(p).push(d)});const o=[],f=[];r.forEach(d=>{if(d.length===1)o.push(d[0]);else{const p=d.reduce((_,A)=>A.updatedAt>_.updatedAt?A:_);o.push(p);const v=d.filter(_=>_.id!==p.id);f.push(...v.map(_=>_.id))}});for(const d of f)try{await fe.deleteTemplate(d),console.log(`Deleted duplicate template: ${d}`)}catch(p){console.warn(`Failed to delete template ${d}:`,p)}await fe.saveTemplates(o),localStorage.setItem(W_,"true"),console.log(`Template category migration completed: ${e.length} -> ${o.length} templates`),f.length>0&&console.log(`Deleted ${f.length} duplicate templates`)}catch(e){console.error("Template category migration failed:",e)}}},gn=768,yw=s=>({task:"",contract:"",jangeeum:"",dailyNote:""})[s],_w=()=>{var V;const[s,e]=Tt.useState(window.innerWidth);Tt.useEffect(()=>{const I=()=>{e(window.innerWidth)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const i=()=>({id:ei(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1}),[r,o]=Tt.useState([]),[f,d]=Tt.useState([]),[p,v]=Tt.useState(s>=gn),[_,A]=Tt.useState("EDITOR"),[S,N]=Tt.useState(()=>i()),[H,it]=Tt.useState(null),[at,et]=Tt.useState(null),[tt,pt]=Tt.useState(null);Tt.useEffect(()=>{(async()=>{await tv.migrateToFirestore(),await tv.migrateTemplateCategories();const Q=await fe.getDocuments(),W=await fe.getTemplates(),lt=await fe.getFavoriteDocId();if(o(Q),d(W),pt(lt),lt&&Q.length>0){const ct=Q.find(X=>X.id===lt);ct&&N(ct)}})()},[]);const nt=()=>{const I=f.find(Q=>Q.templateCategory==="task");if(I)At(I);else{const Q=i();N(Q),o(W=>[Q,...W]),A("EDITOR")}s<gn&&v(!1)},At=I=>{const Q={id:ei(),title:`${I.title}`,content:I.content,checklist:I.checklist.map(W=>({...W,id:ei(),isChecked:!1})),updatedAt:Date.now(),isTemplate:!1,isDailyNote:I.templateCategory==="dailyNote",isContract:I.templateCategory==="contract",isJangeuum:I.templateCategory==="jangeuum"};N(Q),A("EDITOR"),o(W=>[Q,...W])},Kt=I=>{const Q={id:ei(),title:I.title,content:I.content,checklist:I.checklist.map(W=>({...W,id:ei(),isChecked:!1})),updatedAt:Date.now(),isTemplate:!1,isDailyNote:I.templateCategory==="dailyNote",isContract:I.templateCategory==="contract",isJangeuum:I.templateCategory==="jangeuum"};N(Q),A("TEMPLATE_PREVIEW"),et(I.id)},gt=I=>{N(I),A("EDITOR"),et(null)},D=()=>{const I={id:ei(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!0,templateCategory:"task"};N(I),A("EDITOR"),et(null)},b=()=>{const I=f.find(Q=>Q.templateCategory==="dailyNote");if(I)At(I);else{const Q={id:ei(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1,isDailyNote:!0};N(Q),o(W=>[Q,...W]),A("EDITOR")}s<gn&&v(!1)},C=()=>{const I=f.find(Q=>Q.templateCategory==="contract");if(I)At(I);else{const Q={id:ei(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1,isContract:!0};N(Q),o(W=>[Q,...W]),A("EDITOR")}s<gn&&v(!1)},z=()=>{const I=f.find(Q=>Q.templateCategory==="jangeeum");if(I)At(I);else{const Q={id:ei(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1,isJangeuum:!0};N(Q),o(W=>[Q,...W]),A("EDITOR")}s<gn&&v(!1)},w=async I=>{if(I.isTemplate){I.title.trim()||(I.title=" ");const Q=I.templateCategory||"task";I.templateCategory=Q;const W=f.find(ct=>ct.templateCategory===Q&&ct.id!==I.id);let lt;if(W){if(!window.confirm(` "${yw(Q)}"   .
  ?`))return;await fe.deleteTemplate(W.id),lt=f.filter(ht=>ht.id!==W.id),lt.find(ht=>ht.id===I.id)?lt=lt.map(ht=>ht.id===I.id?{...I,isTemplate:!0}:ht):lt=[{...I,isTemplate:!0},...lt]}else f.find(X=>X.id===I.id)?lt=f.map(X=>X.id===I.id?{...I,isTemplate:!0}:X):lt=[{...I,isTemplate:!0},...f];d(lt),await fe.saveTemplates(lt),N(I)}else if(_==="TEMPLATE_PREVIEW"){const Q={...I,id:ei(),isTemplate:!1,updatedAt:Date.now()};if(!Q.title.trim()&&at){const lt=f.find(ct=>ct.id===at);Q.title=lt?`${lt.title} ()`:" (Untitled)"}else Q.title.trim()||(Q.title=" (Untitled)");const W=[Q,...r];o(W),await fe.saveDocuments(W),N(Q),A("EDITOR"),et(null)}else{const Q=r.find(lt=>lt.id===I.id);let W;Q?W=r.map(lt=>lt.id===I.id?{...I,updatedAt:Date.now()}:lt):(I.title.trim()||(I.title=" (Untitled)"),W=[I,...r]),o(W),await fe.saveDocuments(W),N(I)}},O=async()=>{const I=await fe.exportData(),Q=JSON.stringify(I,null,2),W=new Blob([Q],{type:"application/json"}),lt=URL.createObjectURL(W),ct=document.createElement("a");ct.href=lt;const X=new Date,ht=X.getFullYear(),xt=X.getMonth()+1,$e=X.getDate();ct.download=`${ht}${xt}${$e}.json`,document.body.appendChild(ct),ct.click(),document.body.removeChild(ct),URL.revokeObjectURL(lt)},R=I=>{const Q=new FileReader;Q.onload=async W=>{var lt;try{const ct=(lt=W.target)==null?void 0:lt.result,X=JSON.parse(ct),ht=await fe.importData(X);if(ht.success){const xt=await fe.getDocuments(),$e=await fe.getTemplates();o(xt),d($e),alert(ht.message)}else alert(ht.message)}catch(ct){alert(`  : ${ct instanceof Error?ct.message:"   "}`)}},Q.readAsText(I)},Vt=I=>{it({type:"DOC",id:I})},Gt=I=>{it({type:"TPL",id:I})},G=async()=>{if(H){if(H.type==="DOC"){const I=H.id,Q=r.filter(W=>W.id!==I);o(Q),await fe.saveDocuments(Q),await fe.deleteDocument(I),tt===I&&(await fe.clearFavoriteDocId(),pt(null)),(S==null?void 0:S.id)===I&&N(i())}else{const I=H.id,Q=f.filter(W=>W.id!==I);d(Q),await fe.saveTemplates(Q),await fe.deleteTemplate(I),(S==null?void 0:S.id)===I&&N(null)}it(null)}},st=async I=>{await fe.setFavoriteDocId(I),pt(I)},mt=async()=>{await fe.clearFavoriteDocId(),pt(null)},It=async I=>{o(I),await fe.saveDocuments(I)},zt=async I=>{d(I),await fe.saveTemplates(I)};return L.jsxs("div",{className:"flex h-screen overflow-hidden bg-background font-sans text-gray-900",children:[L.jsx(u1,{isMobileOpen:p,isAlwaysOpen:s>=gn,onClose:()=>v(!1),documents:r,templates:f,favoriteDocId:tt,onSelectDocument:I=>{N(I),A("EDITOR"),s<gn&&v(!1)},onPreviewTemplate:Kt,onCreateTemplate:D,onCreateNew:()=>{nt(),s<gn&&v(!1)},onCreateDailyNote:()=>{b(),s<gn&&v(!1)},onCreateContract:()=>{C(),s<gn&&v(!1)},onCreateJangeuum:()=>{z(),s<gn&&v(!1)},onDeleteDocument:Vt,onDeleteTemplate:Gt,onEditTemplate:gt,onBackup:O,onRestore:R,onSetFavoriteDocument:st,onClearFavoriteDocument:mt,onReorderDocuments:It,onReorderTemplates:zt}),L.jsx("main",{className:"flex-1 h-full transition-all duration-300 ease-in-out",style:{marginLeft:s>=gn&&p?"250px":"0px"},children:_==="TEMPLATE_PREVIEW"?L.jsx(Uy,{data:S||i(),onSave:w,isTemplateMode:!1,isTemplatePreview:!0,sourceTemplateName:((V=f.find(I=>I.id===at))==null?void 0:V.title)||"",screenWidth:s,mdBreakpoint:gn,onCancel:()=>{A("EDITOR"),N(i()),et(null)}}):L.jsx(Uy,{data:S||i(),onSave:w,isTemplateMode:(S==null?void 0:S.isTemplate)||!1,isTemplatePreview:!1,screenWidth:s,mdBreakpoint:gn,onOpenSidebar:()=>v(!0),onCancel:()=>{N(i()),A("EDITOR")}})}),L.jsx(av,{isOpen:!!H,title:(H==null?void 0:H.type)==="DOC"?" ":" ",message:(H==null?void 0:H.type)==="DOC"?"   ?":"  ?",onConfirm:G,onClose:()=>it(null)})]})},Q0=document.getElementById("root");if(!Q0)throw new Error("Could not find root element to mount to");const vw=MT.createRoot(Q0);vw.render(L.jsx(nv.StrictMode,{children:L.jsx(_w,{})}));
