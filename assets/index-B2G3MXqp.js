(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function W_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Of={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function TT(){if(Ry)return Ql;Ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var wy;function AT(){return wy||(wy=1,Of.exports=TT()),Of.exports}var H=AT(),zf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function ST(){if(Cy)return At;Cy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function mt(V,Q,it){this.props=V,this.context=Q,this.refs=$,this.updater=it||W}mt.prototype.isReactComponent={},mt.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},mt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ct(){}ct.prototype=mt.prototype;function nt(V,Q,it){this.props=V,this.context=Q,this.refs=$,this.updater=it||W}var pt=nt.prototype=new ct;pt.constructor=nt,tt(pt,mt.prototype),pt.isPureReactComponent=!0;var Dt=Array.isArray;function vt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(V,Q,it){var st=it.ref;return{$$typeof:s,type:V,key:Q,ref:st!==void 0?st:null,props:it}}function O(V,Q){return C(V.type,Q,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function x(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return Q[it]})}var R=/\/+/g;function Xt(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):Q.toString(36)}function oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(vt,vt):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function z(V,Q,it,st,_t){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case e:Lt=!0;break;case A:return Lt=V._init,z(Lt(V._payload),Q,it,st,_t)}}if(Lt)return _t=_t(V),Lt=st===""?"."+Xt(V,0):st,Dt(_t)?(it="",Lt!=null&&(it=Lt.replace(R,"$&/")+"/"),z(_t,Q,it,"",function(Pa){return Pa})):_t!=null&&(w(_t)&&(_t=O(_t,it+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Lt)),Q.push(_t)),1;Lt=0;var Ie=st===""?".":st+":";if(Dt(V))for(var ae=0;ae<V.length;ae++)st=V[ae],wt=Ie+Xt(st,ae),Lt+=z(st,Q,it,wt,_t);else if(ae=G(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(st=V.next()).done;)st=st.value,wt=Ie+Xt(st,ae++),Lt+=z(st,Q,it,wt,_t);else if(wt==="object"){if(typeof V.then=="function")return z(oe(V),Q,it,st,_t);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function J(V,Q,it){if(V==null)return V;var st=[],_t=0;return z(V,st,"","",function(wt){return Q.call(it,wt,_t++)}),st}function at(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Et={map:J,forEach:function(V,Q,it){J(V,function(){Q.apply(this,arguments)},it)},count:function(V){var Q=0;return J(V,function(){Q++}),Q},toArray:function(V){return J(V,function(Q){return Q})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return At.Activity=S,At.Children=Et,At.Component=mt,At.Fragment=i,At.Profiler=o,At.PureComponent=nt,At.StrictMode=r,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},At.cache=function(V){return function(){return V.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(V,Q,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=tt({},V.props),_t=V.key;if(Q!=null)for(wt in Q.key!==void 0&&(_t=""+Q.key),Q)!b.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(st[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)st.children=it;else if(1<wt){for(var Lt=Array(wt),Ie=0;Ie<wt;Ie++)Lt[Ie]=arguments[Ie+2];st.children=Lt}return C(V.type,_t,st)},At.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},At.createElement=function(V,Q,it){var st,_t={},wt=null;if(Q!=null)for(st in Q.key!==void 0&&(wt=""+Q.key),Q)b.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Q[st]);var Lt=arguments.length-2;if(Lt===1)_t.children=it;else if(1<Lt){for(var Ie=Array(Lt),ae=0;ae<Lt;ae++)Ie[ae]=arguments[ae+2];_t.children=Ie}if(V&&V.defaultProps)for(st in Lt=V.defaultProps,Lt)_t[st]===void 0&&(_t[st]=Lt[st]);return C(V,wt,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(V){return{$$typeof:y,render:V}},At.isValidElement=w,At.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:at}},At.memo=function(V,Q){return{$$typeof:v,type:V,compare:Q===void 0?null:Q}},At.startTransition=function(V){var Q=I.T,it={};I.T=it;try{var st=V(),_t=I.S;_t!==null&&_t(it,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(vt,ht)}catch(wt){ht(wt)}finally{Q!==null&&it.types!==null&&(Q.types=it.types),I.T=Q}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(V){return I.H.use(V)},At.useActionState=function(V,Q,it){return I.H.useActionState(V,Q,it)},At.useCallback=function(V,Q){return I.H.useCallback(V,Q)},At.useContext=function(V){return I.H.useContext(V)},At.useDebugValue=function(){},At.useDeferredValue=function(V,Q){return I.H.useDeferredValue(V,Q)},At.useEffect=function(V,Q){return I.H.useEffect(V,Q)},At.useEffectEvent=function(V){return I.H.useEffectEvent(V)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(V,Q,it){return I.H.useImperativeHandle(V,Q,it)},At.useInsertionEffect=function(V,Q){return I.H.useInsertionEffect(V,Q)},At.useLayoutEffect=function(V,Q){return I.H.useLayoutEffect(V,Q)},At.useMemo=function(V,Q){return I.H.useMemo(V,Q)},At.useOptimistic=function(V,Q){return I.H.useOptimistic(V,Q)},At.useReducer=function(V,Q,it){return I.H.useReducer(V,Q,it)},At.useRef=function(V){return I.H.useRef(V)},At.useState=function(V){return I.H.useState(V)},At.useSyncExternalStore=function(V,Q,it){return I.H.useSyncExternalStore(V,Q,it)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.1",At}var Dy;function Ad(){return Dy||(Dy=1,zf.exports=ST()),zf.exports}var Ut=Ad();const tv=W_(Ut);var Uf={exports:{}},Yl={},Lf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function bT(){return Iy||(Iy=1,(function(s){function e(z,J){var at=z.length;z.push(J);t:for(;0<at;){var ht=at-1>>>1,Et=z[ht];if(0<o(Et,J))z[ht]=J,z[at]=Et,at=ht;else break t}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],at=z.pop();if(at!==J){z[0]=at;t:for(var ht=0,Et=z.length,V=Et>>>1;ht<V;){var Q=2*(ht+1)-1,it=z[Q],st=Q+1,_t=z[st];if(0>o(it,at))st<Et&&0>o(_t,it)?(z[ht]=_t,z[st]=at,ht=st):(z[ht]=it,z[Q]=at,ht=Q);else if(st<Et&&0>o(_t,at))z[ht]=_t,z[st]=at,ht=st;else break t}}return J}function o(z,J){var at=z.sortIndex-J.sortIndex;return at!==0?at:z.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var _=[],v=[],A=1,S=null,M=3,G=!1,W=!1,tt=!1,$=!1,mt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function pt(z){for(var J=i(v);J!==null;){if(J.callback===null)r(v);else if(J.startTime<=z)r(v),J.sortIndex=J.expirationTime,e(_,J);else break;J=i(v)}}function Dt(z){if(tt=!1,pt(z),!W)if(i(_)!==null)W=!0,vt||(vt=!0,x());else{var J=i(v);J!==null&&oe(Dt,J.startTime-z)}}var vt=!1,I=-1,b=5,C=-1;function O(){return $?!0:!(s.unstable_now()-C<b)}function w(){if($=!1,vt){var z=s.unstable_now();C=z;var J=!0;try{t:{W=!1,tt&&(tt=!1,ct(I),I=-1),G=!0;var at=M;try{e:{for(pt(z),S=i(_);S!==null&&!(S.expirationTime>z&&O());){var ht=S.callback;if(typeof ht=="function"){S.callback=null,M=S.priorityLevel;var Et=ht(S.expirationTime<=z);if(z=s.unstable_now(),typeof Et=="function"){S.callback=Et,pt(z),J=!0;break e}S===i(_)&&r(_),pt(z)}else r(_);S=i(_)}if(S!==null)J=!0;else{var V=i(v);V!==null&&oe(Dt,V.startTime-z),J=!1}}break t}finally{S=null,M=at,G=!1}J=void 0}}finally{J?x():vt=!1}}}var x;if(typeof nt=="function")x=function(){nt(w)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xt=R.port2;R.port1.onmessage=w,x=function(){Xt.postMessage(null)}}else x=function(){mt(w,0)};function oe(z,J){I=mt(function(){z(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(z){switch(M){case 1:case 2:case 3:var J=3;break;default:J=M}var at=M;M=J;try{return z()}finally{M=at}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var at=M;M=z;try{return J()}finally{M=at}},s.unstable_scheduleCallback=function(z,J,at){var ht=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?ht+at:ht):at=ht,z){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=at+Et,z={id:A++,callback:J,priorityLevel:z,startTime:at,expirationTime:Et,sortIndex:-1},at>ht?(z.sortIndex=at,e(v,z),i(_)===null&&z===i(v)&&(tt?(ct(I),I=-1):tt=!0,oe(Dt,at-ht))):(z.sortIndex=Et,e(_,z),W||G||(W=!0,vt||(vt=!0,x()))),z},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(z){var J=M;return function(){var at=M;M=J;try{return z.apply(this,arguments)}finally{M=at}}}})(jf)),jf}var Vy;function RT(){return Vy||(Vy=1,Lf.exports=bT()),Lf.exports}var Bf={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function wT(){if(Ny)return Ze;Ny=1;var s=Ad();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Ze.flushSync=function(_){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=A,r.d.f()}},Ze.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Ze.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ze.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,S=y(A,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:G}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ze.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=y(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Ze.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=y(A,v.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ze.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=y(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Ze.requestFormReset=function(_){r.d.r(_)},Ze.unstable_batchedUpdates=function(_,v){return _(v)},Ze.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.1",Ze}var xy;function CT(){if(xy)return Bf.exports;xy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bf.exports=wT(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function DT(){if(My)return Yl;My=1;var s=RT(),e=Ad(),i=CT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return _(c),t;if(f===l)return _(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case mt:return"Profiler";case $:return"StrictMode";case Dt:return"Suspense";case vt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case nt:return t.displayName||"Context";case ct:return(t._context.displayName||"Context")+".Consumer";case pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Xt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Xt(t(n))}catch{}}return null}var oe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ht=[],Et=-1;function V(t){return{current:t}}function Q(t){0>Et||(t.current=ht[Et],ht[Et]=null,Et--)}function it(t,n){Et++,ht[Et]=t.current,t.current=n}var st=V(null),_t=V(null),wt=V(null),Lt=V(null);function Ie(t,n){switch(it(wt,n),it(_t,t),it(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Xp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Xp(n),t=Kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(st),it(st,t)}function ae(){Q(st),Q(_t),Q(wt)}function Pa(t){t.memoizedState!==null&&it(Lt,t);var n=st.current,a=Kp(n,t.type);n!==a&&(it(_t,t),it(st,a))}function Is(t){_t.current===t&&(Q(st),Q(_t)),Lt.current===t&&(Q(Lt),Pl._currentValue=at)}var Vs,Ns;function Jn(t){if(Vs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Vs=n&&n[1]||"",Ns=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vs+t+Ns}var Pr=!1;function Ha(t,n){if(!t||Pr)return"";Pr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(P){var k=P}Reflect.construct(t,[],X)}else{try{X.call()}catch(P){k=P}t.call(X.prototype)}}else{try{throw Error()}catch(P){k=P}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(P){if(P&&k&&typeof P.stack=="string")return[P.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),B=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===B.length)for(l=D.length-1,c=B.length-1;1<=l&&0<=c&&D[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==B[c]){var F=`
`+D[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Pr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Jn(a):""}function Hr(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Ha(t.type,!1);case 11:return Ha(t.type.render,!1);case 1:return Ha(t.type,!0);case 31:return Jn("Activity");default:return""}}function Gr(t){try{var n="",a=null;do n+=Hr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,Zi=s.unstable_cancelCallback,zc=s.unstable_shouldYield,yo=s.unstable_requestPaint,tn=s.unstable_now,Ga=s.unstable_getCurrentPriorityLevel,Fr=s.unstable_ImmediatePriority,Qr=s.unstable_UserBlockingPriority,Ji=s.unstable_NormalPriority,Uc=s.unstable_LowPriority,_o=s.unstable_IdlePriority,vo=s.log,Eo=s.unstable_setDisableYieldValue,Un=null,je=null;function Tn(t){if(typeof vo=="function"&&Eo(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Un,t)}catch{}}var he=Math.clz32?Math.clz32:Ao,To=Math.log,xs=Math.LN2;function Ao(t){return t>>>=0,t===0?32:31-(To(t)/xs|0)|0}var $n=256,Fa=262144,ye=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Wn(l):(g&=E,g!==0?c=Wn(g):a||(a=E&~t,a!==0&&(c=Wn(a))))):(E=l&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):a||(a=l&~t,a!==0&&(c=Wn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ei(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-he(a),X=1<<F;E[F]=0,D[F]=-1;var k=B[F];if(k!==null)for(B[F]=null,F=0;F<k.length;F++){var P=k[F];P!==null&&(P.lane&=-536870913)}a&=~X}l!==0&&Ya(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ya(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Yr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Xr(t,n){var a=n&-n;return a=(a&42)!==0?1:Xa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Xa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bo(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function jn(t,n){var a=J.p;try{return J.p=t,n()}finally{J.p=a}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Oe="__reactProps$"+Bn,ni="__reactContainer$"+Bn,Ms="__reactEvents$"+Bn,Bc="__reactListeners$"+Bn,Ro="__reactHandles$"+Bn,wo="__reactResources$"+Bn,ii="__reactMarker$"+Bn;function Os(t){delete t[_e],delete t[Oe],delete t[Ms],delete t[Bc],delete t[Ro]}function ai(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ni]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ny(t);t!==null;){if(a=t[_e])return a;t=ny(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[_e]||t[ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function si(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ii]=!0}var Kr=new Set,Zr={};function ri(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(Zr[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},Wr={};function Co(t){return pe.call(Wr,t)?!0:pe.call($r,t)?!1:Jr.test(t)?Wr[t]=!0:($r[t]=!0,!1)}function zs(t,n,a){if(Co(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $i(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=$i(t)?"checked":"value";t._valueTracker=tl(t,n,""+t[n])}}function Ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=$i(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Za=/[\n"\\]/g;function an(t){return t.replace(Za,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Us(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?el(t,g,ze(n)):a!=null?el(t,g,ze(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ze(E):t.removeAttribute("name")}function Do(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function el(t,n,a){n==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Io(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function ta(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(oe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Vo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function il(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&nl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&nl(t,f,n[f])}function Ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ea=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(t){return ea.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kn(){}var al=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var na=null,ui=null;function Ja(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Us(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Us(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ka(l)}break t;case"textarea":Io(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Wi(t,!!a.multiple,n,!1)}}}var Bs=!1;function ia(t,n,a){if(Bs)return t(n,a);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(na!==null||ui!==null)&&(bu(),na&&(n=na,t=ui,ui=na=null,Ja(n),t)))for(n=0;n<t.length;n++)Ja(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{$a=!1}var ci=null,sl=null,Wa=null;function rl(){if(Wa)return Wa;var t,n=sl,a=n.length,l,c="value"in ci?ci.value:ci.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Wa=c.slice(t,1<l?1-l:void 0)}function ts(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Pn(){return!1}function Be(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Pn,this.isPropagationStopped=Pn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Be(Vi),aa=S({},Vi,{view:0,detail:0}),ll=Be(aa),sa,ks,fi,qs=S({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(sa=t.screenX-fi.screenX,ks=t.screenY-fi.screenY):ks=sa=0,fi=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:ks}}),ol=Be(qs),es=S({},qs,{dataTransfer:0}),xo=Be(es),Mo=S({},aa,{relatedTarget:0}),ns=Be(Mo),ul=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=Be(ul),Ps=S({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zo=Be(Ps),Uo=S({},Vi,{data:0}),di=Be(Uo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function ra(){return ko}var en=S({},aa,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(t){return t.type==="keypress"?ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=Be(en),Po=S({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=Be(Po),u=S({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),m=Be(u),p=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),L=S({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),et=S({},Vi,{newState:0,oldState:0}),bt=Be(et),fe=[9,13,27,32],Pt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var Rn=bn&&"TextEvent"in window&&!se,mi=bn&&(!Pt||se&&8<se&&11>=se),Hn=" ",Gn=!1;function is(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gs=!1;function F0(t,n){switch(t){case"compositionend":return Hs(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return t=n.data,t===Hn&&Gn?null:t;default:return null}}function Q0(t,n){if(Gs)return t==="compositionend"||!Pt&&is(t,n)?(t=rl(),Wa=sl=ci=null,Gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Y0[t.type]:n==="textarea"}function rm(t,n,a,l){na?ui?ui.push(l):ui=[l]:na=l,n=Nu(n,"onChange"),0<n.length&&(a=new hi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var cl=null,hl=null;function X0(t){Pp(t,0)}function Ho(t){var n=fn(t);if(Ka(n))return t}function lm(t,n){if(t==="change")return n}var om=!1;if(bn){var kc;if(bn){var qc="oninput"in document;if(!qc){var um=document.createElement("div");um.setAttribute("oninput","return;"),qc=typeof um.oninput=="function"}kc=qc}else kc=!1;om=kc&&(!document.documentMode||9<document.documentMode)}function cm(){cl&&(cl.detachEvent("onpropertychange",hm),hl=cl=null)}function hm(t){if(t.propertyName==="value"&&Ho(hl)){var n=[];rm(n,hl,t,Sn(t)),ia(X0,n)}}function K0(t,n,a){t==="focusin"?(cm(),cl=n,hl=a,cl.attachEvent("onpropertychange",hm)):t==="focusout"&&cm()}function Z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(hl)}function J0(t,n){if(t==="click")return Ho(n)}function $0(t,n){if(t==="input"||t==="change")return Ho(n)}function W0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:W0;function fl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pe.call(n,c)||!mn(t[c],n[c]))return!1}return!0}function fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dm(t,n){var a=fm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=fm(a)}}function mm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?mm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=oi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=oi(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tE=bn&&"documentMode"in document&&11>=document.documentMode,Fs=null,Hc=null,dl=null,Gc=!1;function pm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gc||Fs==null||Fs!==oi(l)||(l=Fs,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Nu(Hc,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Fs)))}function as(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Qs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Fc={},ym={};bn&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ss(t){if(Fc[t])return Fc[t];if(!Qs[t])return t;var n=Qs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ym)return Fc[t]=n[a];return t}var _m=ss("animationend"),vm=ss("animationiteration"),Em=ss("animationstart"),eE=ss("transitionrun"),nE=ss("transitionstart"),iE=ss("transitioncancel"),Tm=ss("transitionend"),Am=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Fn(t,n){Am.set(t,n),ri(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],Ys=0,Yc=0;function Fo(){for(var t=Ys,n=Yc=Ys=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Sm(a,c,f)}}function Qo(t,n,a,l){wn[Ys++]=t,wn[Ys++]=n,wn[Ys++]=a,wn[Ys++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xc(t,n,a,l){return Qo(t,n,a,l),Yo(t)}function rs(t,n){return Qo(t,null,null,n),Yo(t)}function Sm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Yo(t){if(50<zl)throw zl=0,af=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xs={};function aE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new aE(t,n,a,l)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Kc(t)&&(g=1);else if(typeof t=="string")g=uT(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=gn(31,a,n,c),t.elementType=C,t.lanes=f,t;case tt:return ls(a.children,c,f,n);case $:g=8,c|=24;break;case mt:return t=gn(12,a,n,c|2),t.elementType=mt,t.lanes=f,t;case Dt:return t=gn(13,a,n,c),t.elementType=Dt,t.lanes=f,t;case vt:return t=gn(19,a,n,c),t.elementType=vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:g=10;break t;case ct:g=9;break t;case pt:g=11;break t;case I:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=gn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ls(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function Zc(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function Rm(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Jc(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var wm=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=wm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Gr(n)},wm.set(t,n),n)}return{value:t,source:n,stack:Gr(n)}}var Ks=[],Zs=0,Ko=null,ml=0,Dn=[],In=0,la=null,gi=1,pi="";function Mi(t,n){Ks[Zs++]=ml,Ks[Zs++]=Ko,Ko=t,ml=n}function Cm(t,n,a){Dn[In++]=gi,Dn[In++]=pi,Dn[In++]=la,la=t;var l=gi;t=pi;var c=32-he(l)-1;l&=~(1<<c),a+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gi=1<<32-he(n)+c|a<<c|l,pi=f+t}else gi=1<<f|a<<c|l,pi=t}function $c(t){t.return!==null&&(Mi(t,1),Cm(t,1,0))}function Wc(t){for(;t===Ko;)Ko=Ks[--Zs],Ks[Zs]=null,ml=Ks[--Zs],Ks[Zs]=null;for(;t===la;)la=Dn[--In],Dn[In]=null,pi=Dn[--In],Dn[In]=null,gi=Dn[--In],Dn[In]=null}function Dm(t,n){Dn[In++]=gi,Dn[In++]=pi,Dn[In++]=la,gi=n.id,pi=n.overflow,la=t}var ke=null,ee=null,zt=!1,oa=null,Vn=!1,th=Error(r(519));function ua(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Cn(n,t)),th}function Im(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Oe]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Vt(Ll[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Do(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ta(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Qp(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||ua(t,!0)}function Vm(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:ke=ke.return}}function Js(t){if(t!==ke)return!1;if(!zt)return Vm(t),zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vf(t.type,t.memoizedProps)),a=!a),a&&ee&&ua(t),Vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=ey(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=ey(t)}else n===27?(n=ee,Sa(t.type)?(t=bf,bf=null,ee=t):ee=n):ee=ke?xn(t.stateNode.nextSibling):null;return!0}function os(){ee=ke=null,zt=!1}function eh(){var t=oa;return t!==null&&(un===null?un=t:un.push.apply(un,t),oa=null),t}function gl(t){oa===null?oa=[t]:oa.push(t)}var nh=V(null),us=null,Oi=null;function ca(t,n,a){it(nh,n._currentValue),n._currentValue=a}function zi(t){t._currentValue=nh.current,Q(nh)}function ih(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ah(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ih(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ih(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function $s(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;mn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&ah(n,t,a,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cs(t){us=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Nm(us,t)}function Jo(t,n){return us===null&&cs(t),Nm(t,n)}function Nm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(r(308));Oi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Oi=Oi.next=n;return a}var sE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},rE=s.unstable_scheduleCallback,lE=s.unstable_NormalPriority,Te={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new sE,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&rE(lE,function(){t.controller.abort()})}var yl=null,rh=0,Ws=0,tr=null;function oE(t,n){if(yl===null){var a=yl=[];rh=0,Ws=cf(),tr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rh++,n.then(xm,xm),n}function xm(){if(--rh===0&&yl!==null){tr!==null&&(tr.status="fulfilled");var t=yl;yl=null,Ws=0,tr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Mm=z.S;z.S=function(t,n){pp=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oE(t,n),Mm!==null&&Mm(t,n)};var hs=V(null);function lh(){var t=hs.current;return t!==null?t:Wt.pooledCache}function $o(t,n){n===null?it(hs,hs.current):it(hs,n.pool)}function Om(){var t=lh();return t===null?null:{parent:Te._currentValue,pool:t}}var er=Error(r(460)),oh=Error(r(474)),Wo=Error(r(542)),tu={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Um(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(kn,kn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(kn,kn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw ds=n,er}}function fs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ds=a,er):a}}var ds=null;function Lm(){if(ds===null)throw Error(r(459));var t=ds;return ds=null,t}function jm(t){if(t===er||t===Wo)throw Error(r(483))}var nr=null,_l=0;function eu(t){var n=_l;return _l+=1,nr===null&&(nr=[]),Um(nr,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Bm(t){function n(U,N){if(t){var j=U.deletions;j===null?(U.deletions=[N],U.flags|=16):j.push(N)}}function a(U,N){if(!t)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function c(U,N){return U=xi(U,N),U.index=0,U.sibling=null,U}function f(U,N,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<N?(U.flags|=67108866,N):j):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,j,Y){return N===null||N.tag!==6?(N=Zc(j,U.mode,Y),N.return=U,N):(N=c(N,j),N.return=U,N)}function D(U,N,j,Y){var ft=j.type;return ft===tt?F(U,N,j.props.children,Y,j.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&fs(ft)===N.type)?(N=c(N,j.props),vl(N,j),N.return=U,N):(N=Xo(j.type,j.key,j.props,null,U.mode,Y),vl(N,j),N.return=U,N)}function B(U,N,j,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Jc(j,U.mode,Y),N.return=U,N):(N=c(N,j.children||[]),N.return=U,N)}function F(U,N,j,Y,ft){return N===null||N.tag!==7?(N=ls(j,U.mode,Y,ft),N.return=U,N):(N=c(N,j),N.return=U,N)}function X(U,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Zc(""+N,U.mode,j),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return j=Xo(N.type,N.key,N.props,null,U.mode,j),vl(j,N),j.return=U,j;case W:return N=Jc(N,U.mode,j),N.return=U,N;case b:return N=fs(N),X(U,N,j)}if(oe(N)||x(N))return N=ls(N,U.mode,j,null),N.return=U,N;if(typeof N.then=="function")return X(U,eu(N),j);if(N.$$typeof===nt)return X(U,Jo(U,N),j);nu(U,N)}return null}function k(U,N,j,Y){var ft=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ft!==null?null:E(U,N,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===ft?D(U,N,j,Y):null;case W:return j.key===ft?B(U,N,j,Y):null;case b:return j=fs(j),k(U,N,j,Y)}if(oe(j)||x(j))return ft!==null?null:F(U,N,j,Y,null);if(typeof j.then=="function")return k(U,N,eu(j),Y);if(j.$$typeof===nt)return k(U,N,Jo(U,j),Y);nu(U,j)}return null}function P(U,N,j,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(j)||null,E(N,U,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return U=U.get(Y.key===null?j:Y.key)||null,D(N,U,Y,ft);case W:return U=U.get(Y.key===null?j:Y.key)||null,B(N,U,Y,ft);case b:return Y=fs(Y),P(U,N,j,Y,ft)}if(oe(Y)||x(Y))return U=U.get(j)||null,F(N,U,Y,ft,null);if(typeof Y.then=="function")return P(U,N,j,eu(Y),ft);if(Y.$$typeof===nt)return P(U,N,j,Jo(N,Y),ft);nu(N,Y)}return null}function ot(U,N,j,Y){for(var ft=null,kt=null,ut=N,Ct=N=0,xt=null;ut!==null&&Ct<j.length;Ct++){ut.index>Ct?(xt=ut,ut=null):xt=ut.sibling;var qt=k(U,ut,j[Ct],Y);if(qt===null){ut===null&&(ut=xt);break}t&&ut&&qt.alternate===null&&n(U,ut),N=f(qt,N,Ct),kt===null?ft=qt:kt.sibling=qt,kt=qt,ut=xt}if(Ct===j.length)return a(U,ut),zt&&Mi(U,Ct),ft;if(ut===null){for(;Ct<j.length;Ct++)ut=X(U,j[Ct],Y),ut!==null&&(N=f(ut,N,Ct),kt===null?ft=ut:kt.sibling=ut,kt=ut);return zt&&Mi(U,Ct),ft}for(ut=l(ut);Ct<j.length;Ct++)xt=P(ut,U,Ct,j[Ct],Y),xt!==null&&(t&&xt.alternate!==null&&ut.delete(xt.key===null?Ct:xt.key),N=f(xt,N,Ct),kt===null?ft=xt:kt.sibling=xt,kt=xt);return t&&ut.forEach(function(Da){return n(U,Da)}),zt&&Mi(U,Ct),ft}function gt(U,N,j,Y){if(j==null)throw Error(r(151));for(var ft=null,kt=null,ut=N,Ct=N=0,xt=null,qt=j.next();ut!==null&&!qt.done;Ct++,qt=j.next()){ut.index>Ct?(xt=ut,ut=null):xt=ut.sibling;var Da=k(U,ut,qt.value,Y);if(Da===null){ut===null&&(ut=xt);break}t&&ut&&Da.alternate===null&&n(U,ut),N=f(Da,N,Ct),kt===null?ft=Da:kt.sibling=Da,kt=Da,ut=xt}if(qt.done)return a(U,ut),zt&&Mi(U,Ct),ft;if(ut===null){for(;!qt.done;Ct++,qt=j.next())qt=X(U,qt.value,Y),qt!==null&&(N=f(qt,N,Ct),kt===null?ft=qt:kt.sibling=qt,kt=qt);return zt&&Mi(U,Ct),ft}for(ut=l(ut);!qt.done;Ct++,qt=j.next())qt=P(ut,U,Ct,qt.value,Y),qt!==null&&(t&&qt.alternate!==null&&ut.delete(qt.key===null?Ct:qt.key),N=f(qt,N,Ct),kt===null?ft=qt:kt.sibling=qt,kt=qt);return t&&ut.forEach(function(ET){return n(U,ET)}),zt&&Mi(U,Ct),ft}function $t(U,N,j,Y){if(typeof j=="object"&&j!==null&&j.type===tt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:t:{for(var ft=j.key;N!==null;){if(N.key===ft){if(ft=j.type,ft===tt){if(N.tag===7){a(U,N.sibling),Y=c(N,j.props.children),Y.return=U,U=Y;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&fs(ft)===N.type){a(U,N.sibling),Y=c(N,j.props),vl(Y,j),Y.return=U,U=Y;break t}a(U,N);break}else n(U,N);N=N.sibling}j.type===tt?(Y=ls(j.props.children,U.mode,Y,j.key),Y.return=U,U=Y):(Y=Xo(j.type,j.key,j.props,null,U.mode,Y),vl(Y,j),Y.return=U,U=Y)}return g(U);case W:t:{for(ft=j.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(U,N.sibling),Y=c(N,j.children||[]),Y.return=U,U=Y;break t}else{a(U,N);break}else n(U,N);N=N.sibling}Y=Jc(j,U.mode,Y),Y.return=U,U=Y}return g(U);case b:return j=fs(j),$t(U,N,j,Y)}if(oe(j))return ot(U,N,j,Y);if(x(j)){if(ft=x(j),typeof ft!="function")throw Error(r(150));return j=ft.call(j),gt(U,N,j,Y)}if(typeof j.then=="function")return $t(U,N,eu(j),Y);if(j.$$typeof===nt)return $t(U,N,Jo(U,j),Y);nu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(U,N.sibling),Y=c(N,j),Y.return=U,U=Y):(a(U,N),Y=Zc(j,U.mode,Y),Y.return=U,U=Y),g(U)):a(U,N)}return function(U,N,j,Y){try{_l=0;var ft=$t(U,N,j,Y);return nr=null,ft}catch(ut){if(ut===er||ut===Wo)throw ut;var kt=gn(29,ut,null,U.mode);return kt.lanes=Y,kt.return=U,kt}finally{}}}var ms=Bm(!0),km=Bm(!1),ha=!1;function uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function da(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),Sm(t,null,a),n}return Qo(t,l,n,a),Yo(t)}function El(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Yr(t,a)}}function hh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var fh=!1;function Tl(){if(fh){var t=tr;if(t!==null)throw t}}function Al(t,n,a,l){fh=!1;var c=t.updateQueue;ha=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,B=D.next;D.next=null,g===null?f=B:g.next=B,g=D;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=B:E.next=B,F.lastBaseUpdate=D))}if(f!==null){var X=c.baseState;g=0,F=B=D=null,E=f;do{var k=E.lane&-536870913,P=k!==E.lane;if(P?(Nt&k)===k:(l&k)===k){k!==0&&k===Ws&&(fh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,gt=E;k=n;var $t=a;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){X=ot.call($t,X,k);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,k=typeof ot=="function"?ot.call($t,X,k):ot,k==null)break t;X=S({},X,k);break t;case 2:ha=!0}}k=E.callback,k!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[k]:P.push(k))}else P={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(B=F=P,D=X):F=F.next=P,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);F===null&&(D=X),c.baseState=D,c.firstBaseUpdate=B,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),_a|=g,t.lanes=g,t.memoizedState=X}}function qm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Pm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qm(a[t],n)}var ir=V(null),iu=V(0);function Hm(t,n){t=Gi,it(iu,t),it(ir,n),Gi=t|n.baseLanes}function dh(){it(iu,Gi),it(ir,ir.current)}function mh(){Gi=iu.current,Q(ir),Q(iu)}var pn=V(null),Nn=null;function ma(t){var n=t.alternate;it(de,de.current&1),it(pn,t),Nn===null&&(n===null||ir.current!==null||n.memoizedState!==null)&&(Nn=t)}function gh(t){it(de,de.current),it(pn,t),Nn===null&&(Nn=t)}function Gm(t){t.tag===22?(it(de,de.current),it(pn,t),Nn===null&&(Nn=t)):ga()}function ga(){it(de,de.current),it(pn,pn.current)}function yn(t){Q(pn),Nn===t&&(Nn=null),Q(de)}var de=V(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Af(a)||Sf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,Rt=null,Zt=null,Ae=null,su=!1,ar=!1,gs=!1,ru=0,Sl=0,sr=null,cE=0;function ue(){throw Error(r(321))}function ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function yh(t,n,a,l,c,f){return Ui=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?Cg:xh,gs=!1,f=a(l,c),gs=!1,ar&&(f=Qm(n,a,l,c)),Fm(t),f}function Fm(t){z.H=wl;var n=Zt!==null&&Zt.next!==null;if(Ui=0,Ae=Zt=Rt=null,su=!1,Sl=0,sr=null,n)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&Zo(t)&&(Se=!0))}function Qm(t,n,a,l){Rt=t;var c=0;do{if(ar&&(sr=null),Sl=0,ar=!1,25<=c)throw Error(r(301));if(c+=1,Ae=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Dg,f=n(a,l)}while(ar);return f}function hE(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?bl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function _h(){var t=ru!==0;return ru=0,t}function vh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Eh(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}Ui=0,Ae=Zt=Rt=null,ar=!1,Sl=ru=0,sr=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Zt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Ae===null?Rt.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=t;else{if(t===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Rt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var n=Sl;return Sl+=1,sr===null&&(sr=[]),t=Um(sr,t,n),n=Rt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Cg:xh),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===nt)return qe(t)}throw Error(r(438,String(t)))}function Th(t){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Li(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=me();return Ah(n,Zt,t)}function Ah(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,D=null,B=n,F=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Nt&X)===X:(Ui&X)===X){var k=B.revertLane;if(k===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Ws&&(F=!0);else if((Ui&k)===k){B=B.next,k===Ws&&(F=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=X,g=f):D=D.next=X,Rt.lanes|=k,_a|=k;X=B.action,gs&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else k={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=k,g=f):D=D.next=k,Rt.lanes|=X,_a|=X;B=B.next}while(B!==null&&B!==n);if(D===null?g=f:D.next=E,!mn(f,t.memoizedState)&&(Se=!0,F&&(a=tr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sh(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Ym(t,n,a){var l=Rt,c=me(),f=zt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!mn((Zt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,wh(Zm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,rr(9,{destroy:void 0},Km.bind(null,l,c,a,n),null),Wt===null)throw Error(r(349));f||(Ui&127)!==0||Xm(l,n,a)}return a}function Xm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=lu(),Rt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Km(t,n,a,l){n.value=a,n.getSnapshot=l,Jm(n)&&$m(t)}function Zm(t,n,a){return a(function(){Jm(n)&&$m(t)})}function Jm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function $m(t){var n=rs(t,2);n!==null&&cn(n,t,2)}function bh(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),gs){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},n}function Wm(t,n,a,l){return t.baseState=a,Ah(t,Zt,typeof l=="function"?l:Li)}function fE(t,n,a,l,c){if(fu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};z.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,tg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function tg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=z.T,g={};z.T=g;try{var E=a(c,l),D=z.S;D!==null&&D(g,E),eg(t,n,E)}catch(B){Rh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),z.T=f}}else try{f=a(c,l),eg(t,n,f)}catch(B){Rh(t,n,B)}}function eg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ng(t,n,l)},function(l){return Rh(t,n,l)}):ng(t,n,a)}function ng(t,n,a){n.status="fulfilled",n.value=a,ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,tg(t,a)))}function Rh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ig(n),n=n.next;while(n!==l)}t.action=null}function ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function sg(t,n){if(zt){var a=Wt.formState;if(a!==null){t:{var l=Rt;if(zt){if(ee){e:{for(var c=ee,f=Vn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=xn(c.nextSibling),l=c.data==="F!";break t}}ua(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},a.queue=l,a=bg.bind(null,Rt,l),l.dispatch=a,l=bh(!1),f=Nh.bind(null,Rt,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=fE.bind(null,Rt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function rg(t){var n=me();return lg(n,Zt,t)}function lg(t,n,a){if(n=Ah(t,n,ag)[0],t=uu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bl(n)}catch(g){throw g===er?Wo:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,rr(9,{destroy:void 0},dE.bind(null,c,a),null)),[l,f,t]}function dE(t,n){t.action=n}function og(t){var n=me(),a=Zt;if(a!==null)return lg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function rr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=lu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ug(){return me().memoizedState}function cu(t,n,a,l){var c=nn();Rt.flags|=t,c.memoizedState=rr(1|n,{destroy:void 0},a,l===void 0?null:l)}function hu(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&ph(l,Zt.memoizedState.deps)?c.memoizedState=rr(n,f,a,l):(Rt.flags|=t,c.memoizedState=rr(1|n,f,a,l))}function cg(t,n){cu(8390656,8,t,n)}function wh(t,n){hu(2048,8,t,n)}function mE(t){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=lu(),Rt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function hg(t){var n=me().memoizedState;return mE({ref:n,nextImpl:t}),function(){if((Ht&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function fg(t,n){return hu(4,2,t,n)}function dg(t,n){return hu(4,4,t,n)}function mg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,a){a=a!=null?a.concat([t]):null,hu(4,4,mg.bind(null,n,t),a)}function Ch(){}function pg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function yg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ph(n,l[1]))return l[0];if(l=t(),gs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function Dh(t,n,a){return a===void 0||(Ui&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=_p(),Rt.lanes|=t,_a|=t,a)}function _g(t,n,a,l){return mn(a,n)?a:ir.current!==null?(t=Dh(t,a,l),mn(t,n)||(Se=!0),t):(Ui&42)===0||(Ui&1073741824)!==0&&(Nt&261930)===0?(Se=!0,t.memoizedState=a):(t=_p(),Rt.lanes|=t,_a|=t,n)}function vg(t,n,a,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=z.T,E={};z.T=E,Nh(t,!1,n,a);try{var D=c(),B=z.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var F=uE(D,l);Rl(t,n,F,En(t))}else Rl(t,n,l,En(t))}catch(X){Rl(t,n,{then:function(){},status:"rejected",reason:X},En())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),z.T=g}}function gE(){}function Ih(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Eg(t).queue;vg(t,c,n,at,a===null?gE:function(){return Tg(t),a(l)})}function Eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:at},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tg(t){var n=Eg(t);n.next===null&&(n=t.alternate.memoizedState),Rl(t,n.next.queue,{},En())}function Vh(){return qe(Pl)}function Ag(){return me().memoizedState}function Sg(){return me().memoizedState}function pE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=fa(a);var l=da(n,t,a);l!==null&&(cn(l,n,a),El(l,n,a)),n={cache:sh()},t.payload=n;return}n=n.return}}function yE(t,n,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fu(t)?Rg(n,a):(a=Xc(t,n,a,l),a!==null&&(cn(a,t,l),wg(a,n,l)))}function bg(t,n,a){var l=En();Rl(t,n,a,l)}function Rl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(t))Rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,mn(E,g))return Qo(t,n,c,0),Wt===null&&Fo(),!1}catch{}finally{}if(a=Xc(t,n,c,l),a!==null)return cn(a,t,l),wg(a,n,l),!0}return!1}function Nh(t,n,a,l){if(l={lane:2,revertLane:cf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(n)throw Error(r(479))}else n=Xc(t,a,l,2),n!==null&&cn(n,t,2)}function fu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Rg(t,n){ar=su=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function wg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Yr(t,a)}}var wl={readContext:qe,use:ou,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};wl.useEffectEvent=ue;var Cg={readContext:qe,use:ou,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,cu(4194308,4,mg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(gs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var c=a(n);if(gs){Tn(!0);try{a(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=yE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=bh(t);var n=t.queue,a=bg.bind(null,Rt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ch,useDeferredValue:function(t,n){var a=nn();return Dh(a,t,n)},useTransition:function(){var t=bh(!1);return t=vg.bind(null,Rt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Rt,c=nn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Nt&127)!==0||Xm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,cg(Zm.bind(null,l,f,t),[t]),l.flags|=2048,rr(9,{destroy:void 0},Km.bind(null,l,f,a,n),null),a},useId:function(){var t=nn(),n=Wt.identifierPrefix;if(zt){var a=pi,l=gi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ru++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=cE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vh,useFormState:sg,useActionState:sg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nh.bind(null,Rt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Th,useCacheRefresh:function(){return nn().memoizedState=pE.bind(null,Rt)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xh={readContext:qe,use:ou,useCallback:pg,useContext:qe,useEffect:wh,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:uu,useRef:ug,useState:function(){return uu(Li)},useDebugValue:Ch,useDeferredValue:function(t,n){var a=me();return _g(a,Zt.memoizedState,t,n)},useTransition:function(){var t=uu(Li)[0],n=me().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:Vh,useFormState:rg,useActionState:rg,useOptimistic:function(t,n){var a=me();return Wm(a,Zt,t,n)},useMemoCache:Th,useCacheRefresh:Sg};xh.useEffectEvent=hg;var Dg={readContext:qe,use:ou,useCallback:pg,useContext:qe,useEffect:wh,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:Sh,useRef:ug,useState:function(){return Sh(Li)},useDebugValue:Ch,useDeferredValue:function(t,n){var a=me();return Zt===null?Dh(a,t,n):_g(a,Zt.memoizedState,t,n)},useTransition:function(){var t=Sh(Li)[0],n=me().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:Vh,useFormState:og,useActionState:og,useOptimistic:function(t,n){var a=me();return Zt!==null?Wm(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Th,useCacheRefresh:Sg};Dg.useEffectEvent=hg;function Mh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Oh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),c=fa(l);c.payload=n,a!=null&&(c.callback=a),n=da(t,c,l),n!==null&&(cn(n,t,l),El(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),c=fa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=da(t,c,l),n!==null&&(cn(n,t,l),El(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=fa(a);l.tag=2,n!=null&&(l.callback=n),n=da(t,l,a),n!==null&&(cn(n,t,a),El(n,t,a))}};function Ig(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!fl(a,l)||!fl(c,f):!0}function Vg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function ps(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Ng(t){Go(t)}function xg(t){console.error(t)}function Mg(t){Go(t)}function du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zh(t,n,a){return a=fa(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,n)},a}function zg(t){return t=fa(t),t.tag=3,t}function Ug(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Og(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Og(n,a,l),typeof c!="function"&&(va===null?va=new Set([this]):va.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _E(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&$s(n,a,c,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Ru():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),lf(t,l,c)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),lf(t,l,c)),!1}throw Error(r(435,a.tag))}return lf(t,l,c),Ru(),!1}if(zt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==th&&(t=Error(r(422),{cause:l}),gl(Cn(t,a)))):(l!==th&&(n=Error(r(423),{cause:l}),gl(Cn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,a),c=zh(t.stateNode,l,c),hh(t,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=Cn(f,a),Ol===null?Ol=[f]:Ol.push(f),ce!==4&&(ce=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=zh(a.stateNode,l,t),hh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(va===null||!va.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=zg(c),Ug(c,t,a,l),hh(a,c),!1}a=a.return}while(a!==null);return!1}var Uh=Error(r(461)),Se=!1;function Pe(t,n,a,l){n.child=t===null?km(n,null,a,l):ms(n,t.child,a,l)}function Lg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return cs(n),l=yh(t,n,a,g,f,c),E=_h(),t!==null&&!Se?(vh(t,n,c),ji(t,n,c)):(zt&&E&&$c(n),n.flags|=1,Pe(t,n,l,c),n.child)}function jg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Kc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Bg(t,n,f,l,c)):(t=Xo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(g,l)&&t.ref===n.ref)return ji(t,n,c)}return n.flags|=1,t=xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Bg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(fl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Gh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,ji(t,n,c)}return Lh(t,n,a,l,c)}function kg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return qg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,f!==null?f.cachePool:null),f!==null?Hm(n,f):dh(),Gm(n);else return l=n.lanes=536870912,qg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?($o(n,f.cachePool),Hm(n,f),ga(),n.memoizedState=null):(t!==null&&$o(n,null),dh(),ga());return Pe(t,n,c,a),n.child}function Cl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qg(t,n,a,l,c){var f=lh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&$o(n,null),dh(),Gm(n),t!==null&&$s(t,n,l,!0),n.childLanes=c,null}function mu(t,n){return n=pu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Pg(t,n,a){return ms(n,t.child,null,a),t=mu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function vE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(zt){if(l.mode==="hidden")return t=mu(n,l),n.lanes=536870912,Cl(null,t);if(gh(n),(t=ee)?(t=ty(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:la!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Rm(t),a.return=n,n.child=a,ke=n,ee=null)):t=null,t===null)throw ua(n);return n.lanes=536870912,null}return mu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(gh(n),c)if(n.flags&256)n.flags&=-257,n=Pg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||$s(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Wt,l!==null&&(g=Xr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,rs(t,g),cn(l,t,g),Uh;Ru(),n=Pg(t,n,a)}else t=f.treeContext,ee=xn(g.nextSibling),ke=n,zt=!0,oa=null,Vn=!1,t!==null&&Dm(n,t),n=mu(n,l),n.flags|=4096;return n}return t=xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function gu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Lh(t,n,a,l,c){return cs(n),a=yh(t,n,a,l,void 0,c),l=_h(),t!==null&&!Se?(vh(t,n,c),ji(t,n,c)):(zt&&l&&$c(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Hg(t,n,a,l,c,f){return cs(n),n.updateQueue=null,a=Qm(n,l,a,c),Fm(t),l=_h(),t!==null&&!Se?(vh(t,n,f),ji(t,n,f)):(zt&&l&&$c(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Gg(t,n,a,l,c){if(cs(n),n.stateNode===null){var f=Xs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},uh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Xs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Mh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Oh.enqueueReplaceState(f,f.state,null),Al(n,l,f,c),Tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=ps(a,E);f.props=D;var B=f.context,F=a.contextType;g=Xs,typeof F=="object"&&F!==null&&(g=qe(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Vg(n,f,l,g),ha=!1;var k=n.memoizedState;f.state=k,Al(n,l,f,c),Tl(),B=n.memoizedState,E||k!==B||ha?(typeof X=="function"&&(Mh(n,a,X,l),B=n.memoizedState),(D=ha||Ig(n,a,D,l,k,B,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ch(t,n),g=n.memoizedProps,F=ps(a,g),f.props=F,X=n.pendingProps,k=f.context,B=a.contextType,D=Xs,typeof B=="object"&&B!==null&&(D=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||k!==D)&&Vg(n,f,l,D),ha=!1,k=n.memoizedState,f.state=k,Al(n,l,f,c),Tl();var P=n.memoizedState;g!==X||k!==P||ha||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(Mh(n,a,E,l),P=n.memoizedState),(F=ha||Ig(n,a,F,l,k,P,D)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=D,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ms(n,t.child,null,c),n.child=ms(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=ji(t,n,c),t}function Fg(t,n,a,l){return os(),n.flags|=256,Pe(t,n,a,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(t){return{baseLanes:t,cachePool:Om()}}function kh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function Qg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?ma(n):ga(),(t=ee)?(t=ty(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:la!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Rm(t),a.return=n,n.child=a,ke=n,ee=null)):t=null,t===null)throw ua(n);return Sf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ga(),c=n.mode,E=pu({mode:"hidden",children:E},c),l=ls(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Bh(a),l.childLanes=kh(t,g,a),n.memoizedState=jh,Cl(null,l)):(ma(n),qh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(ma(n),n.flags&=-257,n=Ph(t,n,a)):n.memoizedState!==null?(ga(),n.child=t.child,n.flags|=128,n=null):(ga(),E=l.fallback,c=n.mode,l=pu({mode:"visible",children:l.children},c),E=ls(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ms(n,t.child,null,a),l=n.child,l.memoizedState=Bh(a),l.childLanes=kh(t,g,a),n.memoizedState=jh,n=Cl(null,l));else if(ma(n),Sf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,gl({value:l,source:null,stack:null}),n=Ph(t,n,a)}else if(Se||$s(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(l=Xr(g,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,rs(t,l),cn(g,t,l),Uh;Af(E)||Ru(),n=Ph(t,n,a)}else Af(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ee=xn(E.nextSibling),ke=n,zt=!0,oa=null,Vn=!1,t!==null&&Dm(n,t),n=qh(n,l.children),n.flags|=4096);return n}return c?(ga(),E=l.fallback,c=n.mode,D=t.child,B=D.sibling,l=xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=xi(B,E):(E=ls(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Cl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Bh(a):(c=E.cachePool,c!==null?(D=Te._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Om(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=kh(t,g,a),n.memoizedState=jh,Cl(t.child,l)):(ma(n),a=t.child,t=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function qh(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Ph(t,n,a){return ms(n,t.child,null,a),t=qh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Yg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ih(t.return,n,a)}function Hh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Xg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(de,g),Pe(t,n,l,a),l=zt?ml:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,a,n);else if(t.tag===19)Yg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Hh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Hh(n,!0,a,null,f,l);break;case"together":Hh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_a|=n.lanes,(a&n.childLanes)===0)if(t!==null){if($s(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=xi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Gh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function EE(t,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ca(n,Te,t.memoizedState.cache),os();break;case 27:case 5:Pa(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ca(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ma(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Qg(t,n,a):(ma(n),t=ji(t,n,a),t!==null?t.sibling:null);ma(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||($s(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Xg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(de,de.current),l)break;return null;case 22:return n.lanes=0,kg(t,n,a,n.pendingProps);case 24:ca(n,Te,t.memoizedState.cache)}return ji(t,n,a)}function Kg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Gh(t,a)&&(n.flags&128)===0)return Se=!1,EE(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,zt&&(n.flags&1048576)!==0&&Cm(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=fs(n.elementType),n.type=t,typeof t=="function")Kc(t)?(l=ps(t,l),n.tag=1,n=Gg(null,n,t,l,a)):(n.tag=0,n=Lh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===pt){n.tag=11,n=Lg(null,n,t,l,a);break t}else if(c===I){n.tag=14,n=jg(null,n,t,l,a);break t}}throw n=Xt(t)||t,Error(r(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ps(l,n.pendingProps),Gg(t,n,l,c,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ch(t,n),Al(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ca(n,Te,l),l!==f.cache&&ah(n,[Te],a,!0),Tl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fg(t,n,l,a);break t}else if(l!==c){c=Cn(Error(r(424)),n),gl(c),n=Fg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=xn(t.firstChild),ke=n,zt=!0,oa=null,Vn=!0,a=km(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(os(),l===c){n=ji(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return gu(t,n),t===null?(a=ry(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=xu(wt.current).createElement(a),l[_e]=n,l[Oe]=t,He(l,a,t),ve(l),n.stateNode=l):n.memoizedState=ry(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pa(n),t===null&&zt&&(l=n.stateNode=iy(n.type,n.pendingProps,wt.current),ke=n,Vn=!0,c=ee,Sa(n.type)?(bf=c,ee=xn(l.firstChild)):ee=c),Pe(t,n,n.pendingProps.children,a),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=ee)&&(l=ZE(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,ke=n,ee=xn(l.firstChild),Vn=!1,c=!0):c=!1),c||ua(n)),Pa(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,vf(c,f)?l=null:g!==null&&vf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=yh(t,n,hE,null,null,a),Pl._currentValue=c),gu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=ee)&&(a=JE(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,ke=n,ee=null,t=!0):t=!1),t||ua(n)),null;case 13:return Qg(t,n,a);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ms(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ca(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,cs(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return jg(t,n,n.type,n.pendingProps,a);case 15:return Bg(t,n,n.type,n.pendingProps,a);case 19:return Xg(t,n,a);case 31:return vE(t,n,a);case 22:return kg(t,n,a,n.pendingProps);case 24:return cs(n),l=qe(Te),t===null?(c=lh(),c===null&&(c=Wt,f=sh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},uh(n),ca(n,Te,c)):((t.lanes&a)!==0&&(ch(t,n),Al(n,null,null,a),Tl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ca(n,Te,l)):(l=f.cache,ca(n,Te,l),l!==c.cache&&ah(n,[Te],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Bi(t){t.flags|=4}function Fh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ap())t.flags|=8192;else throw ds=tu,oh}else t.flags&=-16777217}function Zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hy(n))if(Ap())t.flags|=8192;else throw ds=tu,oh}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?So():536870912,t.lanes|=n,cr|=n)}function Dl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function TE(t,n,a){var l=n.pendingProps;switch(Wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Te),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Js(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,eh())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Bi(n),f!==null?(ne(n),Zg(n,f)):(ne(n),Fh(n,c,null,l,a))):f?f!==t.memoizedState?(Bi(n),ne(n),Zg(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),ne(n),Fh(n,c,t,l,a)),null;case 27:if(Is(n),a=wt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=st.current,Js(n)?Im(n):(t=iy(c,l,a),n.stateNode=t,Bi(n))}return ne(n),null;case 5:if(Is(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(f=st.current,Js(n))Im(n);else{var g=xu(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return ne(n),Fh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=wt.current,Js(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Qp(t.nodeValue,a)),t||ua(n,!0)}else t=xu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Js(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=eh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Js(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=eh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),yu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&mf(n.stateNode.containerInfo),ne(n),null;case 10:return zi(n.type),ne(n),null;case 19:if(Q(de),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Dl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Dl(l,!1),t=f.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)bm(a,t),a=a.sibling;return it(de,de.current&1|2),zt&&Mi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>Au&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304)}else{if(!c)if(t=au(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!zt)return ne(n),null}else 2*tn()-l.renderingStartTime>Au&&a!==536870912&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=de.current,it(de,c?a&1|2:a&1),zt&&Mi(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return yn(n),mh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function AE(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Is(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));os()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));os()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(de),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return yn(n),mh(),t!==null&&Q(hs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(Te),null;case 25:return null;default:return null}}function Jg(t,n){switch(Wc(n),n.tag){case 3:zi(Te),ae();break;case 26:case 27:case 5:Is(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Q(de);break;case 10:zi(n.type);break;case 22:case 23:yn(n),mh(),t!==null&&Q(hs);break;case 24:zi(Te)}}function Il(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function pa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=a,B=E;try{B()}catch(F){Yt(c,D,F)}}}l=l.next}while(l!==f)}}catch(F){Yt(n,n.return,F)}}function $g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Pm(n,a)}catch(l){Yt(t,t.return,l)}}}function Wg(t,n,a){a.props=ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function yi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function tp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function Qh(t,n,a){try{var l=t.stateNode;GE(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function Yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=kn));else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Xh(t,n,a),t=t.sibling;t!==null;)Xh(t,n,a),t=t.sibling}function _u(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_u(t,n,a),t=t.sibling;t!==null;)_u(t,n,a),t=t.sibling}function np(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,a),n[_e]=t,n[Oe]=a}catch(f){Yt(t,t.return,f)}}var ki=!1,be=!1,Kh=!1,ip=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function SE(t,n){if(t=t.containerInfo,yf=Bu,t=gm(t),Pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,D=-1,B=0,F=0,X=t,k=null;e:for(;;){for(var P;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(D=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(P=X.firstChild)!==null;)k=X,X=P;for(;;){if(X===t)break e;if(k===a&&++B===c&&(E=g),k===f&&++F===l&&(D=g),(P=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=P}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(_f={focusedElem:t,selectionRange:a},Bu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=ps(a.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Tf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function ap(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(t,a),l&4&&Il(5,a);break;case 1:if(Pi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=ps(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&$g(a),l&512&&Vl(a,a.return);break;case 3:if(Pi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Pm(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&np(a);case 26:case 5:Pi(t,a),n===null&&l&4&&tp(a),l&512&&Vl(a,a.return);break;case 12:Pi(t,a);break;case 31:Pi(t,a),l&4&&lp(t,a);break;case 13:Pi(t,a),l&4&&op(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xE.bind(null,a),$E(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){n=n!==null&&n.memoizedState!==null||be,c=ki;var f=be;ki=l,(be=n)&&!f?Hi(t,a,(a.subtreeFlags&8772)!==0):Pi(t,a),ki=c,be=f}break;case 30:break;default:Pi(t,a)}}function sp(t){var n=t.alternate;n!==null&&(t.alternate=null,sp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Os(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,rn=!1;function qi(t,n,a){for(a=a.child;a!==null;)rp(t,n,a),a=a.sibling}function rp(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:be||yi(a,n),qi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||yi(a,n);var l=re,c=rn;Sa(a.type)&&(re=a.stateNode,rn=!1),qi(t,n,a),Bl(a.stateNode),re=l,rn=c;break;case 5:be||yi(a,n);case 6:if(l=re,c=rn,re=null,qi(t,n,a),re=l,rn=c,re!==null)if(rn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:re!==null&&(rn?(t=re,$p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_r(t)):$p(re,a.stateNode));break;case 4:l=re,c=rn,re=a.stateNode.containerInfo,rn=!0,qi(t,n,a),re=l,rn=c;break;case 0:case 11:case 14:case 15:pa(2,a,n),be||pa(4,a,n),qi(t,n,a);break;case 1:be||(yi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wg(a,n,l)),qi(t,n,a);break;case 21:qi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,qi(t,n,a),be=l;break;default:qi(t,n,a)}}function lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_r(t)}catch(a){Yt(n,n.return,a)}}}function op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_r(t)}catch(a){Yt(n,n.return,a)}}function bE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ip),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ip),n;default:throw Error(r(435,t.tag))}}function vu(t,n){var a=bE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=ME.bind(null,t,l);l.then(c,c)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Sa(E.type)){re=E.stateNode,rn=!1;break t}break;case 5:re=E.stateNode,rn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(re===null)throw Error(r(160));rp(f,g,c),re=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)up(n,t),n=n.sibling}var Qn=null;function up(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(pa(3,t,t.return),Il(3,t),pa(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(be||a===null||yi(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Qn;if(ln(n,t),on(t),l&512&&(be||a===null||yi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,a),f[_e]=t,ve(f),l=f;break t;case"link":var g=uy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;case"meta":if(g=uy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else cy(c,t.type,t.stateNode);else t.stateNode=oy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?cy(c,t.type,t.stateNode):oy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qh(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(be||a===null||yi(a,a.return)),a!==null&&l&4&&Qh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(be||a===null||yi(a,a.return)),t.flags&32){c=t.stateNode;try{sn(c,"")}catch(ot){Yt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Qh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Kh=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Yt(t,t.return,ot)}}break;case 3:if(zu=null,c=Qn,Qn=Mu(n.containerInfo),ln(n,t),Qn=c,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_r(n.containerInfo)}catch(ot){Yt(t,t.return,ot)}Kh&&(Kh=!1,cp(t));break;case 4:l=Qn,Qn=Mu(t.stateNode.containerInfo),ln(n,t),on(t),Qn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tu=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ki,F=be;if(ki=B||c,be=F||D,ln(n,t),be=F,ki=B,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||ki||be||ys(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var X=D.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ot){Yt(D,D.return,ot)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ot){Yt(D,D.return,ot)}}}else if(n.tag===18){if(a===null){D=n;try{var P=D.stateNode;c?Wp(P,!0):Wp(D.stateNode,!1)}catch(ot){Yt(D,D.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vu(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(ep(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Yh(t);_u(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=Yh(t);_u(t,E,g);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Yh(t);Xh(t,B,D);break;default:throw Error(r(161))}}catch(F){Yt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function cp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ap(t,n.alternate,n),n=n.sibling}function ys(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pa(4,n,n.return),ys(n);break;case 1:yi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Wg(n,n.return,a),ys(n);break;case 27:Bl(n.stateNode);case 26:case 5:yi(n,n.return),ys(n);break;case 22:n.memoizedState===null&&ys(n);break;case 30:ys(n);break;default:ys(n)}t=t.sibling}}function Hi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,a),Il(4,f);break;case 1:if(Hi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)qm(D[c],E)}catch(B){Yt(l,l.return,B)}}a&&g&64&&$g(f),Vl(f,f.return);break;case 27:np(f);case 26:case 5:Hi(c,f,a),a&&l===null&&g&4&&tp(f),Vl(f,f.return);break;case 12:Hi(c,f,a);break;case 31:Hi(c,f,a),a&&g&4&&lp(c,f);break;case 13:Hi(c,f,a),a&&g&4&&op(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,a),Vl(f,f.return);break;case 30:break;default:Hi(c,f,a)}n=n.sibling}}function Zh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function Jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t))}function Yn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hp(t,n,a,l),n=n.sibling}function hp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,a,l),c&2048&&Il(9,n);break;case 1:Yn(t,n,a,l);break;case 3:Yn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t)));break;case 12:if(c&2048){Yn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Yt(n,n.return,D)}}else Yn(t,n,a,l);break;case 31:Yn(t,n,a,l);break;case 13:Yn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,a,l):Nl(t,n):f._visibility&2?Yn(t,n,a,l):(f._visibility|=2,lr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Zh(g,n);break;case 24:Yn(t,n,a,l),c&2048&&Jh(n.alternate,n);break;default:Yn(t,n,a,l)}}function lr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,D=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:lr(f,g,E,D,c),Il(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?lr(f,g,E,D,c):Nl(f,g):(F._visibility|=2,lr(f,g,E,D,c)),c&&B&2048&&Zh(g.alternate,g);break;case 24:lr(f,g,E,D,c),c&&B&2048&&Jh(g.alternate,g);break;default:lr(f,g,E,D,c)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Nl(a,l),c&2048&&Zh(l.alternate,l);break;case 24:Nl(a,l),c&2048&&Jh(l.alternate,l);break;default:Nl(a,l)}n=n.sibling}}var xl=8192;function or(t,n,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)fp(t,n,a),t=t.sibling}function fp(t,n,a){switch(t.tag){case 26:or(t,n,a),t.flags&xl&&t.memoizedState!==null&&cT(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:or(t,n,a);break;case 3:case 4:var l=Qn;Qn=Mu(t.stateNode.containerInfo),or(t,n,a),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,or(t,n,a),xl=l):or(t,n,a));break;default:or(t,n,a)}}function dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,gp(l,t)}dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mp(t),t=t.sibling}function mp(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&pa(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Ml(t);break;default:Ml(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,gp(l,t)}dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pa(8,n,n.return),Eu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function gp(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:pa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(sp(l),l===a){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var RE={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},wE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,It=null,Nt=0,Qt=0,_n=null,ya=!1,ur=!1,$h=!1,Gi=0,ce=0,_a=0,_s=0,Wh=0,vn=0,cr=0,Ol=null,un=null,tf=!1,Tu=0,pp=0,Au=1/0,Su=null,va=null,Ne=0,Ea=null,hr=null,Fi=0,ef=0,nf=null,yp=null,zl=0,af=null;function En(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:z.T!==null?cf():bo()}function _p(){if(vn===0)if((Nt&536870912)===0||zt){var t=Fa;Fa<<=1,(Fa&3932160)===0&&(Fa=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function cn(t,n,a){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(fr(t,0),Ta(t,Nt,vn,!1)),Qa(t,a),((Ht&2)===0||t!==Wt)&&(t===Wt&&((Ht&2)===0&&(_s|=a),ce===4&&Ta(t,Nt,vn,!1)),_i(t))}function vp(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),c=l?IE(t,n):rf(t,n,!0),f=l;do{if(c===0){ur&&!l&&Ta(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!CE(a)){c=rf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Ol;var D=E.current.memoizedState.isDehydrated;if(D&&(fr(E,g).flags|=256),g=rf(E,g,!1),g!==2){if($h&&!D){E.errorRecoveryDisabledLanes|=f,_s|=f,c=4;break t}f=un,un=c,f!==null&&(un===null?un=f:un.push.apply(un,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){fr(t,0),Ta(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ta(l,n,vn,!ya);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Tu+300-tn(),10<c)){if(Ta(l,n,vn,!ya),ti(l,0,!0)!==0)break t;Fi=n,l.timeoutHandle=Zp(Ep.bind(null,l,a,un,Su,tf,n,vn,_s,cr,ya,f,"Throttled",-0,0),c);break t}Ep(l,a,un,Su,tf,n,vn,_s,cr,ya,f,null,-0,0)}}break}while(!0);_i(t)}function Ep(t,n,a,l,c,f,g,E,D,B,F,X,k,P){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},fp(n,f,X);var ot=(f&62914560)===f?Tu-tn():(f&4194048)===f?pp-tn():0;if(ot=hT(X,ot),ot!==null){Fi=f,t.cancelPendingCommit=ot(Dp.bind(null,t,n,f,a,l,c,g,E,D,F,X,null,k,P)),Ta(t,f,g,!B);return}}Dp(t,n,f,a,l,c,g,E,D)}function CE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ta(t,n,a,l){n&=~Wh,n&=~_s,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ya(t,a,n)}function bu(){return(Ht&6)===0?(Ul(0),!1):!0}function sf(){if(It!==null){if(Qt===0)var t=It.return;else t=It,Oi=us=null,Eh(t),nr=null,_l=0,t=It;for(;t!==null;)Jg(t.alternate,t),t=t.return;It=null}}function fr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Fi=0,sf(),Wt=t,It=a=xi(t.current,null),Nt=n,Qt=0,_n=null,ya=!1,ur=Ln(t,n),$h=!1,cr=vn=Wh=_s=_a=ce=0,un=Ol=null,tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Gi=n,Fo(),a}function Tp(t,n){Rt=null,z.H=wl,n===er||n===Wo?(n=Lm(),Qt=3):n===oh?(n=Lm(),Qt=4):Qt=n===Uh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(ce=1,du(t,Cn(n,t.current)))}function Ap(){var t=pn.current;return t===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===Nn:!1}function Sp(){var t=z.H;return z.H=wl,t===null?wl:t}function bp(){var t=z.A;return z.A=RE,t}function Ru(){ce=4,ya||(Nt&4194048)!==Nt&&pn.current!==null||(ur=!0),(_a&134217727)===0&&(_s&134217727)===0||Wt===null||Ta(Wt,Nt,vn,!1)}function rf(t,n,a){var l=Ht;Ht|=2;var c=Sp(),f=bp();(Wt!==t||Nt!==n)&&(Su=null,fr(t,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&It!==null){var E=It,D=_n;switch(Qt){case 8:sf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var B=Qt;if(Qt=0,_n=null,dr(t,E,D,B),a&&ur){g=0;break t}break;default:B=Qt,Qt=0,_n=null,dr(t,E,D,B)}}DE(),g=ce;break}catch(F){Tp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Oi=us=null,Ht=l,z.H=c,z.A=f,It===null&&(Wt=null,Nt=0,Fo()),g}function DE(){for(;It!==null;)Rp(It)}function IE(t,n){var a=Ht;Ht|=2;var l=Sp(),c=bp();Wt!==t||Nt!==n?(Su=null,Au=tn()+500,fr(t,n)):ur=Ln(t,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,dr(t,n,f,1);break;case 2:case 9:if(zm(f)){Qt=0,_n=null,wp(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),_i(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:zm(f)?(Qt=0,_n=null,wp(n)):(Qt=0,_n=null,dr(t,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?hy(g):E.stateNode.complete){Qt=0,_n=null;var D=E.sibling;if(D!==null)It=D;else{var B=E.return;B!==null?(It=B,wu(B)):It=null}break e}}Qt=0,_n=null,dr(t,n,f,5);break;case 6:Qt=0,_n=null,dr(t,n,f,6);break;case 8:sf(),ce=6;break t;default:throw Error(r(462))}}VE();break}catch(F){Tp(t,F)}while(!0);return Oi=us=null,z.H=l,z.A=c,Ht=a,It!==null?0:(Wt=null,Nt=0,Fo(),ce)}function VE(){for(;It!==null&&!zc();)Rp(It)}function Rp(t){var n=Kg(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?wu(t):It=n}function wp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Hg(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Hg(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Eh(n);default:Jg(a,n),n=It=bm(n,Gi),n=Kg(a,n,Gi)}t.memoizedProps=t.pendingProps,n===null?wu(t):It=n}function dr(t,n,a,l){Oi=us=null,Eh(n),nr=null,_l=0;var c=n.return;try{if(_E(t,c,n,a,Nt)){ce=1,du(t,Cn(a,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ce=1,du(t,Cn(a,t.current)),It=null;return}n.flags&32768?(zt||l===1?t=!0:ur||(Nt&536870912)!==0?t=!1:(ya=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){Cp(n,ya);return}t=n.return;var a=TE(n.alternate,n,Gi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);ce===0&&(ce=5)}function Cp(t,n){do{var a=AE(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);ce=6,It=null}function Dp(t,n,a,l,c,f,g,E,D){t.cancelPendingCommit=null;do Cu();while(Ne!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Yc,jc(t,a,f,g,E,D),t===Wt&&(It=Wt=null,Nt=0),hr=n,Ea=t,Fi=a,ef=f,nf=c,yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OE(Ji,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=J.p,J.p=2,g=Ht,Ht|=4;try{SE(t,n,a)}finally{Ht=g,J.p=c,z.T=l}}Ne=1,Ip(),Vp(),Np()}}function Ip(){if(Ne===1){Ne=0;var t=Ea,n=hr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=J.p;J.p=2;var c=Ht;Ht|=4;try{up(n,t);var f=_f,g=gm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&mm(E.ownerDocument.documentElement,E)){if(D!==null&&Pc(E)){var B=D.start,F=D.end;if(F===void 0&&(F=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var P=k.getSelection(),ot=E.textContent.length,gt=Math.min(D.start,ot),$t=D.end===void 0?gt:Math.min(D.end,ot);!P.extend&&gt>$t&&(g=$t,$t=gt,gt=g);var U=dm(E,gt),N=dm(E,$t);if(U&&N&&(P.rangeCount!==1||P.anchorNode!==U.node||P.anchorOffset!==U.offset||P.focusNode!==N.node||P.focusOffset!==N.offset)){var j=X.createRange();j.setStart(U.node,U.offset),P.removeAllRanges(),gt>$t?(P.addRange(j),P.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),P.addRange(j))}}}}for(X=[],P=E;P=P.parentNode;)P.nodeType===1&&X.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Bu=!!yf,_f=yf=null}finally{Ht=c,J.p=l,z.T=a}}t.current=n,Ne=2}}function Vp(){if(Ne===2){Ne=0;var t=Ea,n=hr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=J.p;J.p=2;var c=Ht;Ht|=4;try{ap(t,n.alternate,n)}finally{Ht=c,J.p=l,z.T=a}}Ne=3}}function Np(){if(Ne===4||Ne===3){Ne=0,yo();var t=Ea,n=hr,a=Fi,l=yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,hr=Ea=null,xp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(va=null),Di(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=J.p,J.p=2,z.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{z.T=n,J.p=c}}(Fi&3)!==0&&Cu(),_i(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===af?zl++:(zl=0,af=t):zl=0,Ul(0)}}function xp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,pl(n)))}function Cu(){return Ip(),Vp(),Np(),Mp()}function Mp(){if(Ne!==5)return!1;var t=Ea,n=ef;ef=0;var a=Di(Fi),l=z.T,c=J.p;try{J.p=32>a?32:a,z.T=null,a=nf,nf=null;var f=Ea,g=Fi;if(Ne=0,hr=Ea=null,Fi=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,mp(f.current),hp(f,f.current,g,a),Ht=E,Ul(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{J.p=c,z.T=l,xp(t,n)}}function Op(t,n,a){n=Cn(a,n),n=zh(t.stateNode,n,2),t=da(t,n,2),t!==null&&(Qa(t,2),_i(t))}function Yt(t,n,a){if(t.tag===3)Op(t,t,a);else for(;n!==null;){if(n.tag===3){Op(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(va===null||!va.has(l))){t=Cn(a,t),a=zg(2),l=da(n,a,2),l!==null&&(Ug(a,l,n,t),Qa(l,2),_i(l));break}}n=n.return}}function lf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||($h=!0,c.add(a),t=NE.bind(null,t,n,a),n.then(t,t))}function NE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Nt&a)===a&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>tn()-Tu?(Ht&2)===0&&fr(t,0):Wh|=a,cr===Nt&&(cr=0)),_i(t)}function zp(t,n){n===0&&(n=So()),t=rs(t,n),t!==null&&(Qa(t,n),_i(t))}function xE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),zp(t,a)}function ME(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),zp(t,a)}function OE(t,n){return Ve(t,n)}var Du=null,mr=null,of=!1,Iu=!1,uf=!1,Aa=0;function _i(t){t!==mr&&t.next===null&&(mr===null?Du=mr=t:mr=mr.next=t),Iu=!0,of||(of=!0,UE())}function Ul(t,n){if(!uf&&Iu){uf=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Bp(l,f))}else f=Nt,f=ti(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(a=!0,Bp(l,f));l=l.next}while(a);uf=!1}}function zE(){Up()}function Up(){Iu=of=!1;var t=0;Aa!==0&&QE()&&(t=Aa);for(var n=tn(),a=null,l=Du;l!==null;){var c=l.next,f=Lp(l,n);f===0?(l.next=null,a===null?Du=c:a.next=c,c===null&&(mr=a)):(a=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=c}Ne!==0&&Ne!==5||Ul(t),Aa!==0&&(Aa=0)}function Lp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,D=c[g];D===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Lc(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,a=Nt,a=ti(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ln(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Zi(l),Di(a)){case 2:case 8:a=Qr;break;case 32:a=Ji;break;case 268435456:a=_o;break;default:a=Ji}return l=jp.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Zi(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=Nt;return l=ti(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(vp(t,l,n),Lp(t,tn()),t.callbackNode!=null&&t.callbackNode===a?jp.bind(null,t):null)}function Bp(t,n){if(Cu())return null;vp(t,n,!0)}function UE(){XE(function(){(Ht&6)!==0?Ve(Fr,zE):Up()})}function cf(){if(Aa===0){var t=Ws;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),Aa=t}return Aa}function kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:js(""+t)}function qp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function LE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=kp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?kp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Aa!==0){var D=g?qp(c,g):new FormData(c);Ih(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?qp(c,g):new FormData(c),Ih(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var hf=0;hf<Qc.length;hf++){var ff=Qc[hf],jE=ff.toLowerCase(),BE=ff[0].toUpperCase()+ff.slice(1);Fn(jE,"on"+BE)}Fn(_m,"onAnimationEnd"),Fn(vm,"onAnimationIteration"),Fn(Em,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(eE,"onTransitionRun"),Fn(nE,"onTransitionStart"),Fn(iE,"onTransitionCancel"),Fn(Tm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Pp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){Go(F)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,B=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){Go(F)}c.currentTarget=null,f=D}}}}function Vt(t,n){var a=n[Ms];a===void 0&&(a=n[Ms]=new Set);var l=t+"__bubble";a.has(l)||(Hp(n,t,2,!1),a.add(l))}function df(t,n,a){var l=0;n&&(l|=4),Hp(a,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[Vu]){t[Vu]=!0,Kr.forEach(function(a){a!=="selectionchange"&&(kE.has(a)||df(a,!1,t),df(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,df("selectionchange",!1,n))}}function Hp(t,n,a,l){switch(_y(n)){case 2:var c=mT;break;case 8:c=gT;break;default:c=If}a=c.bind(null,n,a,t),c=void 0,!$a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function gf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ia(function(){var B=f,F=Sn(a),X=[];t:{var k=Am.get(t);if(k!==void 0){var P=hi,ot=t;switch(t){case"keypress":if(ts(a)===0)break t;case"keydown":case"keyup":P=qo;break;case"focusin":ot="focus",P=ns;break;case"focusout":ot="blur",P=ns;break;case"beforeblur":case"afterblur":P=ns;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case _m:case vm:case Em:P=Oo;break;case Tm:P=T;break;case"scroll":case"scrollend":P=ll;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ni;break;case"toggle":case"beforetoggle":P=bt}var gt=(n&4)!==0,$t=!gt&&(t==="scroll"||t==="scrollend"),U=gt?k!==null?k+"Capture":null:k;gt=[];for(var N=B,j;N!==null;){var Y=N;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||U===null||(Y=qn(N,U),Y!=null&&gt.push(jl(N,Y,j))),$t)break;N=N.return}0<gt.length&&(k=new P(k,ot,null,a,F),X.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",k&&a!==al&&(ot=a.relatedTarget||a.fromElement)&&(ai(ot)||ot[ni]))break t;if((P||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,P?(ot=a.relatedTarget||a.toElement,P=B,ot=ot?ai(ot):null,ot!==null&&($t=h(ot),gt=ot.tag,ot!==$t||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(P=null,ot=B),P!==ot)){if(gt=ol,Y="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Ni,Y="onPointerLeave",U="onPointerEnter",N="pointer"),$t=P==null?k:fn(P),j=ot==null?k:fn(ot),k=new gt(Y,N+"leave",P,a,F),k.target=$t,k.relatedTarget=j,Y=null,ai(F)===B&&(gt=new gt(U,N+"enter",ot,a,F),gt.target=j,gt.relatedTarget=$t,Y=gt),$t=Y,P&&ot)e:{for(gt=qE,U=P,N=ot,j=0,Y=U;Y;Y=gt(Y))j++;Y=0;for(var ft=N;ft;ft=gt(ft))Y++;for(;0<j-Y;)U=gt(U),j--;for(;0<Y-j;)N=gt(N),Y--;for(;j--;){if(U===N||N!==null&&U===N.alternate){gt=U;break e}U=gt(U),N=gt(N)}gt=null}else gt=null;P!==null&&Gp(X,k,P,gt,!1),ot!==null&&$t!==null&&Gp(X,$t,ot,gt,!0)}}t:{if(k=B?fn(B):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var kt=lm;else if(sm(k))if(om)kt=$0;else{kt=Z0;var ut=K0}else P=k.nodeName,!P||P.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Ls(B.elementType)&&(kt=lm):kt=J0;if(kt&&(kt=kt(t,B))){rm(X,kt,a,F);break t}ut&&ut(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&el(k,"number",k.value)}switch(ut=B?fn(B):window,t){case"focusin":(sm(ut)||ut.contentEditable==="true")&&(Fs=ut,Hc=B,dl=null);break;case"focusout":dl=Hc=Fs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,pm(X,a,F);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":pm(X,a,F)}var Ct;if(Pt)t:{switch(t){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Gs?is(t,a)&&(xt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(mi&&a.locale!=="ko"&&(Gs||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Gs&&(Ct=rl()):(ci=F,sl="value"in ci?ci.value:ci.textContent,Gs=!0)),ut=Nu(B,xt),0<ut.length&&(xt=new di(xt,t,null,a,F),X.push({event:xt,listeners:ut}),Ct?xt.data=Ct:(Ct=Hs(a),Ct!==null&&(xt.data=Ct)))),(Ct=Rn?F0(t,a):Q0(t,a))&&(xt=Nu(B,"onBeforeInput"),0<xt.length&&(ut=new di("onBeforeInput","beforeinput",null,a,F),X.push({event:ut,listeners:xt}),ut.data=Ct)),LE(X,t,B,a,F)}Pp(X,n)})}function jl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Nu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qn(t,a),c!=null&&l.unshift(jl(t,c,f)),c=qn(t,n),c!=null&&l.push(jl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function qE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||B===null||(D=B,c?(B=qn(a,f),B!=null&&g.unshift(jl(a,B,D))):c||(B=qn(a,f),B!=null&&g.push(jl(a,B,D)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var PE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function Fp(t){return(typeof t=="string"?t:""+t).replace(PE,`
`).replace(HE,"")}function Qp(t,n){return n=Fp(n),Fp(t)===n}function Jt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":il(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=js(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=js(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=kn);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=js(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),zs(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=No.get(a)||a,zs(t,a,l))}}function pf(t,n,a,l,c,f){switch(a){case"style":il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):zs(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(t,n,f,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=g=c=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":D=F;break;case"defaultChecked":B=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Jt(t,n,l,F,a,null)}}Do(t,f,E,D,B,g,c,!1);return;case"select":Vt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Wi(t,!!l,n,!1):a!=null&&Wi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(t,n,g,E,a,null)}ta(t,l,c,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(t,n,D,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Vt(Ll[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(t,n,B,l,a,null)}return;default:if(Ls(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&pf(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function GE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,D=null,B=null,F=null;for(P in a){var X=a[P];if(a.hasOwnProperty(P)&&X!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(P)||Jt(t,n,P,null,l,X)}}for(var k in l){var P=l[k];if(X=a[k],l.hasOwnProperty(k)&&(P!=null||X!=null))switch(k){case"type":f=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":F=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:P!==X&&Jt(t,n,k,P,l,X)}}Us(t,g,E,D,B,F,f,c);return;case"select":P=g=E=k=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":P=D;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&Jt(t,n,c,f,l,D)}n=E,a=g,l=P,k!=null?Wi(t,!!a,k,!1):!!l!=!!a&&(n!=null?Wi(t,!!a,n,!0):Wi(t,!!a,a?[]:"",!1));return;case"textarea":P=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":k=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Io(t,k,P);return;case"option":for(var ot in a)if(k=a[ot],a.hasOwnProperty(ot)&&k!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Jt(t,n,ot,null,l,k)}for(D in l)if(k=l[D],P=a[D],l.hasOwnProperty(D)&&k!==P&&(k!=null||P!=null))switch(D){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Jt(t,n,D,k,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)k=a[gt],a.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&Jt(t,n,gt,null,l,k);for(B in l)if(k=l[B],P=a[B],l.hasOwnProperty(B)&&k!==P&&(k!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Jt(t,n,B,k,l,P)}return;default:if(Ls(n)){for(var $t in a)k=a[$t],a.hasOwnProperty($t)&&k!==void 0&&!l.hasOwnProperty($t)&&pf(t,n,$t,void 0,l,k);for(F in l)k=l[F],P=a[F],!l.hasOwnProperty(F)||k===P||k===void 0&&P===void 0||pf(t,n,F,k,l,P);return}}for(var U in a)k=a[U],a.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Jt(t,n,U,null,l,k);for(X in l)k=l[X],P=a[X],!l.hasOwnProperty(X)||k===P||k==null&&P==null||Jt(t,n,X,k,l,P)}function Yp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Yp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>E)break;var F=D.transferSize,X=D.initiatorType;F&&Yp(X)&&(D=D.responseEnd,g+=F*(D<E?1:(E-B)/(D-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yf=null,_f=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function Xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ef=null;function QE(){var t=window.event;return t&&t.type==="popstate"?t===Ef?!1:(Ef=t,!0):(Ef=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(t){return Jp.resolve(null).then(t).catch(KE)}:Zp;function KE(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function $p(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),_r(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Bl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Bl(t.ownerDocument.body);a=c}while(a);_r(n)}function Wp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tf(a),Os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ZE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function JE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function ty(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xn(t.nextSibling),t===null))return null;return t}function Af(t){return t.data==="$?"||t.data==="$~"}function Sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $E(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bf=null;function ey(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return xn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function iy(t,n,a){switch(n=xu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Os(t)}var Mn=new Map,ay=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=J.d;J.d={f:WE,r:tT,D:eT,C:nT,L:iT,m:aT,X:rT,S:sT,M:lT};function WE(){var t=Qi.f(),n=bu();return t||n}function tT(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Qi.r(t)}var gr=typeof document>"u"?null:document;function sy(t,n,a){var l=gr;if(l&&typeof n=="string"&&n){var c=an(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ay.has(c)||(ay.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function eT(t){Qi.D(t),sy("dns-prefetch",t,null)}function nT(t,n){Qi.C(t,n),sy("preconnect",t,n)}function iT(t,n,a){Qi.L(t,n,a);var l=gr;if(l&&t&&n){var c='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+an(a.imageSizes)+'"]')):c+='[href="'+an(t)+'"]';var f=c;switch(n){case"style":f=pr(t);break;case"script":f=yr(t)}Mn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(kl(f))||n==="script"&&l.querySelector(ql(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function aT(t,n){Qi.m(t,n);var a=gr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=yr(t)}if(!Mn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Mn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(f)))return}l=a.createElement("link"),He(l,"link",t),ve(l),a.head.appendChild(l)}}}function sT(t,n,a){Qi.S(t,n,a);var l=gr;if(l&&t){var c=si(l).hoistableStyles,f=pr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(kl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(f))&&Rf(t,a);var D=g=l.createElement("link");ve(D),He(D,"link",t),D._p=new Promise(function(B,F){D.onload=B,D.onerror=F}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function rT(t,n){Qi.X(t,n);var a=gr;if(a&&t){var l=si(a).hoistableScripts,c=yr(t),f=l.get(c);f||(f=a.querySelector(ql(c)),f||(t=S({src:t,async:!0},n),(n=Mn.get(c))&&wf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function lT(t,n){Qi.M(t,n);var a=gr;if(a&&t){var l=si(a).hoistableScripts,c=yr(t),f=l.get(c);f||(f=a.querySelector(ql(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&wf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ry(t,n,a,l){var c=(c=wt.current)?Mu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=pr(a.href),a=si(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=pr(a.href);var f=si(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(kl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),f||oT(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=yr(a),a=si(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function pr(t){return'href="'+an(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),ve(n),t.head.appendChild(n))}function yr(t){return'[src="'+an(t)+'"]'}function ql(t){return"script[async]"+t}function oy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",c),Ou(l,a.precedence,t),n.instance=l;case"stylesheet":c=pr(a.href);var f=t.querySelector(kl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=ly(a),(c=Mn.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),He(f,"link",l),n.state.loading|=4,Ou(f,a.precedence,t),n.instance=f;case"script":return f=yr(a.src),(c=t.querySelector(ql(f)))?(n.instance=c,ve(c),c):(l=a,(c=Mn.get(f))&&(l=S({},a),wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,t));return n.instance}function Ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zu=null;function uy(t,n,a){if(zu===null){var l=new Map,c=zu=new Map;c.set(a,l)}else c=zu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ii]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function cy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function uT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=pr(l.href),f=n.querySelector(kl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,l=ly(l),(c=Mn.get(c))&&Rf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Cf=0;function hT(t,n){return t.stylesheets&&t.count===0&&ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Cf===0&&(Cf=62500*FE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Cf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function ju(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(fT,t),Lu=null,Uu.call(t))}function fT(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function dT(t,n,a,l,c,f,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function fy(t,n,a,l,c,f,g,E,D,B,F,X){return t=new dT(t,n,a,g,D,B,F,X,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=sh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},uh(f),t}function dy(t){return t?(t=Xs,t):Xs}function my(t,n,a,l,c,f){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=fa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=da(t,l,n),a!==null&&(cn(a,t,n),El(a,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Df(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13||t.tag===31){var n=rs(t,67108864);n!==null&&cn(n,t,67108864),Df(t,67108864)}}function yy(t){if(t.tag===13||t.tag===31){var n=En();n=Xa(n);var a=rs(t,n);a!==null&&cn(a,t,n),Df(t,n)}}var Bu=!0;function mT(t,n,a,l){var c=z.T;z.T=null;var f=J.p;try{J.p=2,If(t,n,a,l)}finally{J.p=f,z.T=c}}function gT(t,n,a,l){var c=z.T;z.T=null;var f=J.p;try{J.p=8,If(t,n,a,l)}finally{J.p=f,z.T=c}}function If(t,n,a,l){if(Bu){var c=Vf(l);if(c===null)gf(t,n,l,ku,a),vy(t,l);else if(yT(c,t,n,a,l))l.stopPropagation();else if(vy(t,l),n&4&&-1<pT.indexOf(t)){for(;c!==null;){var f=An(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-he(g);E.entanglements[1]|=D,g&=~D}_i(f),(Ht&6)===0&&(Au=tn()+500,Ul(0))}}break;case 31:case 13:E=rs(f,2),E!==null&&cn(E,f,2),bu(),Df(f,2)}if(f=Vf(l),f===null&&gf(t,n,l,ku,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else gf(t,n,l,null,a)}}function Vf(t){return t=Sn(t),Nf(t)}var ku=null;function Nf(t){if(ku=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ku=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ga()){case Fr:return 2;case Qr:return 8;case Ji:case Uc:return 32;case _o:return 268435456;default:return 32}default:return 32}}var xf=!1,ba=null,Ra=null,wa=null,Hl=new Map,Gl=new Map,Ca=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vy(t,n){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Fl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=An(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function yT(t,n,a,l,c){switch(n){case"focusin":return ba=Fl(ba,t,n,a,l,c),!0;case"dragenter":return Ra=Fl(Ra,t,n,a,l,c),!0;case"mouseover":return wa=Fl(wa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Hl.set(f,Fl(Hl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Gl.set(f,Fl(Gl.get(f)||null,t,n,a,l,c)),!0}return!1}function Ey(t){var n=ai(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,jn(t.priority,function(){yy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,jn(t.priority,function(){yy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return n=An(a),n!==null&&py(n),t.blockedOn=a,!1;n.shift()}return!0}function Ty(t,n,a){qu(t)&&a.delete(n)}function _T(){xf=!1,ba!==null&&qu(ba)&&(ba=null),Ra!==null&&qu(Ra)&&(Ra=null),wa!==null&&qu(wa)&&(wa=null),Hl.forEach(Ty),Gl.forEach(Ty)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,xf||(xf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_T)))}var Hu=null;function Ay(t){Hu!==t&&(Hu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function _r(t){function n(D){return Pu(D,t)}ba!==null&&Pu(ba,t),Ra!==null&&Pu(Ra,t),wa!==null&&Pu(wa,t),Hl.forEach(n),Gl.forEach(n);for(var a=0;a<Ca.length;a++){var l=Ca[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ca.length&&(a=Ca[0],a.blockedOn===null);)Ey(a),a.blockedOn===null&&Ca.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||Ay(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Nf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Ay(a)}}}function Sy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Mf(t){this._internalRoot=t}Gu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=En();my(a,l,t,n,null,null)},Gu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),bu(),n[ni]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ca.length&&n!==0&&n<Ca[a].priority;a++);Ca.splice(a,0,t),a===0&&Ey(t)}};var by=e.version;if(by!=="19.2.1")throw Error(r(527,by,"19.2.1"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var vT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Un=Fu.inject(vT),je=Fu}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Ng,f=xg,g=Mg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=fy(t,1,!1,null,null,a,l,null,c,f,g,Sy),t[ni]=n.current,mf(t),new Mf(n)},Yl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ng,g=xg,E=Mg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=fy(t,1,!0,n,a??null,l,c,D,f,g,E,Sy),n.context=dy(null),a=n.current,l=En(),l=Xa(l),c=fa(l),c.callback=null,da(a,c,l),a=l,n.current.lanes=a,Qa(n,a),_i(n),t[ni]=n.current,mf(t),new Gu(n)},Yl.version="19.2.1",Yl}var Oy;function IT(){if(Oy)return Uf.exports;Oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Uf.exports=DT(),Uf.exports}var VT=IT();const NT=W_(VT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),zy=s=>{const e=MT(s);return e.charAt(0).toUpperCase()+e.slice(1)},ev=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),OT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Ut.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...y},_)=>Ut.createElement("svg",{ref:_,...zT,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:ev("lucide",o),...!h&&!OT(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,A])=>Ut.createElement(v,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=(s,e)=>{const i=Ut.forwardRef(({className:r,...o},h)=>Ut.createElement(UT,{ref:h,iconNode:e,className:ev(`lucide-${xT(zy(s))}`,`lucide-${s}`,r),...o}));return i.displayName=zy(s),i};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jT=Zn("arrow-left",LT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],kT=Zn("copy",BT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],PT=Zn("ellipsis-vertical",qT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],GT=Zn("menu",HT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QT=Zn("pen-line",FT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XT=Zn("plus",YT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],ZT=Zn("rotate-cw",KT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$T=Zn("save",JT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t1=Zn("square-check-big",WT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],n1=Zn("trash-2",e1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],a1=Zn("x",i1),Ye={Menu:GT,Close:a1,Plus:XT,Trash:n1,Check:t1,Save:$T,Edit:QT,Back:jT,Copy:kT,More:PT,Refresh:ZT},s1=({isMobileOpen:s,isAlwaysOpen:e,onClose:i,documents:r,templates:o,favoriteDocId:h,onSelectDocument:d,onPreviewTemplate:y,onCreateTemplate:_,onCreateNew:v,onDeleteDocument:A,onDeleteTemplate:S,onEditTemplate:M,onBackup:G,onRestore:W,onSetFavoriteDocument:tt,onClearFavoriteDocument:$})=>{const[mt,ct]=Ut.useState("docs"),[nt,pt]=Ut.useState(null),[Dt,vt]=Ut.useState(null),[I,b]=Ut.useState(null),C=tv.useRef(null);if(!s&&!e)return null;const O=w=>new Date(w).toLocaleDateString("ko-KR",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"});return H.jsxs("div",{className:`
      ${e?"relative flex-shrink-0 w-[250px] h-full":"fixed inset-0 z-50 flex"}
      ${!e&&!s?"transform -translate-x-full":"transform translate-x-0"}
      transition-transform duration-300 ease-in-out
    `,children:[!e&&s&&H.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:i}),H.jsxs("div",{className:`
        relative flex flex-col h-full bg-white shadow-xl
        ${e?"w-full":"w-[85%] max-w-sm"}
      `,children:[H.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-gray-50",children:[H.jsx("h2",{className:"text-lg font-bold text-gray-800",children:""}),H.jsxs("div",{className:"flex items-center gap-1.5",children:[H.jsx("button",{onClick:G,className:"flex items-center justify-center px-2 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-xs font-medium",children:H.jsx("span",{children:""})}),H.jsx("button",{onClick:()=>{var w;return(w=C.current)==null?void 0:w.click()},className:"flex items-center justify-center px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors text-xs font-medium",children:H.jsx("span",{children:""})}),H.jsx("input",{ref:C,type:"file",accept:".json",onChange:w=>{var R;const x=(R=w.target.files)==null?void 0:R[0];x&&(W(x),w.target.value="")},className:"hidden"}),H.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-200 rounded-full flex-shrink-0 ml-0.5",children:H.jsx(Ye.Close,{size:16})})]})]}),H.jsxs("div",{className:"p-4 grid grid-cols-2 gap-2 border-b",children:[H.jsx("button",{onClick:()=>{v(),i()},className:"flex items-center justify-center p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:H.jsx("span",{className:"text-xs font-medium",children:""})}),H.jsx("button",{onClick:()=>{_(),i()},className:"flex items-center justify-center p-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:H.jsx("span",{className:"text-xs font-medium",children:""})})]}),H.jsxs("div",{className:"flex border-b",children:[H.jsxs("button",{className:`flex-1 p-3 text-sm font-medium ${mt==="docs"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>ct("docs"),children:[" (",r.length,")"]}),H.jsx("button",{className:`flex-1 p-3 text-sm font-medium ${mt==="templates"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>ct("templates"),children:""})]}),H.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50 relative",children:mt==="docs"?H.jsxs("div",{className:"space-y-2",children:[r.length===0&&H.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"  ."}),r.map(w=>H.jsxs("div",{className:`group bg-white p-3 rounded-lg border shadow-sm hover:shadow-md transition-all relative ${h===w.id?"ring-2 ring-yellow-400":""}`,onContextMenu:x=>{x.preventDefault(),vt(w.id),b({x:x.clientX,y:x.clientY})},onTouchStart:x=>{if(x.touches.length>0){const R=x.touches[0],Xt=setTimeout(()=>{vt(w.id),b({x:R.clientX,y:R.clientY})},500);x.target.longPressTimer=Xt}},onTouchEnd:x=>{const R=x.target.longPressTimer;R&&clearTimeout(R)},children:[H.jsxs("div",{className:"flex justify-between items-start",children:[H.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>{d(w),i()},children:[H.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:w.title||" "}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O(w.updatedAt)})]}),H.jsx("button",{onClick:x=>{x.stopPropagation(),A(w.id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:H.jsx(Ye.Trash,{size:16})})]}),Dt===w.id&&I&&H.jsx("div",{className:"fixed bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[160px]",style:{left:`${I.x}px`,top:`${I.y}px`},onClick:()=>vt(null),children:H.jsxs("button",{onClick:x=>{x.stopPropagation(),h===w.id?$():tt(w.id),vt(null)},className:"w-full text-left px-3 py-2 text-sm text-yellow-600 hover:bg-yellow-50 transition-colors flex items-center gap-2",children:[H.jsx("span",{className:"text-lg",children:""}),H.jsx("span",{children:h===w.id?" ":" "})]})})]},w.id))]}):H.jsxs("div",{className:"space-y-2",children:[o.length===0&&H.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:["  .",H.jsx("br",{}),"' '   ."]}),o.map(w=>H.jsxs("div",{className:"bg-white p-3 rounded-lg border border-dashed border-gray-300 hover:border-blue-400 transition-all relative",children:[H.jsxs("div",{onClick:()=>{y(w),i()},className:"cursor-pointer flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(Ye.Copy,{size:16,className:"text-blue-500"}),H.jsx("span",{className:"font-semibold text-gray-800",children:w.title||"( )"})]}),H.jsx("button",{onClick:x=>{x.stopPropagation(),pt(nt===w.id?null:w.id)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:H.jsx(Ye.More,{size:16})})]}),nt===w.id&&H.jsxs("div",{className:"absolute right-2 top-10 bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-[150px]",children:[H.jsxs("button",{onClick:x=>{x.stopPropagation(),M(w),pt(null),i()},className:"w-full text-left px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 transition-colors flex items-center gap-2 border-b border-gray-100",children:[H.jsx(Ye.Edit,{size:14}),H.jsx("span",{children:" "})]}),H.jsxs("button",{onClick:x=>{x.stopPropagation(),S(w.id),pt(null)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2",children:[H.jsx(Ye.Trash,{size:14}),H.jsx("span",{children:""})]})]})]},w.id))]})})]})]})},vr=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),nv=({isOpen:s,title:e,message:i,onConfirm:r,onClose:o})=>s?H.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[H.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px] transition-opacity animate-in fade-in duration-200",onClick:o}),H.jsxs("div",{className:"relative w-full max-w-[280px] bg-white rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 transform",children:[H.jsxs("div",{className:"p-5 text-center",children:[H.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:e}),H.jsx("p",{className:"text-sm text-gray-500 leading-relaxed break-keep",children:i})]}),H.jsxs("div",{className:"flex border-t border-gray-100",children:[H.jsx("button",{onClick:o,className:"flex-1 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors active:bg-gray-100",children:""}),H.jsx("div",{className:"w-px bg-gray-100"}),H.jsx("button",{onClick:r,className:"flex-1 py-3 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors active:bg-red-100",children:""})]})]})]}):null,r1=({isOpen:s,memo:e="",onSave:i,onDelete:r,onClose:o})=>{const[h,d]=Ut.useState(!e),[y,_]=Ut.useState(e);Ut.useEffect(()=>{_(e),d(!e)},[s,e]);const v=()=>{i(y.trim()),d(!1)},A=()=>{d(!0)},S=()=>{confirm(" ?")&&(r(),d(!1))};return s?H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full mx-4",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[H.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:""}),H.jsx("button",{onClick:o,className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:H.jsx(Ye.Close,{size:20})})]}),H.jsx("div",{className:"p-4",children:h?H.jsx("textarea",{value:y,onChange:M=>_(M.target.value),placeholder:" ...",className:"w-full h-40 p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",autoFocus:!0}):H.jsx("div",{className:"p-3 bg-gray-50 rounded-md min-h-40 max-h-96 overflow-y-auto whitespace-pre-wrap text-gray-700",children:y||" ."})}),H.jsx("div",{className:"flex gap-2 p-4 border-t border-gray-200",children:h?H.jsxs(H.Fragment,{children:[H.jsx("button",{onClick:()=>{_(e),d(!1)},className:"flex-1 px-3 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:""}),H.jsx("button",{onClick:v,className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:""})]}):H.jsxs(H.Fragment,{children:[y&&H.jsx("button",{onClick:S,className:"flex-1 px-3 py-2 text-gray-700 border border-red-300 text-red-600 rounded-md hover:bg-red-50 transition-colors",children:""}),H.jsx("button",{onClick:A,className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:""}),H.jsx("button",{onClick:o,className:"flex-1 px-3 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:""})]})})]})}):null},l1=({item:s,onToggle:e,onEdit:i,onDelete:r,onMemoOpen:o})=>{const h=Ut.useRef(null);Ut.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=`${h.current.scrollHeight}px`)},[s.text]);const d=y=>{const _=y.target;_.style.height="auto",_.style.height=`${_.scrollHeight}px`};return H.jsxs("div",{className:`group flex items-start gap-3 p-3 rounded-lg border shadow-sm transition-all duration-200 ${s.isChecked?"bg-gray-50 border-gray-200":"bg-white border-gray-300 hover:border-blue-400 hover:shadow-md"}`,children:[H.jsx("button",{onClick:()=>e(s.id),className:`mt-0.5 flex-none transition-colors ${s.isChecked?"text-blue-500":"text-gray-400 hover:text-blue-500"}`,children:s.isChecked?H.jsx(Ye.Check,{size:20}):H.jsx("div",{className:"w-[20px] h-[20px] border-2 border-current rounded-md"})}),H.jsx("textarea",{ref:h,className:`flex-1 bg-transparent text-sm resize-none outline-none h-auto min-h-[1.5rem] leading-relaxed py-0.5 ${s.isChecked?"line-through text-gray-400":"text-gray-800 font-medium"}`,value:s.text,onChange:y=>i(s.id,y.target.value),onInput:d,rows:1}),H.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[H.jsx("button",{onClick:()=>o(s.id),className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded transition-all flex-shrink-0",title:"",children:H.jsx(Ye.Edit,{size:18})}),H.jsx("button",{onClick:()=>r(s.id),className:"p-2 text-gray-400 hover:text-white hover:bg-red-600 rounded transition-all font-semibold flex-shrink-0",title:"",children:H.jsx(Ye.Trash,{size:18})})]})]})},o1=({items:s,onChange:e})=>{const[i,r]=Ut.useState(""),[o,h]=Ut.useState(null),[d,y]=Ut.useState(!1),[_,v]=Ut.useState(null),A=nt=>{if(nt==null||nt.preventDefault(),!i.trim())return;const pt={id:vr(),text:i.trim(),isChecked:!1};e([...s,pt]),r("")},S=nt=>{const pt=s.map(Dt=>Dt.id===nt?{...Dt,isChecked:!Dt.isChecked}:Dt);e(pt)},M=nt=>{h(nt)},G=()=>{o&&(e(s.filter(nt=>nt.id!==o)),h(null))},W=(nt,pt)=>{const Dt=s.map(vt=>vt.id===nt?{...vt,text:pt}:vt);e(Dt)},tt=nt=>{v(nt),y(!0)},$=nt=>{if(_){const pt=s.map(Dt=>Dt.id===_?{...Dt,memo:nt||void 0}:Dt);e(pt)}y(!1)},mt=()=>{if(_){const nt=s.map(pt=>pt.id===_?{...pt,memo:void 0}:pt);e(nt)}y(!1)},ct=_?s.find(nt=>nt.id===_):null;return H.jsxs("div",{className:"flex flex-col h-full bg-slate-50 border-t border-gray-200",children:[H.jsx("div",{className:"px-3 py-3 border-b bg-white flex-none shadow-sm z-10",children:H.jsxs("form",{onSubmit:A,className:"flex gap-2 items-center",children:[H.jsx("div",{className:"flex-1 relative",children:H.jsx("input",{type:"text",value:i,onChange:nt=>r(nt.target.value),placeholder:" ...",className:"w-full pl-3 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 transition-all"})}),H.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 transition-colors flex-shrink-0 shadow-sm",children:H.jsx(Ye.Plus,{size:18})})]})}),H.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-2.5",children:[s.length===0&&H.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-gray-400",children:[H.jsx(Ye.Check,{size:28,className:"mb-2 opacity-30"}),H.jsx("span",{className:"text-sm",children:" "})]}),s.map(nt=>H.jsx(l1,{item:nt,onToggle:S,onEdit:W,onDelete:M,onMemoOpen:tt},nt.id))]}),H.jsx(nv,{isOpen:!!o,title:" ",message:"   ?",onConfirm:G,onClose:()=>h(null)}),H.jsx(r1,{isOpen:d,memo:ct==null?void 0:ct.memo,onSave:$,onDelete:mt,onClose:()=>y(!1)})]})},Uy=({data:s,onSave:e,isTemplateMode:i=!1,isTemplatePreview:r=!1,sourceTemplateName:o,onCancel:h,onOpenSidebar:d,screenWidth:y,mdBreakpoint:_})=>{const[v,A]=Ut.useState(s.title),[S,M]=Ut.useState(s.content),[G,W]=Ut.useState(s.checklist),[tt,$]=Ut.useState(!1);Ut.useEffect(()=>{A(s.title),M(s.content),W(s.checklist),$(!1)},[s.id]);const mt=()=>{e({...s,title:v,content:S,checklist:G,updatedAt:Date.now()}),$(!1)},ct=()=>$(!0);return H.jsxs("div",{className:"flex flex-col h-full bg-white",children:[H.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b shadow-sm z-10 bg-white flex-none h-12",children:[H.jsxs("div",{className:"flex items-center gap-2 flex-1 mr-2 min-w-0",children:[i&&h?H.jsx("button",{onClick:h,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-600 flex-shrink-0",children:H.jsx(Ye.Back,{size:18})}):y<_&&d&&H.jsx("button",{onClick:d,className:"mr-1 p-1 hover:bg-gray-100 rounded text-gray-700 flex-shrink-0",children:H.jsx(Ye.Menu,{size:18})}),H.jsx("input",{type:"text",value:v,onChange:nt=>{A(nt.target.value),ct()},placeholder:i?" ":" ()",className:"text-base font-bold text-gray-800 placeholder-gray-300 outline-none bg-transparent w-full truncate leading-tight"})]}),H.jsx("button",{onClick:mt,disabled:!tt,className:`p-1.5 rounded-md transition-colors flex-shrink-0 ${tt?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:"",children:H.jsx(Ye.Save,{size:18})}),H.jsx("button",{onClick:()=>window.location.reload(),className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 text-gray-600 hover:bg-gray-100",title:"",children:H.jsx(Ye.Refresh,{size:18})}),h&&H.jsx("button",{onClick:h,className:"p-1.5 ml-1 rounded-md transition-colors flex-shrink-0 text-gray-600 hover:bg-gray-100",title:"",children:H.jsx(Ye.Back,{size:18})})]}),H.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[H.jsx("div",{className:"flex-1 flex flex-col border-b border-gray-200 relative group min-h-0 basis-1/3",children:H.jsx("textarea",{value:S,onChange:nt=>{M(nt.target.value),ct()},placeholder:i?"  ...":"  ...",className:"flex-1 w-full p-3 resize-none outline-none text-gray-700 leading-relaxed text-sm"})}),H.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 min-h-0 basis-2/3",children:H.jsx(o1,{items:G,onChange:nt=>{W(nt),ct()}})})]})]})},u1=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},c1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,S=(h&3)<<4|y>>4;let M=(y&15)<<2|v>>6,G=v&63;_||(G=64,d||(M=64)),r.push(i[A],i[S],i[M],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(iv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):c1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||v==null||S==null)throw new h1;const M=h<<2|y>>4;if(r.push(M),v!==64){const G=y<<4&240|v>>2;if(r.push(G),S!==64){const W=v<<6&192|S;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(s){const e=iv(s);return av.encodeByteArray(e,!0)},rc=function(s){return f1(s).replace(/\./g,"")},d1=function(s){try{return av.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=()=>m1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const s=Ly.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},y1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&d1(s[1]);return e&&JSON.parse(e)},Sd=()=>{try{return u1()||g1()||p1()||y1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},_1=s=>{var e,i;return(i=(e=Sd())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},v1=s=>{const e=_1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},sv=()=>{var s;return(s=Sd())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const Jl={};function S1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?s.emulator.push(e):s.prod.push(e);return s}function b1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let jy=!1;function R1(s,e){if(typeof window>"u"||typeof document>"u"||!bd(window.location.host)||Jl[s]===e||Jl[s]||jy)return;Jl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=S1().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{jy=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=b1(r),G=i("text"),W=document.getElementById(G)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),mt=i("preprendIcon"),ct=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const nt=M.element;y(nt),A($,tt);const pt=v();_(ct,mt),nt.append(ct,W,$,pt),document.body.appendChild(nt)}h?(W.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C1(){var e;const s=(e=Sd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D1(){return!C1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="FirebaseError";class Ur extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=N1,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rv.prototype.create)}}class rv{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?x1(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ur(o,y,r)}}function x1(s,e){return s.replace(M1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const M1=/\{\$([^}]+)}/g;function lc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(By(h)&&By(d)){if(!lc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function By(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(s){return s&&s._delegate?s._delegate:s}class no{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new E1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U1(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z1(s){return s===Es?void 0:s}function U1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new O1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const j1={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},B1=Bt.INFO,k1={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},q1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=k1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const P1=(s,e)=>e.some(i=>s instanceof i);let ky,qy;function H1(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,td=new WeakMap,uv=new WeakMap,kf=new WeakMap,Rd=new WeakMap;function F1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Na(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ov.set(i,s)}).catch(()=>{}),Rd.set(e,s),e}function Q1(s){if(td.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});td.set(s,e)}let ed={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return td.get(s);if(e==="objectStoreNames")return s.objectStoreNames||uv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Na(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Y1(s){ed=s(ed)}function X1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(qf(this),e,...i);return uv.set(r,e.sort?e.sort():[e]),Na(r)}:G1().includes(s)?function(...e){return s.apply(qf(this),e),Na(ov.get(this))}:function(...e){return Na(s.apply(qf(this),e))}}function K1(s){return typeof s=="function"?X1(s):(s instanceof IDBTransaction&&Q1(s),P1(s,H1())?new Proxy(s,ed):s)}function Na(s){if(s instanceof IDBRequest)return F1(s);if(kf.has(s))return kf.get(s);const e=K1(s);return e!==s&&(kf.set(s,e),Rd.set(e,s)),e}const qf=s=>Rd.get(s);function Z1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=Na(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Na(d.result),_.oldVersion,_.newVersion,Na(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const J1=["get","getKey","getAll","getAllKeys","count"],$1=["put","add","delete","clear"],Pf=new Map;function Py(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=$1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||J1.includes(i)))return;const h=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),o&&_.done]))[0]};return Pf.set(e,h),h}Y1(s=>({...s,get:(e,i,r)=>Py(e,i)||s.get(e,i,r),has:(e,i)=>!!Py(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function tA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nd="@firebase/app",Hy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new lv("@firebase/app"),eA="@firebase/app-compat",nA="@firebase/analytics-compat",iA="@firebase/analytics",aA="@firebase/app-check-compat",sA="@firebase/app-check",rA="@firebase/auth",lA="@firebase/auth-compat",oA="@firebase/database",uA="@firebase/data-connect",cA="@firebase/database-compat",hA="@firebase/functions",fA="@firebase/functions-compat",dA="@firebase/installations",mA="@firebase/installations-compat",gA="@firebase/messaging",pA="@firebase/messaging-compat",yA="@firebase/performance",_A="@firebase/performance-compat",vA="@firebase/remote-config",EA="@firebase/remote-config-compat",TA="@firebase/storage",AA="@firebase/storage-compat",SA="@firebase/firestore",bA="@firebase/ai",RA="@firebase/firestore-compat",wA="firebase",CA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",DA={[nd]:"fire-core",[eA]:"fire-core-compat",[iA]:"fire-analytics",[nA]:"fire-analytics-compat",[sA]:"fire-app-check",[aA]:"fire-app-check-compat",[rA]:"fire-auth",[lA]:"fire-auth-compat",[oA]:"fire-rtdb",[uA]:"fire-data-connect",[cA]:"fire-rtdb-compat",[hA]:"fire-fn",[fA]:"fire-fn-compat",[dA]:"fire-iid",[mA]:"fire-iid-compat",[gA]:"fire-fcm",[pA]:"fire-fcm-compat",[yA]:"fire-perf",[_A]:"fire-perf-compat",[vA]:"fire-rc",[EA]:"fire-rc-compat",[TA]:"fire-gcs",[AA]:"fire-gcs-compat",[SA]:"fire-fst",[RA]:"fire-fst-compat",[bA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,IA=new Map,ad=new Map;function Gy(s,e){try{s.container.addComponent(e)}catch(i){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function uc(s){const e=s.name;if(ad.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,s);for(const i of oc.values())Gy(i,s);for(const i of IA.values())Gy(i,s);return!0}function VA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function NA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new rv("app","Firebase",xA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=CA;function cv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:id,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw xa.create("bad-app-name",{appName:String(o)});if(i||(i=sv()),!i)throw xa.create("no-options");const h=oc.get(o);if(h){if(lc(i,h.options)&&lc(r,h.config))return h;throw xa.create("duplicate-app",{appName:o})}const d=new L1(o);for(const _ of ad.values())d.addComponent(_);const y=new MA(i,r,d);return oc.set(o,y),y}function zA(s=id){const e=oc.get(s);if(!e&&s===id&&sv())return cv();if(!e)throw xa.create("no-app",{appName:s});return e}function br(s,e,i){let r=DA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(d.join(" "));return}uc(new no(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebase-heartbeat-database",LA=1,io="firebase-heartbeat-store";let Hf=null;function hv(){return Hf||(Hf=Z1(UA,LA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(s=>{throw xa.create("idb-open",{originalErrorMessage:s.message})})),Hf}async function jA(s){try{const i=(await hv()).transaction(io),r=await i.objectStore(io).get(fv(s));return await i.done,r}catch(e){if(e instanceof Ur)Yi.warn(e.message);else{const i=xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(i.message)}}}async function Fy(s,e){try{const r=(await hv()).transaction(io,"readwrite");await r.objectStore(io).put(e,fv(s)),await r.done}catch(i){if(i instanceof Ur)Yi.warn(i.message);else{const r=xa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Yi.warn(r.message)}}}function fv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,kA=30;class qA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Qy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>kA){const d=GA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qy(),{heartbeatsToSend:r,unsentEntries:o}=PA(this._heartbeatsCache.heartbeats),h=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Yi.warn(i),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function PA(s,e=BA){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Yy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class HA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yy(s){return rc(JSON.stringify({version:2,heartbeats:s})).length}function GA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(s){uc(new no("platform-logger",e=>new W1(e),"PRIVATE")),uc(new no("heartbeat",e=>new qA(e),"PRIVATE")),br(nd,Hy,s),br(nd,Hy,"esm2020"),br("fire-js","")}FA("");var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ma,dv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(O,w,x){for(var R=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)R[Xt-2]=arguments[Xt];return b.prototype[w].apply(O,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,C){C||(C=0);const O=Array(16);if(typeof b=="string")for(var w=0;w<16;++w)O[w]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(w=0;w<16;++w)O[w]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],w=I.g[2];let x=I.g[3],R;R=b+(x^C&(w^x))+O[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=x+(w^b&(C^w))+O[1]+3905402710&4294967295,x=b+(R<<12&4294967295|R>>>20),R=w+(C^x&(b^C))+O[2]+606105819&4294967295,w=x+(R<<17&4294967295|R>>>15),R=C+(b^w&(x^b))+O[3]+3250441966&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(x^C&(w^x))+O[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=x+(w^b&(C^w))+O[5]+1200080426&4294967295,x=b+(R<<12&4294967295|R>>>20),R=w+(C^x&(b^C))+O[6]+2821735955&4294967295,w=x+(R<<17&4294967295|R>>>15),R=C+(b^w&(x^b))+O[7]+4249261313&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(x^C&(w^x))+O[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=x+(w^b&(C^w))+O[9]+2336552879&4294967295,x=b+(R<<12&4294967295|R>>>20),R=w+(C^x&(b^C))+O[10]+4294925233&4294967295,w=x+(R<<17&4294967295|R>>>15),R=C+(b^w&(x^b))+O[11]+2304563134&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(x^C&(w^x))+O[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=x+(w^b&(C^w))+O[13]+4254626195&4294967295,x=b+(R<<12&4294967295|R>>>20),R=w+(C^x&(b^C))+O[14]+2792965006&4294967295,w=x+(R<<17&4294967295|R>>>15),R=C+(b^w&(x^b))+O[15]+1236535329&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(w^x&(C^w))+O[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=x+(C^w&(b^C))+O[6]+3225465664&4294967295,x=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(x^b))+O[11]+643717713&4294967295,w=x+(R<<14&4294967295|R>>>18),R=C+(x^b&(w^x))+O[0]+3921069994&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^x&(C^w))+O[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=x+(C^w&(b^C))+O[10]+38016083&4294967295,x=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(x^b))+O[15]+3634488961&4294967295,w=x+(R<<14&4294967295|R>>>18),R=C+(x^b&(w^x))+O[4]+3889429448&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^x&(C^w))+O[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=x+(C^w&(b^C))+O[14]+3275163606&4294967295,x=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(x^b))+O[3]+4107603335&4294967295,w=x+(R<<14&4294967295|R>>>18),R=C+(x^b&(w^x))+O[8]+1163531501&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^x&(C^w))+O[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=x+(C^w&(b^C))+O[2]+4243563512&4294967295,x=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(x^b))+O[7]+1735328473&4294967295,w=x+(R<<14&4294967295|R>>>18),R=C+(x^b&(w^x))+O[12]+2368359562&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(C^w^x)+O[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=x+(b^C^w)+O[8]+2272392833&4294967295,x=b+(R<<11&4294967295|R>>>21),R=w+(x^b^C)+O[11]+1839030562&4294967295,w=x+(R<<16&4294967295|R>>>16),R=C+(w^x^b)+O[14]+4259657740&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^x)+O[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=x+(b^C^w)+O[4]+1272893353&4294967295,x=b+(R<<11&4294967295|R>>>21),R=w+(x^b^C)+O[7]+4139469664&4294967295,w=x+(R<<16&4294967295|R>>>16),R=C+(w^x^b)+O[10]+3200236656&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^x)+O[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=x+(b^C^w)+O[0]+3936430074&4294967295,x=b+(R<<11&4294967295|R>>>21),R=w+(x^b^C)+O[3]+3572445317&4294967295,w=x+(R<<16&4294967295|R>>>16),R=C+(w^x^b)+O[6]+76029189&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^x)+O[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=x+(b^C^w)+O[12]+3873151461&4294967295,x=b+(R<<11&4294967295|R>>>21),R=w+(x^b^C)+O[15]+530742520&4294967295,w=x+(R<<16&4294967295|R>>>16),R=C+(w^x^b)+O[2]+3299628645&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(w^(C|~x))+O[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=x+(C^(b|~w))+O[7]+1126891415&4294967295,x=b+(R<<10&4294967295|R>>>22),R=w+(b^(x|~C))+O[14]+2878612391&4294967295,w=x+(R<<15&4294967295|R>>>17),R=C+(x^(w|~b))+O[5]+4237533241&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~x))+O[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=x+(C^(b|~w))+O[3]+2399980690&4294967295,x=b+(R<<10&4294967295|R>>>22),R=w+(b^(x|~C))+O[10]+4293915773&4294967295,w=x+(R<<15&4294967295|R>>>17),R=C+(x^(w|~b))+O[1]+2240044497&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~x))+O[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=x+(C^(b|~w))+O[15]+4264355552&4294967295,x=b+(R<<10&4294967295|R>>>22),R=w+(b^(x|~C))+O[6]+2734768916&4294967295,w=x+(R<<15&4294967295|R>>>17),R=C+(x^(w|~b))+O[13]+1309151649&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~x))+O[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=x+(C^(b|~w))+O[11]+3174756917&4294967295,x=b+(R<<10&4294967295|R>>>22),R=w+(b^(x|~C))+O[2]+718787259&4294967295,w=x+(R<<15&4294967295|R>>>17),R=C+(x^(w|~b))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(w+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+x&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,O=this.C;let w=this.h,x=0;for(;x<b;){if(w==0)for(;x<=C;)o(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<b;)if(O[w++]=I.charCodeAt(x++),w==this.blockSize){o(this,O),w=0;break}}else for(;x<b;)if(O[w++]=I[x++],w==this.blockSize){o(this,O),w=0;break}}this.h=w,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)I[b++]=this.g[C]>>>O&255;return I};function h(I,b){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let O=!0;for(let w=I.length-1;w>=0;w--){const x=I[w]|0;O&&x==b||(C[w]=x,O=!1)}this.g=C}var y={};function _(I){return-128<=I&&I<128?h(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return $(v(-I));const b=[];let C=1;for(let O=0;I>=C;O++)b[O]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return $(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(b,8));let O=S;for(let x=0;x<I.length;x+=8){var w=Math.min(8,I.length-x);const R=parseInt(I.substring(x,x+w),b);w<8?(w=v(Math.pow(b,w)),O=O.j(w).add(v(R))):(O=O.j(C),O=O.add(v(R)))}return O}var S=_(0),M=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-$(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);I+=(O>=0?O:4294967296+O)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(tt(this))return"-"+$(this).toString(I);const b=v(Math.pow(I,6));var C=this;let O="";for(;;){const w=pt(C,b).g;C=mt(C,w.j(b));let x=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=w,W(C))return x+O;for(;x.length<6;)x="0"+x;O=x+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function tt(I){return I.h==-1}s.l=function(I){return I=mt(this,I),tt(I)?-1:W(I)?0:1};function $(I){const b=I.g.length,C=[];for(let O=0;O<b;O++)C[O]=~I.g[O];return new d(C,~I.h).add(M)}s.abs=function(){return tt(this)?$(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let O=0;for(let w=0;w<=b;w++){let x=O+(this.i(w)&65535)+(I.i(w)&65535),R=(x>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);O=R>>>16,x&=65535,R&=65535,C[w]=R<<16|x}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(I,b){return I.add($(b))}s.j=function(I){if(W(this)||W(I))return S;if(tt(this))return tt(I)?$(this).j($(I)):$($(this).j(I));if(tt(I))return $(this.j($(I)));if(this.l(G)<0&&I.l(G)<0)return v(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var O=0;O<2*b;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let w=0;w<I.g.length;w++){const x=this.i(O)>>>16,R=this.i(O)&65535,Xt=I.i(w)>>>16,oe=I.i(w)&65535;C[2*O+2*w]+=R*oe,ct(C,2*O+2*w),C[2*O+2*w+1]+=x*oe,ct(C,2*O+2*w+1),C[2*O+2*w+1]+=R*Xt,ct(C,2*O+2*w+1),C[2*O+2*w+2]+=x*Xt,ct(C,2*O+2*w+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function ct(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function nt(I,b){this.g=I,this.h=b}function pt(I,b){if(W(b))throw Error("division by zero");if(W(I))return new nt(S,S);if(tt(I))return b=pt($(I),b),new nt($(b.g),$(b.h));if(tt(b))return b=pt(I,$(b)),new nt($(b.g),b.h);if(I.g.length>30){if(tt(I)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=M,O=b;O.l(I)<=0;)C=Dt(C),O=Dt(O);var w=vt(C,1),x=vt(O,1);for(O=vt(O,2),C=vt(C,2);!W(O);){var R=x.add(O);R.l(I)<=0&&(w=w.add(C),x=R),O=vt(O,1),C=vt(C,1)}return b=mt(I,w.j(b)),new nt(w,b)}for(w=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),x=v(C),R=x.j(b);tt(R)||R.l(I)>0;)C-=O,x=v(C),R=x.j(b);W(x)&&(x=M),w=w.add(x),I=mt(I,R)}return new nt(w,I)}s.B=function(I){return pt(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)&I.i(O);return new d(C,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)|I.i(O);return new d(C,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)^I.i(O);return new d(C,this.h^I.h)};function Dt(I){const b=I.g.length+1,C=[];for(let O=0;O<b;O++)C[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(C,I.h)}function vt(I,b){const C=b>>5;b%=32;const O=I.g.length-C,w=[];for(let x=0;x<O;x++)w[x]=b>0?I.i(x+C)>>>b|I.i(x+C+1)<<32-b:I.i(x+C);return new d(w,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ma=d}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,Xl,gv,tc,sd,pv,yv,_v;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,p){return u.call.apply(u.bind,arguments)}function v(u,m,p){return v=_,v.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var et=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)et[bt-2]=arguments[bt];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const q=L.length||0;u.length=p+q;for(let et=0;et<q;et++)u[p+et]=L[et]}else u.push(L)}}class tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,p){const T=nt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var nt=new tt(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,vt=!1,I=new ct,b=()=>{const u=Promise.resolve(void 0);Dt=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(p){$(p)}var m=nt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}vt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Xt(u,m){w.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Xt,w),Xt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),z=0;function J(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++z,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ht(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Et(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function V(u){const m={};for(const p in u)m[p]=u[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<Q.length;q++)p=Q[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,p,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=wt(u,m,T,L);return et>-1?(m=u[et],p||(m.fa=!1)):(m=new J(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function _t(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(at(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function wt(u,m,p,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ae(u,m,p,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],p,T,L);return null}return p=Gr(p),u&&u[oe]?u.J(m,p,y(T)?!!T.capture:!1,L):Pa(u,m,p,!1,T,L)}function Pa(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");const et=y(L)?!!L.capture:!!L;let bt=Ha(u);if(bt||(u[Lt]=bt=new st(u)),p=bt.add(m,p,T,et,q),p.proxy)return p;if(T=Is(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)x||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Is(){function u(p){return m.call(u.src,u.listener,p)}const m=Pr;return u}function Vs(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Vs(u,m[q],p,T,L);else T=y(T)?!!T.capture:!!T,p=Gr(p),u&&u[oe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=wt(m,p,T,L),p>-1&&(at(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ha(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,p,T,L)),(p=u>-1?m[u]:null)&&Ns(p))}function Ns(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])_t(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Jn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ha(m))?(_t(p,u),p.h==0&&(p.src=null,m[Lt]=null)):at(u)}}}function Jn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function Pr(u,m){if(u.da)u=!0;else{m=new Xt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Ns(u),u=p.call(T,m)}return u}function Ha(u){return u=u[Lt],u instanceof st?u:null}var Hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gr(u){return typeof u=="function"?u:(u[Hr]||(u[Hr]=function(m){return u.handleEvent(m)}),u[Hr])}function pe(){O.call(this),this.i=new st(this),this.M=this,this.G=null}S(pe,O),pe.prototype[oe]=!0,pe.prototype.removeEventListener=function(u,m,p,T){Vs(this,u,m,p,T)};function Ve(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new w(m,u);else if(m instanceof w)m.target=m.target||u;else{var L=m;m=new w(T,u),it(m,L)}L=!0;let q,et;if(p)for(et=p.length-1;et>=0;et--)q=m.g=p[et],L=Zi(q,T,!0,m)&&L;if(q=m.g=u,L=Zi(q,T,!0,m)&&L,L=Zi(q,T,!1,m)&&L,p)for(et=0;et<p.length;et++)q=m.g=p[et],L=Zi(q,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)at(p[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},pe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Zi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==p){const bt=et.listener,fe=et.ha||et.src;et.fa&&_t(u.i,et),L=bt.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function zc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function yo(u){u.g=zc(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ga(u){O.call(this),this.h=u,this.g={}}S(Ga,O);var Fr=[];function Qr(u){ht(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ns(m)},u),u.g={}}Ga.prototype.N=function(){Ga.Z.N.call(this),Qr(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,Uc=d.JSON.parse,_o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vo(){}function Eo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){w.call(this,"d")}S(je,w);function Tn(){w.call(this,"c")}S(Tn,w);var he={},To=null;function xs(){return To=To||new pe}he.Ia="serverreachability";function Ao(u){w.call(this,he.Ia,u)}S(Ao,w);function $n(u){const m=xs();Ve(m,new Ao(m))}he.STAT_EVENT="statevent";function Fa(u,m){w.call(this,he.STAT_EVENT,u),this.stat=m}S(Fa,w);function ye(u){const m=xs();Ve(m,new Fa(m,u))}he.Ja="timingevent";function Wn(u,m){w.call(this,he.Ja,u),this.size=m}S(Wn,w);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Lc(u,m,p,T,L,q){u.info(function(){if(u.g)if(q){var et="",bt=q.split("&");for(let Pt=0;Pt<bt.length;Pt++){var fe=bt[Pt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Rn=se.split("_");et=Rn.length>=2&&Rn[1]=="type"?et+(se+"="+fe+"&"):et+(se+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function So(u,m,p,T,L,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+et})}function ei(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jc(u,p)+(T?" "+T:"")})}function Qa(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function jc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Ji(q)}catch{return m}}var Ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function Xa(){}S(Xa,vo),Xa.prototype.g=function(){return new XMLHttpRequest},Xr=new Xa;function Di(u){return encodeURIComponent(String(u))}function bo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function jn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ga(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function ni(u,m,p){u.M=1,u.A=Ka(Ee(m)),u.u=p,u.R=!0,Ms(u,null)}function Ms(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ls(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Bn,u.g=Bo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new tn(v(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Fr[0]=L.toString()),L=Fr);for(let q=0;q<L.length;q++){const et=ae(p,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Lc(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Pn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Pn(this.g),fe=this.g.ya(),Pt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||fe==7||(fe==8||Pt<=0?$n(3):$n(2)),ai(this);var m=this.g.ca();this.X=m;var p=Bc(this);if(this.o=m==200,So(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),An(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<p.length;)if(se=wo(this,p),se==Oe){bt==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),ei(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,se,null),si(this,se);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,p,"[Invalid Chunked Response]"),fn(this),An(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),ul(et),et.P=!0,ye(11))}}else ei(this.i,this.l,p,null),si(this,p);bt==4&&fn(this),this.o&&!this.K&&(bt==4?zo(this.j,this):(this.o=!1,ii(this)))}else Vi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),An(this)}}}catch{}finally{}};function Bc(u){if(!Ro(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,L=Pn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Ro(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?_e:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),u.C=T+p,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function ii(u){u.T=Date.now()+u.H,Os(u,u.H)}function Os(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(v(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qa(this.i,this.B),this.M!=2&&($n(),ye(17)),fn(this),this.m=2,An(this)):Os(this,this.T-u)};function An(u){u.j.I==0||u.K||zo(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Qr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||li(p.h,u))){if(!u.L&&li(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Ps(p),sa(p);else break t;ns(p),ye(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ti(v(p.Va,p),6e3));ri(p.h)<=1&&p.ta&&(p.ta=void 0)}else di(p,11)}else if((u.L||p.g==u)&&Ps(p),!R(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];const se=Pt[0];if(!(se<=p.K))if(p.K=se,Pt=Pt[1],p.I==2)if(Pt[0]=="c"){p.M=Pt[1],p.ba=Pt[2];const Rn=Pt[3];Rn!=null&&(p.ka=Rn,p.j.info("VER="+p.ka));const mi=Pt[4];mi!=null&&(p.za=mi,p.j.info("SVER="+p.za));const Hn=Pt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Gn=u.g;if(Gn){const is=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var q=T.h;q.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Jr(q,q.h),q.h=null))}if(T.G){const Hs=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(T.wa=Hs,Ft(T.J,T.G,Hs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var et=u;if(T.na=jo(T,T.L?T.ba:null,T.W),et.L){$r(T.h,et);var bt=et,fe=T.O;fe&&(bt.H=fe),bt.D&&(ai(bt),ii(bt)),T.g=et}else Mo(T);p.i.length>0&&fi(p)}else Pt[0]!="stop"&&Pt[0]!="close"||di(p,7);else p.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?di(p,7):ll(p):Pt[0]!="noop"&&p.l&&p.l.qa(Pt),p.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Jr(u,m){u.g?u.g.add(m):u.h=m}function $r(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Kr.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return G(u.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,q=null;T>=0?(L=u[p].substring(0,T),q=u[p].substring(T+1)):L=u[p],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.u),this.h=u.h,tl(this,No(u.i)),this.m=u.m):u&&(m=String(u).match(Co))?(this.l=!1,ze(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),$i(this,m[4]),this.h=oi(m[5]||"",!0),tl(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Za(m,Us,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Za(m,Us,!0),"@"),u.push(Di(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Za(p,p.charAt(0)=="/"?el:Do,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Za(p,Io)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let p=!!u.j;p?ze(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)$i(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const bt=L[et++];bt=="."?T&&et==L.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==L.length&&q.push("")):(q.push(bt),T=!0)}T=q.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?tl(m,No(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ee(u){return new dn(u)}function ze(u,m,p){u.j=p?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function tl(u,m,p){m instanceof ta?(u.i=m,js(u.i,u.l)):(p||(m=Za(m,Wi)),u.i=new ta(m,u.l))}function Ft(u,m,p){u.i.set(m,p)}function Ka(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Za(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,an),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,Do=/[#\?:]/g,el=/[#\?]/g,Wi=/[#\?@]/g,Io=/#/g;function ta(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&zs(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=ta.prototype,s.add=function(u,m){sn(this),this.i=null,u=ea(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Vo(u,m){sn(u),m=ea(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function nl(u,m){return sn(u),m=ea(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function il(u,m){sn(u);let p=[];if(typeof m=="string")nl(u,m)&&(p=p.concat(u.g.get(ea(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return sn(this),this.i=null,u=ea(this,u),nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=il(this,u),u.length>0?String(u[0]):m):m};function Ls(u,m,p){Vo(u,m),p.length>0&&(u.i=null,u.g.set(ea(u,m),G(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Di(p);p=il(this,p);for(let q=0;q<p.length;q++){let et=L;p[q]!==""&&(et+="="+Di(p[q])),u.push(et)}}return this.i=u.join("&")};function No(u){const m=new ta;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ea(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function js(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Vo(this,T),Ls(this,L,p))},u)),u.j=m}function kn(u,m){const p=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function al(u,m){const p=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Sn(p,"TestPingServer: ok",!0,m):Sn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(p,"TestPingServer: error",!1,m)})}function Sn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function na(){this.g=new _o}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ui,vo),ui.prototype.g=function(){return new Ja(this.i,this.h)};function Ja(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ja,pe),s=Ja.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ia(this):qn(this),this.readyState==3&&Bs(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ia(this))},s.Na=function(u){this.g&&(this.response=u,ia(this))},s.ga=function(){this.g&&ia(this)};function ia(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return ht(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function $a(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=bn(p),typeof u=="string"?p!=null&&Di(p):Ft(u,m,p))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var ci=/^https?$/i,sl=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Wa(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(sl,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Wa(this,q)}};function Wa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,rl(u),Ii(u)}function rl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ii(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ts(this):this.Xa())},s.Xa=function(){ts(this)};function ts(u){if(u.h&&typeof h<"u"){if(u.v&&Pn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let et=String(u.D).match(Co)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!ci.test(et?et.toLowerCase():"")}p=T}if(p)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Pn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",rl(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ve(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Pn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=bo(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}Et(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function aa(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new na,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=aa.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){ye(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=jo(this,null,this.W),fi(this)};function ll(u){if(ks(u),u.I==3){var m=u.V++,p=Ee(u.J);if(Ft(p,"SID",u.M),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),es(u,p),m=new jn(u,u.j,m),m.M=2,m.A=Ka(Ee(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Bo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Lo(u)}function sa(u){u.g&&(ul(u),u.g.cancel(),u.g=null)}function ks(u){sa(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ps(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!Zr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Dt||b(),vt||(Dt(),vt=!0),I.add(m,u),u.D=0}}function qs(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(v(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=xo(this,L,m),p=Ee(this.J),Ft(p,"RID",u),Ft(p,"CVER",22),this.G&&Ft(p,"X-HTTP-Session-Id",this.G),es(this,p),q&&(this.R?m="headers="+Di(bn(q))+"&"+m:this.u&&$a(p,this.u,q)),Jr(this.h,L),this.Ra&&Ft(p,"TYPE","init"),this.S?(Ft(p,"$req",m),Ft(p,"SID","null"),L.U=!0,ni(L,p,null)):ni(L,p,m),this.I=2}}else this.I==3&&(u?ol(this,u):this.i.length==0||Zr(this.h)||ol(this))};function ol(u,m){var p;m?p=m.l:p=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",p),Ft(T,"AID",u.K),es(u,T),u.u&&u.o&&$a(T,u.u,u.o),p=new jn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Jr(u.h,p),ni(p,T,m)}function es(u,m){u.H&&ht(u.H,function(p,T){Ft(m,T,p)}),u.l&&ht({},function(p,T){Ft(m,T,p)})}function xo(u,m,p){p=Math.min(u.i.length,p);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const fe=["count="+p];bt==-1?p>0?(bt=L[0].g,fe.push("ofs="+bt)):bt=0:fe.push("ofs="+bt);let Pt=!0;for(let se=0;se<p;se++){var q=L[se].g;const Rn=L[se].map;if(q-=bt,q<0)bt=Math.max(0,L[se].g-100),Pt=!1;else try{q="req"+q+"_"||"";try{var et=Rn instanceof Map?Rn:Object.entries(Rn);for(const[mi,Hn]of et){let Gn=Hn;y(Hn)&&(Gn=Ji(Hn)),fe.push(q+mi+"="+encodeURIComponent(Gn))}}catch(mi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(Rn)}}if(Pt){et=fe.join("&");break t}}et=void 0}return u=u.i.splice(0,p),m.G=u,et}function Mo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Dt||b(),vt||(Dt(),vt=!0),I.add(m,u),u.A=0}}function ns(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(v(u.Da,u),Uo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),sa(this),Oo(this))};function ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Oo(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),es(u,m),u.u&&u.o&&$a(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ka(Ee(m)),p.u=null,p.R=!0,Ms(p,u)}s.Va=function(){this.C!=null&&(this.C=null,sa(this),ns(this),ye(19))};function Ps(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function zo(u,m){var p=null;if(u.g==m){Ps(u),ul(u),u.g=null;var T=2}else if(li(u.h,m))p=m.G,$r(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=xs(),Ve(T,new Wn(T,p)),fi(u)}else Mo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&qs(u,m)||T==2&&ns(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function Uo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var p=v(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),Ka(T),L?kn(T.toString(),p):al(T.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),Lo(u),ks(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Wr(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function jo(u,m,p){var T=p instanceof dn?Ee(p):new dn(p);if(T.g!="")m&&(T.g=m+"."+T.g),$i(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new dn(null);T&&ze(q,T),m&&(q.g=m),L&&$i(q,L),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Ft(T,p,m),Ft(T,"VER",u.ka),es(u,T),T}function Bo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ui({ab:p})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}s=ko.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ra(){}ra.prototype.g=function(u,m){return new en(u,m)};function en(u,m){pe.call(this),this.g=new aa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}S(en,pe),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ll(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Ji(u),u=p);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,en.Z.N.call(this)};function qo(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(qo,je);function Po(){Tn.call(this),this.status=1}S(Po,Tn);function Ni(u){this.g=u}S(Ni,ko),Ni.prototype.ra=function(){Ve(this.g,"a")},Ni.prototype.qa=function(u){Ve(this.g,new qo(u))},Ni.prototype.pa=function(u){Ve(this.g,new Po)},Ni.prototype.oa=function(){Ve(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_v=function(){return new ra},yv=function(){return xs()},pv=he,sd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ya.NO_ERROR=0,Ya.TIMEOUT=8,Ya.HTTP_ERROR=6,tc=Ya,Yr.COMPLETE="complete",gv=Yr,Eo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Xl=Eo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,mv=Kt}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Ky="@firebase/firestore",Zy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new lv("@firebase/firestore");function Er(){return As.logLevel}function lt(s,...e){if(As.logLevel<=Bt.DEBUG){const i=e.map(wd);As.debug(`Firestore (${Lr}): ${s}`,...i)}}function Xi(s,...e){if(As.logLevel<=Bt.ERROR){const i=e.map(wd);As.error(`Firestore (${Lr}): ${s}`,...i)}}function Ir(s,...e){if(As.logLevel<=Bt.WARN){const i=e.map(wd);As.warn(`Firestore (${Lr}): ${s}`,...i)}}function wd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,vv(s,r,i)}function vv(s,e,i){let r=`FIRESTORE (${Lr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Xi(r),new Error(r)}function Gt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||vv(e,o,r)}function St(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Ur{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class XA{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new Oa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Oa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Oa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new Ev(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class KA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new KA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,NA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const r=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$A(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Mt(s,e){return s<e?-1:s>e?1:0}function rd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Gf(o)===Gf(h)?Mt(o,h):Gf(o)?1:-1}return Mt(s.length,e.length)}const WA=55296,tS=57343;function Gf(s){const e=s.charCodeAt(0);return e>=WA&&e<=tS}function Vr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class Ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&yt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const r=Ti.isNumericId(e),o=Ti.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class te extends Ti{construct(e,i,r){return new te(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const eS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ti{construct(e,i,r){return new Xe(e,i,r)}static isValidIdentifier(e){return eS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new Xe([$y])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(i)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(te.fromString(e))}static fromName(e){return new dt(te.fromString(e).popFirst(5))}static empty(){return new dt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(s,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function nS(s,e,i,r){if(e===!0&&r===!0)throw new rt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Wy(s){if(!dt.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function t_(s){if(dt.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Av(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Tc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Nr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tc(s);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(s,e){const i={typeString:s};return e&&(i.value=e),i}function ho(s,e){if(!Av(s))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,n_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*n_);return new ie(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e_)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ho(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:De("string",ie._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new ie(0,0))}static max(){return new Tt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function iS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new ie(i+1,0):new ie(i,r));return new Ua(o,dt.empty(),e)}function aS(s){return new Ua(s.readTime,s.key,ao)}class Ua{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ua(Tt.min(),dt.empty(),ao)}static max(){return new Ua(Tt.max(),dt.empty(),ao)}}function sS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jr(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==rS)throw s;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(_=>r(_)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++y,y===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function oS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Br(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function Sc(s){return s==null}function cc(s){return s===0&&1/s==-1/0}function uS(s){return typeof s=="number"&&Number.isInteger(s)&&!cc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="";function cS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=i_(e)),e=hS(s.get(i),e);return i_(e)}function hS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Sv:i+="";break;default:i+=h}}return i}function i_(s){return s+Sv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function bs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function bv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Qe.RED,this.left=o??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Qe(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Xn([])}unionWith(e){let i=new Me(Xe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Rv("Invalid base64 string: "+h):h}})(e);return new Ke(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const fS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(s){if(Gt(!!s,39018),typeof s=="string"){let e=0;const i=fS.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ja(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="server_timestamp",Cv="__type__",Dv="__previous_value__",Iv="__local_write_time__";function Id(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Cv])==null?void 0:r.stringValue)===wv}function bc(s){const e=s.mapValue.fields[Dv];return Id(e)?bc(e):e}function so(s){const e=La(s.mapValue.fields[Iv].timestampValue);return new ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,r,o,h,d,y,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const hc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__type__",mS="__max__",Xu={mapValue:{}},Nv="__vector__",fc="value";function Ba(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Id(s)?4:pS(s)?9007199254740991:gS(s)?10:11:yt(28295,{value:s})}function Ci(s,e){if(s===e)return!0;const i=Ba(s);if(i!==Ba(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return so(s).isEqual(so(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=La(o.timestampValue),y=La(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return ja(o.bytesValue).isEqual(ja(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),y=ge(h.doubleValue);return d===y?cc(d)===cc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return Vr(s.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(a_(d)!==a_(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Ci(d[_],y[_])))return!1;return!0})(s,e);default:return yt(52216,{left:s})}}function lo(s,e){return(s.values||[]).find((i=>Ci(i,e)))!==void 0}function xr(s,e){if(s===e)return 0;const i=Ba(s),r=Ba(e);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=ge(h.integerValue||h.doubleValue),_=ge(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(s,e);case 3:return r_(s.timestampValue,e.timestampValue);case 4:return r_(so(s),so(e));case 5:return rd(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=ja(h),_=ja(d);return y.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const A=Mt(y[v],_[v]);if(A!==0)return A}return Mt(y.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Mt(ge(h.latitude),ge(d.latitude));return y!==0?y:Mt(ge(h.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return l_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){var M,G,W,tt;const y=h.fields||{},_=d.fields||{},v=(M=y[fc])==null?void 0:M.arrayValue,A=(G=_[fc])==null?void 0:G.arrayValue,S=Mt(((W=v==null?void 0:v.values)==null?void 0:W.length)||0,((tt=A==null?void 0:A.values)==null?void 0:tt.length)||0);return S!==0?S:l_(v,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Xu.mapValue&&d===Xu.mapValue)return 0;if(h===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=rd(_[S],A[S]);if(M!==0)return M;const G=xr(y[_[S]],v[A[S]]);if(G!==0)return G}return Mt(_.length,A.length)})(s.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function r_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=La(s),r=La(e),o=Mt(i.seconds,r.seconds);return o!==0?o:Mt(i.nanos,r.nanos)}function l_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=xr(i[o],r[o]);if(h)return h}return Mt(i.length,r.length)}function Mr(s){return ld(s)}function ld(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=La(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ja(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=ld(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${ld(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function ec(s){switch(Ba(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bc(s);return e?16+ec(e):16;case 5:return 2*s.stringValue.length;case 6:return ja(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+ec(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return bs(r.fields,((h,d)=>{o+=h.length+ec(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function o_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function od(s){return!!s&&"integerValue"in s}function Vd(s){return!!s&&"arrayValue"in s}function u_(s){return!!s&&"nullValue"in s}function c_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nc(s){return!!s&&"mapValue"in s}function gS(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Vv])==null?void 0:r.stringValue)===Nv}function $l(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return bs(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=$l(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$l(s.arrayValue.values[i]);return e}return{...s}}function pS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===mS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(i)}setAll(e){let i=Xe.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=$l(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){bs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new On($l(this.value))}}function xv(s){const e=[];return bs(s.fields,((i,r)=>{const o=new Xe([i]);if(nc(r)){const h=xv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new We(e,0,Tt.min(),Tt.min(),Tt.min(),On.empty(),0)}static newFoundDocument(e,i,r,o){return new We(e,1,i,Tt.min(),r,o,0)}static newNoDocument(e,i){return new We(e,2,i,Tt.min(),Tt.min(),On.empty(),0)}static newUnknownDocument(e,i){return new We(e,3,i,Tt.min(),Tt.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function h_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=xr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i="asc"){this.field=e,this.dir=i}}function yS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{}class Ce extends Mv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new vS(e,i,r):i==="array-contains"?new AS(e,r):i==="in"?new SS(e,r):i==="not-in"?new bS(e,r):i==="array-contains-any"?new RS(e,r):new Ce(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new ES(e,r):new TS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xr(i,this.value)):i!==null&&Ba(this.value)===Ba(i)&&this.matchesComparison(xr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Mv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Kn(e,i)}matches(e){return Ov(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ov(s){return s.op==="and"}function zv(s){return _S(s)&&Ov(s)}function _S(s){for(const e of s.filters)if(e instanceof Kn)return!1;return!0}function ud(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+Mr(s.value);if(zv(s))return s.filters.map((e=>ud(e))).join(",");{const e=s.filters.map((i=>ud(i))).join(",");return`${s.op}(${e})`}}function Uv(s,e){return s instanceof Ce?(function(r,o){return o instanceof Ce&&r.op===o.op&&r.field.isEqual(o.field)&&Ci(r.value,o.value)})(s,e):s instanceof Kn?(function(r,o){return o instanceof Kn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&Uv(d,o.filters[y])),!0):!1})(s,e):void yt(19439)}function Lv(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Mr(i.value)}`})(s):s instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Lv).join(" ,")+"}"})(s):"Filter"}class vS extends Ce{constructor(e,i,r){super(e,i,r),this.key=dt.fromName(r.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class ES extends Ce{constructor(e,i){super(e,"in",i),this.keys=jv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class TS extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=jv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jv(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>dt.fromName(r.referenceValue)))}class AS extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vd(i)&&lo(i.arrayValue,this.value)}}class SS extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class bS extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class RS extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>lo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function d_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new wS(s,e,i,r,o,h,d)}function Nd(s){const e=St(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ud(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Mr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Mr(r))).join(",")),e.Te=i}return e.Te}function xd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!yS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Uv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!f_(s.startAt,e.startAt)&&f_(s.endAt,e.endAt)}function cd(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CS(s,e,i,r,o,h,d,y){return new kr(s,e,i,r,o,h,d,y)}function Bv(s){return new kr(s)}function m_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kv(s){return s.collectionGroup!==null}function Wl(s){const e=St(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Me(Xe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new oo(h,r))})),i.has(Xe.keyField().canonicalString())||e.Ie.push(new oo(Xe.keyField(),r))}return e.Ie}function Ai(s){const e=St(s);return e.Ee||(e.Ee=DS(e,Wl(s))),e.Ee}function DS(s,e){if(s.limitType==="F")return d_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new oo(o.field,h)}));const i=s.endAt?new dc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new dc(s.startAt.position,s.startAt.inclusive):null;return d_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function hd(s,e){const i=s.filters.concat([e]);return new kr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function fd(s,e,i){return new kr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rc(s,e){return xd(Ai(s),Ai(e))&&s.limitType===e.limitType}function qv(s){return`${Nd(Ai(s))}|lt:${s.limitType}`}function Tr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Lv(o))).join(", ")}]`),Sc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Mr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Mr(o))).join(",")),`Target(${r})`})(Ai(s))}; limitType=${s.limitType})`}function wc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):dt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Wl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,_){const v=h_(d,y,_);return d.inclusive?v<=0:v<0})(r.startAt,Wl(r),o)||r.endAt&&!(function(d,y,_){const v=h_(d,y,_);return d.inclusive?v>=0:v>0})(r.endAt,Wl(r),o))})(s,e)}function IS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Pv(s){return(e,i)=>{let r=!1;for(const o of Wl(s)){const h=VS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function VS(s,e,i){const r=s.field.isKeyField()?dt.comparator(e.key,i.key):(function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?xr(_,v):yt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new le(dt.comparator);function Ki(){return NS}const Hv=new le(dt.comparator);function Kl(...s){let e=Hv;for(const i of s)e=e.insert(i.key,i);return e}function Gv(s){let e=Hv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ts(){return to()}function Fv(){return to()}function to(){return new Rs((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xS=new le(dt.comparator),MS=new Me(dt.comparator);function Ot(...s){let e=MS;for(const i of s)e=e.add(i);return e}const OS=new Me(Mt);function zS(){return OS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function Qv(s){return{integerValue:""+s}}function US(s,e){return uS(e)?Qv(e):Md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function LS(s,e,i){return s instanceof mc?(function(o,h){const d={fields:{[Cv]:{stringValue:wv},[Iv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Id(h)&&(h=bc(h)),h&&(d.fields[Dv]=h),{mapValue:d}})(i,e):s instanceof uo?Xv(s,e):s instanceof co?Kv(s,e):(function(o,h){const d=Yv(o,h),y=g_(d)+g_(o.Ae);return od(d)&&od(o.Ae)?Qv(y):Md(o.serializer,y)})(s,e)}function jS(s,e,i){return s instanceof uo?Xv(s,e):s instanceof co?Kv(s,e):i}function Yv(s,e){return s instanceof gc?(function(r){return od(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class mc extends Cc{}class uo extends Cc{constructor(e){super(),this.elements=e}}function Xv(s,e){const i=Zv(e);for(const r of s.elements)i.some((o=>Ci(o,r)))||i.push(r);return{arrayValue:{values:i}}}class co extends Cc{constructor(e){super(),this.elements=e}}function Kv(s,e){let i=Zv(e);for(const r of s.elements)i=i.filter((o=>!Ci(o,r)));return{arrayValue:{values:i}}}class gc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function g_(s){return ge(s.integerValue||s.doubleValue)}function Zv(s){return Vd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function BS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof uo&&o instanceof uo||r instanceof co&&o instanceof co?Vr(r.elements,o.elements,Ci):r instanceof gc&&o instanceof gc?Ci(r.Ae,o.Ae):r instanceof mc&&o instanceof mc})(s.transform,e.transform)}class kS{constructor(e,i){this.version=e,this.transformResults=i}}class Si{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dc{}function Jv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Od(s.key,Si.none()):new fo(s.key,s.data,Si.none());{const i=s.data,r=On.empty();let o=new Me(Xe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new ws(s.key,r,new Xn(o.toArray()),Si.none())}}function qS(s,e,i){s instanceof fo?(function(o,h,d){const y=o.value.clone(),_=y_(o.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof ws?(function(o,h,d){if(!ic(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=y_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll($v(o)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function eo(s,e,i,r){return s instanceof fo?(function(h,d,y,_){if(!ic(h.precondition,d))return y;const v=h.value.clone(),A=__(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof ws?(function(h,d,y,_){if(!ic(h.precondition,d))return y;const v=__(h.fieldTransforms,_,d),A=d.data;return A.setAll($v(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(h,d,y){return ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function PS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=Yv(r.transform,o||null);h!=null&&(i===null&&(i=On.empty()),i.set(r.field,h))}return i||null}function p_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Vr(r,o,((h,d)=>BS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fo extends Dc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ws extends Dc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $v(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function y_(s,e,i){const r=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,jS(d,y,i[o]))}return r}function __(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,LS(h,d,e))}return r}class Od extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&qS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=eo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=eo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Fv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const _=Jv(d,y);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&Vr(this.mutations,e.mutations,((i,r)=>p_(i,r)))&&Vr(this.baseMutations,e.baseMutations,((i,r)=>p_(i,r)))}}class zd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return xS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new zd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,jt;function YS(s){switch(s){case K.OK:return yt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function Wv(s){if(s===void 0)return Xi("GRPC error has no .code"),K.UNKNOWN;switch(s){case Re.OK:return K.OK;case Re.CANCELLED:return K.CANCELLED;case Re.UNKNOWN:return K.UNKNOWN;case Re.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Re.INTERNAL:return K.INTERNAL;case Re.UNAVAILABLE:return K.UNAVAILABLE;case Re.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Re.NOT_FOUND:return K.NOT_FOUND;case Re.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Re.ABORTED:return K.ABORTED;case Re.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Re.DATA_LOSS:return K.DATA_LOSS;default:return yt(39323,{code:s})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Ma([4294967295,4294967295],0);function v_(s){const e=XS().encode(s),i=new dv;return i.update(e),new Uint8Array(i.digest())}function E_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ma([i,r],0),new Ma([o,h],0)]}class Ud{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ma.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ma.fromNumber(r)));return o.compare(KS)===1&&(o=new Ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v_(e),[r,o]=E_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ud(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=v_(e),[r,o]=E_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ic(Tt.min(),o,new le(Mt),Ki(),Ot())}}class mo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new mo(r,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class t0{constructor(e,i){this.targetId=e,this.Ce=i}}class e0{constructor(e,i,r=Ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class T_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:h})}})),new mo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=A_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=Ku(),this.He=Ku(),this.Ye=new le(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(cd(h))if(r===0){const d=new dt(h.path);this.et(i,d,We.newNoDocument(d,Tt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),_=y?this.ct(y,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=ja(r).toUint8Array()}catch(_){if(_ instanceof Rv)return Ir("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Ud(d,o,h)}catch(_){return Ir(_ instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&cd(y.target)){const _=new dt(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,We.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Ot();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ic(e,i,this.Ye,this.je,r);return this.je=Ki(),this.Je=Ku(),this.He=Ku(),this.Ye=new le(Mt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new T_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ku(){return new le(dt.comparator)}function A_(){return new le(dt.comparator)}const JS={asc:"ASCENDING",desc:"DESCENDING"},$S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WS={and:"AND",or:"OR"};class tb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dd(s,e){return s.useProto3Json||Sc(e)?e:{value:e}}function pc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function eb(s,e){return pc(s,e.toTimestamp())}function bi(s){return Gt(!!s,49232),Tt.fromTimestamp((function(i){const r=La(i);return new ie(r.seconds,r.nanos)})(s))}function Ld(s,e){return md(s,e).canonicalString()}function md(s,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function i0(s){const e=te.fromString(s);return Gt(o0(e),10190,{key:e.toString()}),e}function gd(s,e){return Ld(s.databaseId,e.path)}function Ff(s,e){const i=i0(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(s0(i))}function a0(s,e){return Ld(s.databaseId,e)}function nb(s){const e=i0(s);return e.length===4?te.emptyPath():s0(e)}function pd(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function s0(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function S_(s,e,i){return{name:gd(s,e),fields:i.value.mapValue.fields}}function ib(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const A=v.code===void 0?K.UNKNOWN:Wv(v.code);return new rt(A,v.message||"")})(d);i=new e0(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ff(s,r.document.name),h=bi(r.document.updateTime),d=r.document.createTime?bi(r.document.createTime):Tt.min(),y=new On({mapValue:{fields:r.document.fields}}),_=We.newFoundDocument(o,h,d,y),v=r.targetIds||[],A=r.removedTargetIds||[];i=new ac(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ff(s,r.document),h=r.readTime?bi(r.readTime):Tt.min(),d=We.newNoDocument(o,h),y=r.removedTargetIds||[];i=new ac([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ff(s,r.document),h=r.removedTargetIds||[];i=new ac([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new QS(o,h),y=r.targetId;i=new t0(y,d)}}return i}function ab(s,e){let i;if(e instanceof fo)i={update:S_(s,e.key,e.value)};else if(e instanceof Od)i={delete:gd(s,e.key)};else if(e instanceof ws)i={update:S_(s,e.key,e.data),updateMask:db(e.fieldMask)};else{if(!(e instanceof HS))return yt(16599,{Vt:e.type});i={verify:gd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof gc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:eb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(s,e.precondition)),i}function sb(s,e){return s&&s.length>0?(Gt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?bi(o.updateTime):bi(h);return d.isEqual(Tt.min())&&(d=bi(h)),new kS(d,o.transformResults||[])})(i,e)))):[]}function rb(s,e){return{documents:[a0(s,e.path)]}}function lb(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=a0(s,o);const h=(function(v){if(v.length!==0)return l0(Kn.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((A=>(function(M){return{field:Ar(M.field),direction:cb(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=dd(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function ob(s){let e=nb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const M=r0(S);return M instanceof Kn&&zv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new oo(Sr(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,Sc(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,G=S.values||[];return new dc(G,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const M=!S.before,G=S.values||[];return new dc(G,M)})(i.endAt)),CS(e,o,d,h,y,"F",_,v)}function ub(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function r0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Sr(i.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sr(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Sr(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Sr(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(Sr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((r=>r0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function cb(s){return JS[s]}function hb(s){return $S[s]}function fb(s){return WS[s]}function Ar(s){return{fieldPath:s.canonicalString()}}function Sr(s){return Xe.fromServerFormat(s.fieldPath)}function l0(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(c_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NAN"}};if(u_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(c_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NOT_NAN"}};if(u_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(i.field),op:hb(i.op),value:i.value}}})(s):s instanceof Kn?(function(i){const r=i.getFilters().map((o=>l0(o)));return r.length===1?r[0]:{compositeFilter:{op:fb(i.op),filters:r}}})(s):yt(54877,{filter:s})}function db(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function o0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,i,r,o,h=Tt.min(),d=Tt.min(),y=Ke.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.yt=e}}function gb(s){const e=ob({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.Cn=new yb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ua.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class yb{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Me(te.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Me(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(u0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Or(0)}static cr(){return new Or(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",_b=1048576;function w_([s,e],[i,r]){const o=Mt(s,i);return o===0?Mt(e,r):o}class vb{constructor(e){this.Ir=e,this.buffer=new Me(w_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();w_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Eb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Br(i)?lt(R_,"Ignoring IndexedDB error during garbage collection: ",i):await jr(i)}await this.Vr(3e5)}))}}class Tb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ac.ce);const r=new vb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(b_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,y,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,y=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),Er()<=Bt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function Ab(s,e){return new Tb(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.changes=new Rs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&eo(r.mutation,o,Xn.empty(),ie.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ot()){const o=Ts();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Kl();return h.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ts();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ot())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Ki();const d=to(),y=(function(){return to()})();return i.forEach(((_,v)=>{const A=r.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ws)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),eo(A.mutation,v,A.mutation.getFieldMask(),ie.now())):d.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,h).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>y.set(v,new bb(A,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=to();let o=new le(((d,y)=>d-y)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=r.get(_)||Xn.empty();A=y.applyToLocalView(v,A),r.set(_,A);const S=(o.get(y.batchId)||Ot()).add(_);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,A=_.value,S=Fv();A.forEach((M=>{if(!h.has(M)){const G=Jv(i.get(M),r.get(M));G!==null&&S.set(M,G),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(Ts());let y=ao,_=h;return d.next((v=>Z.forEach(v,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,_,v,Ot()))).next((A=>({batchId:y,changes:Gv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((r=>{let o=Kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(_=>{const v=(function(S,M){return new kr(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,We.newInvalidDocument(A)))}));let y=Kl();return d.forEach(((_,v)=>{const A=h.get(_);A!==void 0&&eo(A.mutation,v,Xn.empty(),ie.now()),wc(i,v)&&(y=y.insert(_,v))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:gb(o.bundledQuery),readTime:bi(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.overlays=new le(dt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ts();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=Ts(),h=i.length+1,d=new dt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new le(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=h.get(v.largestBatchId);A===null&&(A=Ts(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const y=Ts(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>y.set(v,A))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new FS(i,r));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Le(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new dt(new te([])),r=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new dt(new te([])),r=new Le(i,e),o=new Le(i,e+1);let h=Ot();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return dt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GS(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Le(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Dd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Me(Mt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;dt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new dt(h),0);let y=new Me(Mt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(y=y.add(_.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Le(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.ri=e,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():We.newInvalidDocument(i))}getEntries(e,i){let r=Ki();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():We.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Ki();const d=i.path,y=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||sS(aS(A),r)<=0||(o.has(A.key)||wc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){yt(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Nb(this)}getSize(e){return Z.resolve(this.size)}}class Nb extends Sb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.persistence=e,this.si=new Rs((i=>Nd(i)),xd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new jd,this.targetCount=0,this.ai=Or.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Or(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ac(0),this.li=!1,this.li=!0,this.hi=new Db,this.referenceDelegate=e(this),this.Pi=new xb(this),this.indexManager=new pb,this.remoteDocumentCache=(function(o){return new Vb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mb(i),this.Ii=new wb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Cb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Ib(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){lt("MemoryPersistence","Starting transaction:",e);const o=new Mb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Mb extends lS{constructor(e){super(),this.currentSequenceNumber=e}}class Bd{constructor(e){this.persistence=e,this.Ri=new jd,this.Vi=null}static mi(e){return new Bd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=dt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.pi=new Rs((r=>cS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Ab(this,i)}static mi(e,i){return new yc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new kd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D1()?8:oS(w1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Ob;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Er()<=Bt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Tr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Er()<=Bt.DEBUG&&lt("QueryEngine","Query:",Tr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Er()<=Bt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Tr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):Z.resolve())}ys(e,i){if(m_(i))return Z.resolve(null);let r=Ai(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fd(i,null,"F"),r=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,y);return this.Cs(i,v,d,_.readTime)?this.ys(e,fd(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return m_(i)||o.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(Er()<=Bt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tr(i)),this.vs(e,d,i,iS(o,ao)).next((y=>y)))}))}Ds(e,i){let r=new Me(Pv(e));return i.forEach(((o,h)=>{wc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return Er()<=Bt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Tr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ua.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="LocalStore",Ub=3e8;class Lb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(Mt),this.xs=new Rs((h=>Nd(h)),xd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function jb(s,e,i,r){return new Lb(s,e,i,r)}async function h0(s,e){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let _=Ot();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){y.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function Bb(s,e){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,v,A){const S=v.batch,M=S.keys();let G=Z.resolve();return M.forEach((W=>{G=G.next((()=>A.getEntry(_,W))).next((tt=>{const $=v.docVersions.get(W);Gt($!==null,48541),tt.version.compareTo($)<0&&(S.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(_,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let _=Ot();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function f0(s){const e=St(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function kb(s,e){const i=St(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let G=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),o=o.insert(S,G),(function(tt,$,mt){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Ub?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,G,A)&&y.push(i.Pi.updateTargetData(h,G))}));let _=Ki(),v=Ot();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(qb(h,d,e.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!r.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=o,h)))}function qb(s,e,i){let r=Ot(),o=Ot();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Ki();return i.forEach(((y,_)=>{const v=h.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):lt(qd,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Pb(s,e){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Dd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hb(s,e){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Va(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function yd(s,e,i){const r=St(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Br(d))throw d;lt(qd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function C_(s,e,i){const r=St(s);let o=Tt.min(),h=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const S=St(_),M=S.xs.get(A);return M!==void 0?Z.resolve(S.Ms.get(M)):S.Pi.getTargetData(v,A)})(r,d,Ai(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Ot()))).next((y=>(Gb(r,IS(e),y),{documents:y,Qs:h})))))}function Gb(s,e,i){let r=s.Os.get(e)||Tt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class D_{constructor(){this.activeTargetIds=zS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fb{constructor(){this.Mo=new D_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class V_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(I_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function _d(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="RestConnection",Yb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=_d(),y=this.zo(e,i.toUriEncodedString());lt(Qf,`Sending RPC '${e}' ${d}:`,y,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(y),A=bd(v);return this.Jo(e,y,_,r,A).then((S=>(lt(Qf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ir(Qf,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=Yb[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class Zb extends Xb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=_d();return new Promise(((y,_)=>{const v=new mv;v.setWithCredentials(!0),v.listenOnce(gv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case tc.NO_ERROR:const S=v.getResponseJson();lt(Je,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case tc.TIMEOUT:lt(Je,`RPC '${e}' ${d} timed out`),_(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const M=v.getStatus();if(lt(Je,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G==null?void 0:G.error;if(W&&W.status&&W.message){const tt=(function(mt){const ct=mt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ct)>=0?ct:K.UNKNOWN})(W.status);_(new rt(tt,W.message))}else _(new rt(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new rt(K.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{lt(Je,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);lt(Je,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=_d(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_v(),y=yv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=h.join("");lt(Je,`Creating RPC '${e}' stream ${o}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let M=!1,G=!1;const W=new Kb({Yo:$=>{G?lt(Je,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(M||(lt(Je,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),lt(Je,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Zo:()=>S.close()}),tt=($,mt,ct)=>{$.listen(mt,(nt=>{try{ct(nt)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return tt(S,Xl.EventType.OPEN,(()=>{G||(lt(Je,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),tt(S,Xl.EventType.CLOSE,(()=>{G||(G=!0,lt(Je,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),tt(S,Xl.EventType.ERROR,($=>{G||(G=!0,Ir(Je,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),tt(S,Xl.EventType.MESSAGE,($=>{var mt;if(!G){const ct=$.data[0];Gt(!!ct,16349);const nt=ct,pt=(nt==null?void 0:nt.error)||((mt=nt[0])==null?void 0:mt.error);if(pt){lt(Je,`RPC '${e}' stream ${o} received error:`,pt);const Dt=pt.status;let vt=(function(C){const O=Re[C];if(O!==void 0)return Wv(O)})(Dt),I=pt.message;vt===void 0&&(vt=K.INTERNAL,I="Unknown error status: "+Dt+" with message "+pt.message),G=!0,W.a_(new rt(vt,I)),S.close()}else lt(Je,`RPC '${e}' stream ${o} received:`,ct),W.u_(ct)}})),tt(y,pv.STAT_EVENT,($=>{$.stat===sd.PROXY?lt(Je,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===sd.NOPROXY&&lt(Je,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(s){return new tb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class m0{constructor(e,i,r,o,h,d,y,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Xi(i.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new rt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jb extends m0{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ib(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?bi(d.readTime):Tt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=pd(this.serializer),i.addTarget=(function(h,d){let y;const _=d.target;if(y=cd(_)?{documents:rb(h,_)}:{query:lb(h,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=n0(h,d.resumeToken);const v=dd(h,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){y.readTime=pc(h,d.snapshotVersion.toTimestamp());const v=dd(h,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const r=ub(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=pd(this.serializer),i.removeTarget=e,this.q_(i)}}class $b extends m0{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=sb(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>ab(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{}class t2 extends Wb{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,md(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,md(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class e2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class n2{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Cs(this)&&(lt(Ss,"Restarting streams for network reachability change."),await(async function(_){const v=St(_);v.Ea.add(4),await go(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Nc(v)})(this))}))})),this.Ra=new e2(r,o)}}async function Nc(s){if(Cs(s))for(const e of s.da)await e(!0)}async function go(s){for(const e of s.da)await e(!1)}function g0(s,e){const i=St(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Fd(i)?Gd(i):qr(i).O_()&&Hd(i,e))}function Pd(s,e){const i=St(s),r=qr(i);i.Ia.delete(e),r.O_()&&p0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Cs(i)&&i.Ra.set("Unknown"))}function Hd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qr(s).Y_(e)}function p0(s,e){s.Va.Ue(e),qr(s).Z_(e)}function Gd(s){s.Va=new ZS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),qr(s).start(),s.Ra.ua()}function Fd(s){return Cs(s)&&!qr(s).x_()&&s.Ia.size>0}function Cs(s){return St(s).Ea.size===0}function y0(s){s.Va=void 0}async function i2(s){s.Ra.set("Online")}async function a2(s){s.Ia.forEach(((e,i)=>{Hd(s,e)}))}async function s2(s,e){y0(s),Fd(s)?(s.Ra.ha(e),Gd(s)):s.Ra.set("Unknown")}async function r2(s,e,i){if(s.Ra.set("Online"),e instanceof e0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){lt(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _c(s,r)}else if(e instanceof ac?s.Va.Ze(e):e instanceof t0?s.Va.st(e):s.Va.tt(e),!i.isEqual(Tt.min()))try{const r=await f0(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),p0(h,_);const S=new Va(A.target,_,v,A.sequenceNumber);Hd(h,S)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){lt(Ss,"Failed to raise snapshot:",r),await _c(s,r)}}async function _c(s,e,i){if(!Br(e))throw e;s.Ea.add(1),await go(s),s.Ra.set("Offline"),i||(i=()=>f0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt(Ss,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nc(s)}))}function _0(s,e){return e().catch((i=>_c(s,i,e)))}async function xc(s){const e=St(s),i=ka(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dd;for(;l2(e);)try{const o=await Pb(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,o2(e,o)}catch(o){await _c(e,o)}v0(e)&&E0(e)}function l2(s){return Cs(s)&&s.Ta.length<10}function o2(s,e){s.Ta.push(e);const i=ka(s);i.O_()&&i.X_&&i.ea(e.mutations)}function v0(s){return Cs(s)&&!ka(s).x_()&&s.Ta.length>0}function E0(s){ka(s).start()}async function u2(s){ka(s).ra()}async function c2(s){const e=ka(s);for(const i of s.Ta)e.ea(i.mutations)}async function h2(s,e,i){const r=s.Ta.shift(),o=zd.from(r,e,i);await _0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await xc(s)}async function f2(s,e){e&&ka(s).X_&&await(async function(r,o){if((function(d){return YS(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();ka(r).B_(),await _0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await xc(r)}})(s,e),v0(s)&&E0(s)}async function x_(s,e){const i=St(s);i.asyncQueue.verifyOperationInProgress(),lt(Ss,"RemoteStore received new credentials");const r=Cs(i);i.Ea.add(3),await go(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nc(i)}async function d2(s,e){const i=St(s);e?(i.Ea.delete(2),await Nc(i)):e||(i.Ea.add(2),await go(i),i.Ra.set("Unknown"))}function qr(s){return s.ma||(s.ma=(function(i,r,o){const h=St(i);return h.sa(),new Jb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:i2.bind(null,s),t_:a2.bind(null,s),r_:s2.bind(null,s),H_:r2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Fd(s)?Gd(s):s.Ra.set("Unknown")):(await s.ma.stop(),y0(s))}))),s.ma}function ka(s){return s.fa||(s.fa=(function(i,r,o){const h=St(i);return h.sa(),new $b(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:u2.bind(null,s),r_:f2.bind(null,s),ta:c2.bind(null,s),na:h2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await xc(s)):(await s.fa.stop(),s.Ta.length>0&&(lt(Ss,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new Qd(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(s,e){if(Xi("AsyncQueue",`${e}: ${s}`),Br(s))return new rt(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{static emptySet(e){return new Rr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Kl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Rr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ga=new le(dt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class zr{constructor(e,i,r,o,h,d,y,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new zr(e,i,Rr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g2{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=St(i),h=o.queries;o.queries=O_(),h.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(r)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function O_(){return new Rs((s=>qv(s)),Rc)}async function p2(s,e){const i=St(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new m2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Yd(d,`Initialization of query '${Tr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Xd(i)}async function y2(s,e){const i=St(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _2(s,e){const i=St(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Xd(i)}function v2(s,e,i){const r=St(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Xd(s){s.Ca.forEach((e=>{e.next()}))}var vd,z_;(z_=vd||(vd={})).Ma="default",z_.Cache="cache";class E2{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new zr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class A0{constructor(e){this.key=e}}class T2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=Pv(e),this.tu=new Rr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new M_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const M=o.get(A),G=wc(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),tt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;M&&G?M.data.isEqual(G.data)?W!==tt&&(r.track({type:3,doc:G}),$=!0):this.su(M,G)||(r.track({type:2,doc:G}),$=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(y=!0)):!M&&G?(r.track({type:0,doc:G}),$=!0):M&&!G&&(r.track({type:1,doc:M}),$=!0,(_||v)&&(y=!0)),$&&(G?(d=d.add(G),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(G,W){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return tt(G)-tt(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new zr(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new A0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new T0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return zr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kd="SyncEngine";class A2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class S2{constructor(e){this.key=e,this.hu=!1}}class b2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Rs((y=>qv(y)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new le(dt.comparator),this.Au=new Map,this.Ru=new jd,this.Vu={},this.mu=new Map,this.fu=Or.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(s,e,i=!0){const r=D0(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await S0(r,e,i,!0),o}async function w2(s,e){const i=D0(s);await S0(i,e,!0,!1)}async function S0(s,e,i,r){const o=await Hb(s.localStore,Ai(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await C2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&g0(s.remoteStore,o),y}async function C2(s,e,i,r,o){s.pu=(S,M,G)=>(async function(tt,$,mt,ct){let nt=$.view.ru(mt);nt.Cs&&(nt=await C_(tt.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,nt))));const pt=ct&&ct.targetChanges.get($.targetId),Dt=ct&&ct.targetMismatches.get($.targetId)!=null,vt=$.view.applyChanges(nt,tt.isPrimaryClient,pt,Dt);return L_(tt,$.targetId,vt.au),vt.snapshot})(s,S,M,G);const h=await C_(s.localStore,e,!0),d=new T2(e,h.Qs),y=d.ru(h.documents),_=mo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(y,s.isPrimaryClient,_);L_(s,i,v.au);const A=new A2(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function D2(s,e,i){const r=St(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Rc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await yd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Pd(r.remoteStore,o.targetId),Ed(r,o.targetId)})).catch(jr)):(Ed(r,o.targetId),await yd(r.localStore,o.targetId,!0))}async function I2(s,e){const i=St(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Pd(i.remoteStore,r.targetId))}async function V2(s,e,i){const r=L2(s);try{const o=await(function(d,y){const _=St(d),v=ie.now(),A=y.reduce(((G,W)=>G.add(W.key)),Ot());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=Ki(),tt=Ot();return _.Ns.getEntries(G,A).next(($=>{W=$,W.forEach(((mt,ct)=>{ct.isValidDocument()||(tt=tt.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,W))).next(($=>{S=$;const mt=[];for(const ct of y){const nt=PS(ct,S.get(ct.key).overlayedDocument);nt!=null&&mt.push(new ws(ct.key,nt,xv(nt.value.mapValue),Si.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,mt,y)})).next(($=>{M=$;const mt=$.applyToLocalDocumentSet(S,tt);return _.documentOverlayCache.saveOverlays(G,$.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:Gv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new le(Mt)),v=v.insert(y,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await po(r,o.changes),await xc(r.remoteStore)}catch(o){const h=Yd(o,"Failed to persist write");i.reject(h)}}async function b0(s,e){const i=St(s);try{const r=await kb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await po(i,r,e)}catch(r){await jr(r)}}function U_(s,e,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=St(d);_.onlineState=y;let v=!1;_.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(y)&&(v=!0)})),v&&Xd(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N2(s,e,i){const r=St(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new le(dt.comparator);d=d.insert(h,We.newNoDocument(h,Tt.min()));const y=Ot().add(h),_=new Ic(Tt.min(),new Map,new le(Mt),d,y);await b0(r,_),r.du=r.du.remove(h),r.Au.delete(e),Zd(r)}else await yd(r.localStore,e,!1).then((()=>Ed(r,e,i))).catch(jr)}async function x2(s,e){const i=St(s),r=e.batch.batchId;try{const o=await Bb(i.localStore,e);w0(i,r,null),R0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await po(i,o)}catch(o){await jr(o)}}async function M2(s,e,i){const r=St(s);try{const o=await(function(d,y){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,y).next((S=>(Gt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(v,S)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(r.localStore,e);w0(r,e,i),R0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await po(r,o)}catch(o){await jr(o)}}function R0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function w0(s,e,i){const r=St(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ed(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||C0(s,r)}))}function C0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Pd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Zd(s))}function L_(s,e,i){for(const r of i)r instanceof T0?(s.Ru.addReference(r.key,e),O2(s,r)):r instanceof A0?(lt(Kd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||C0(s,r.key)):yt(19791,{wu:r})}function O2(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(lt(Kd,"New document in limbo: "+i),s.Eu.add(r),Zd(s))}function Zd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new dt(te.fromString(e)),r=s.fu.next();s.Au.set(r,new S2(i)),s.du=s.du.insert(i,r),g0(s.remoteStore,new Va(Ai(Bv(i.path)),r,"TargetPurposeLimboResolution",Ac.ce))}}async function po(s,e,i){const r=St(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,_)=>{d.push(r.pu(_,e,i).then((v=>{var A;if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=kd.As(_.targetId,v);h.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(v,(M=>Z.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(S,M.targetId,G))).next((()=>Z.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(S,M.targetId,G)))))))))}catch(S){if(!Br(S))throw S;lt(qd,"Failed to update sequence numbers: "+S)}for(const S of v){const M=S.targetId;if(!S.fromCache){const G=A.Ms.get(M),W=G.snapshotVersion,tt=G.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,tt)}}})(r.localStore,h))}async function z2(s,e){const i=St(s);if(!i.currentUser.isEqual(e)){lt(Kd,"User change. New user:",e.toKey());const r=await h0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((_=>{_.reject(new rt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await po(i,r.Ls)}}function U2(s,e){const i=St(s),r=i.Au.get(e);if(r&&r.hu)return Ot().add(r.key);{let o=Ot();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function D0(s){const e=St(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N2.bind(null,e),e.Pu.H_=_2.bind(null,e.eventManager),e.Pu.yu=v2.bind(null,e.eventManager),e}function L2(s){const e=St(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return jb(this.persistence,new zb,e.initialUser,this.serializer)}Cu(e){return new c0(Bd.mi,this.serializer)}Du(e){return new Fb}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class j2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Gt(this.persistence.referenceDelegate instanceof yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Eb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new c0((r=>yc.mi(r,i)),this.serializer)}}class Td{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),r=(function(h){return new Zb(h)})(e.databaseInfo);return(function(h,d,y,_){return new t2(h,d,y,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new n2(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>U_(this.syncEngine,i,0)),(function(){return V_.v()?new V_:new Qb})())}createSyncEngine(e,i){return(function(o,h,d,y,_,v,A){const S=new b2(o,h,d,y,_,v);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=St(o);lt(Ss,"RemoteStore shutting down."),h.Ea.add(5),await go(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Td.provider={build:()=>new Td};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="FirestoreClient";class k2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{lt(qa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(lt(qa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Yd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xf(s,e){s.asyncQueue.verifyOperationInProgress(),lt(qa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await h0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function j_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await q2(s);lt(qa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>x_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>x_(e.remoteStore,o))),s._onlineComponents=e}async function q2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(qa,"Using user provided OfflineComponentProvider");try{await Xf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ir("Error using user provided cache. Falling back to memory cache: "+i),await Xf(s,new vc)}}else lt(qa,"Using default OfflineComponentProvider"),await Xf(s,new j2(void 0));return s._offlineComponents}async function I0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(qa,"Using user provided OnlineComponentProvider"),await j_(s,s._uninitializedComponentsProvider._online)):(lt(qa,"Using default OnlineComponentProvider"),await j_(s,new Td))),s._onlineComponents}function P2(s){return I0(s).then((e=>e.syncEngine))}async function H2(s){const e=await I0(s),i=e.eventManager;return i.onListen=R2.bind(null,e.syncEngine),i.onUnlisten=D2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=w2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=I2.bind(null,e.syncEngine),i}function G2(s,e,i={}){const r=new Oa;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,_,v){const A=new B2({next:M=>{A.Nu(),d.enqueueAndForget((()=>y2(h,S))),M.fromCache&&_.source==="server"?v.reject(new rt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),S=new E2(y,A,{includeMetadataChanges:!0,qa:!0});return p2(h,S)})(await H2(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firestore.googleapis.com",k_=!0;class q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N0,this.ssl=k_}else this.host=e.host,this.ssl=e.ssl??k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_b)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QA;switch(r.type){case"firstParty":return new ZA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=B_.get(i);r&&(lt("ComponentProvider","Removing Datastore"),B_.delete(i),r.terminate())})(this),Promise.resolve()}}function F2(s,e,i,r={}){var v;s=Nr(s,Mc);const o=bd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(T1(`https://${y}`),R1("Firestore",!0)),h.host!==N0&&h.host!==y&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:y,ssl:o,emulatorOptions:r};if(!lc(_,d)&&(s._setSettings(_),r.mockUserToken)){let A,S;if(typeof r.mockUserToken=="string")A=r.mockUserToken,S=$e.MOCK_USER;else{A=A1(r.mockUserToken,(v=s._app)==null?void 0:v.options.projectId);const M=r.mockUserToken.sub||r.mockUserToken.user_id;if(!M)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(M)}s._authCredentials=new YA(new Ev(A,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class xe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xe(this.firestore,e,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ho(i,xe._jsonSchema))return new xe(e,r||null,new dt(te.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:De("string",xe._jsonSchemaVersion),referencePath:De("string")};class za extends Ds{constructor(e,i,r){super(e,i,Bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xe(this.firestore,null,new dt(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function Kf(s,e,...i){if(s=Dr(s),Tv("collection","path",e),s instanceof Mc){const r=te.fromString(e,...i);return t_(r),new za(s,null,r)}{if(!(s instanceof xe||s instanceof za))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(e,...i));return t_(r),new za(s.firestore,null,r)}}function vs(s,e,...i){if(s=Dr(s),arguments.length===1&&(e=Cd.newId()),Tv("doc","path",e),s instanceof Mc){const r=te.fromString(e,...i);return Wy(r),new xe(s,null,new dt(r))}{if(!(s instanceof xe||s instanceof za))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(e,...i));return Wy(r),new xe(s.firestore,s instanceof za?s.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d0(this,"async_queue_retry"),this._c=()=>{const r=Yf();r&&lt(P_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Oa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Br(e))throw e;lt(P_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",G_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Qd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:G_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function G_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Oc extends Mc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new H_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function Q2(s,e){const i=typeof s=="object"?s:zA(),r=typeof s=="string"?s:hc,o=VA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=v1("firestore");h&&F2(o,...h)}return o}function x0(s){if(s._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Y2(s),s._firestoreClient}function Y2(s){var r,o,h;const e=s._freezeSettings(),i=(function(y,_,v,A){return new dS(y,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,V0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new k2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ke.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ho(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:De("string",zn._jsonSchemaVersion),bytes:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(ho(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:De("string",Ri._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ho(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:De("string",wi._jsonSchemaVersion),vectorValues:De("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=/^__.*__$/;class K2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,i,this.fieldTransforms):new fo(e,this.data,i,this.fieldTransforms)}}function O0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class $d{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $d({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O0(this.Ac)&&X2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vc(e)}Cc(e,i,r,o=!1){return new $d({Ac:e,methodName:i,Dc:r,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z0(s){const e=s._freezeSettings(),i=Vc(s._databaseId);return new Z2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function J2(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);j0("Data must be an object, but it was:",d,r);const y=U0(r,d);let _,v;if(h.merge)_=new Xn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const M=W2(e,S,i);if(!d.contains(M))throw new rt(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);eR(A,M)||A.push(M)}_=new Xn(A),v=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,v=d.fieldTransforms;return new K2(new On(y),_,v)}function $2(s,e,i,r=!1){return Wd(i,s.Cc(r?4:3,e))}function Wd(s,e){if(L0(s=Dr(s)))return j0("Unsupported field value:",e,s),U0(s,e);if(s instanceof M0)return(function(r,o){if(!O0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let _=Wd(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=Dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return US(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ie.fromDate(r);return{timestampValue:pc(o.serializer,h)}}if(r instanceof ie){const h=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(o.serializer,h)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:n0(o.serializer,r._byteString)};if(r instanceof xe){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ld(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof wi)return(function(d,y){return{mapValue:{fields:{[Vv]:{stringValue:Nv},[fc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return Md(y.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Tc(r)}`)})(s,e)}function U0(s,e){const i={};return bv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(s,((r,o)=>{const h=Wd(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function L0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ri||s instanceof zn||s instanceof xe||s instanceof M0||s instanceof wi)}function j0(s,e,i){if(!L0(i)||!Av(i)){const r=Tc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function W2(s,e,i){if((e=Dr(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return B0(s,e);throw Ec("Field path arguments must be of type string or ",s,!1,void 0,i)}const tR=new RegExp("[~\\*/\\[\\]]");function B0(s,e,i){if(e.search(tR)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Jd(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ec(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new rt(K.INVALID_ARGUMENT,y+s+_)}function eR(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(tm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nR extends k0{data(){return super.data()}}function tm(s,e){return typeof e=="string"?B0(s,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class q0 extends em{}function F_(s,e,...i){let r=[];e instanceof em&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((_=>_ instanceof im)).length,y=h.filter((_=>_ instanceof nm)).length;if(d>1||d>0&&y>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class nm extends q0{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new nm(e,i,r)}_apply(e){const i=this._parse(e);return P0(e._query,i),new Ds(e.firestore,e.converter,hd(e._query,i))}_parse(e){const i=z0(e.firestore);return(function(h,d,y,_,v,A,S){let M;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){X_(S,A);const W=[];for(const tt of S)W.push(Y_(_,h,tt));M={arrayValue:{values:W}}}else M=Y_(_,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||X_(S,A),M=$2(y,d,S,A==="in"||A==="not-in");return Ce.create(v,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class im extends em{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new im(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const _ of y)P0(d,_),d=hd(d,_)})(e._query,i),new Ds(e.firestore,e.converter,hd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class am extends q0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new am(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oo(h,d)})(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new kr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Q_(s,e="asc"){const i=e,r=tm("orderBy",s);return am._create(r,i)}function Y_(s,e,i){if(typeof(i=Dr(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kv(e)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(te.fromString(i));if(!dt.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return o_(s,new dt(r))}if(i instanceof xe)return o_(s,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tc(i)}.`)}function X_(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P0(s,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class aR{convertValue(e,i="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return bs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[fc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>ge(d.doubleValue)));return new wi(i)}convertGeoPoint(e){return new Ri(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=bc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const i=La(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=te.fromString(e);Gt(o0(r),9688,{name:e});const o=new ro(r.get(1),r.get(3)),h=new dt(r.popFirst(5));return o.isEqual(i)||Xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Ju{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wr extends k0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",wr._jsonSchema={type:De("string",wr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class sc extends wr{data(e={}){return super.data(e)}}class Cr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ju(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new sc(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new sc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ju(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const _=new sc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ju(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:rR(y.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Cr._jsonSchemaVersion="firestore/querySnapshot/1.0",Cr._jsonSchema={type:De("string",Cr._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class lR extends aR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function Zf(s){s=Nr(s,Ds);const e=Nr(s.firestore,Oc),i=x0(e),r=new lR(e);return iR(s._query),G2(i,s._query).then((o=>new Cr(e,r,s,o)))}function $u(s,e,i){s=Nr(s,xe);const r=Nr(s.firestore,Oc),o=sR(s.converter,e);return H0(r,[J2(z0(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Si.none())])}function K_(s){return H0(Nr(s.firestore,Oc),[new Od(s._key,Si.none())])}function H0(s,e){return(function(r,o){const h=new Oa;return r.asyncQueue.enqueueAndForget((async()=>V2(await P2(r),o,h))),h.promise})(x0(s),e)}(function(e,i=!0){(function(o){Lr=o})(OA),uc(new no("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new Oc(new XA(r.getProvider("auth-internal")),new JA(d,r.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(v.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),br(Ky,Zy,e),br(Ky,Zy,"esm2020")})();var oR="firebase",uR="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(oR,uR,"app");const cR={apiKey:"AIzaSyB8XHkT_DedThCHBUSd85AwjJLXqDFP2g",authDomain:"smartrealapp.firebaseapp.com",projectId:"smartrealapp",storageBucket:"smartrealapp.firebasestorage.app",messagingSenderId:"651193312612",appId:"1:651193312612:web:d931922ccaafa442a94671"},hR=cv(cR),vi=Q2(hR),Jf="documents",$f="templates",Wu="settings",Ei="default_user",Fe={getDocuments:async()=>{try{const s=Kf(vi,`users/${Ei}/${Jf}`),e=F_(s,Q_("updatedAt","desc"));return(await Zf(e)).docs.map(r=>({...r.data(),id:r.id}))}catch(s){return console.error("Failed to load documents from Firestore",s),[]}},saveDocument:async s=>{try{const e=vs(vi,`users/${Ei}/${Jf}`,s.id);await $u(e,{...s,updatedAt:Date.now()})}catch(e){throw console.error("Failed to save document to Firestore",e),e}},deleteDocument:async s=>{try{const e=vs(vi,`users/${Ei}/${Jf}`,s);await K_(e)}catch(e){throw console.error("Failed to delete document from Firestore",e),e}},getTemplates:async()=>{try{const s=Kf(vi,`users/${Ei}/${$f}`),e=F_(s,Q_("updatedAt","desc"));return(await Zf(e)).docs.map(r=>({...r.data(),id:r.id}))}catch(s){return console.error("Failed to load templates from Firestore",s),[]}},saveTemplate:async s=>{try{const e=vs(vi,`users/${Ei}/${$f}`,s.id);await $u(e,{...s,updatedAt:Date.now()})}catch(e){throw console.error("Failed to save template to Firestore",e),e}},deleteTemplate:async s=>{try{const e=vs(vi,`users/${Ei}/${$f}`,s);await K_(e)}catch(e){throw console.error("Failed to delete template from Firestore",e),e}},exportData:async()=>{const s=await Fe.getDocuments(),e=await Fe.getTemplates();return{version:"1.0",exportDate:new Date().toISOString(),documents:s,templates:e}},importData:async s=>{try{if(!s.version||!Array.isArray(s.documents)||!Array.isArray(s.templates))throw new Error("Invalid backup file format");for(const e of s.documents)await Fe.saveDocument(e);for(const e of s.templates)await Fe.saveTemplate(e);return{success:!0,message:" ."}}catch(e){return console.error("Failed to import data to Firestore",e),{success:!1,message:` : ${e instanceof Error?e.message:"   "}`}}},getFavoriteDocId:async()=>{try{const s=vs(vi,`users/${Ei}/${Wu}`,"favorite"),i=(await Zf(Kf(vi,`users/${Ei}/${Wu}`))).docs.find(r=>r.id==="favorite");return i&&i.data().favoriteDocId||null}catch(s){return console.error("Failed to get favorite doc id from Firestore",s),null}},setFavoriteDocId:async s=>{try{const e=vs(vi,`users/${Ei}/${Wu}`,"favorite");await $u(e,{favoriteDocId:s})}catch(e){throw console.error("Failed to set favorite doc id in Firestore",e),e}},clearFavoriteDocId:async()=>{try{const s=vs(vi,`users/${Ei}/${Wu}`,"favorite");await $u(s,{favoriteDocId:null})}catch(s){throw console.error("Failed to clear favorite doc id in Firestore",s),s}}},Z_="tm_documents",J_="tm_templates",Wf="tm_favorite_doc_id",we={getDocuments:()=>{try{const s=localStorage.getItem(Z_);return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load documents",s),[]}},saveDocuments:s=>{localStorage.setItem(Z_,JSON.stringify(s))},getTemplates:()=>{try{const s=localStorage.getItem(J_);return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load templates",s),[]}},saveTemplates:s=>{localStorage.setItem(J_,JSON.stringify(s))},exportData:()=>{const s=we.getDocuments(),e=we.getTemplates();return{version:"1.0",exportDate:new Date().toISOString(),documents:s,templates:e}},importData:s=>{try{if(!s.version||!Array.isArray(s.documents)||!Array.isArray(s.templates))throw new Error("Invalid backup file format");return we.saveDocuments(s.documents),we.saveTemplates(s.templates),{success:!0,message:" ."}}catch(e){return console.error("Failed to import data",e),{success:!1,message:` : ${e instanceof Error?e.message:"   "}`}}},getFavoriteDocId:()=>{try{return localStorage.getItem(Wf)}catch(s){return console.error("Failed to load favorite doc id",s),null}},setFavoriteDocId:s=>{localStorage.setItem(Wf,s)},clearFavoriteDocId:()=>{localStorage.removeItem(Wf)}},Ge={getDocuments:async()=>{try{return await Fe.getDocuments()}catch(s){return console.error("Firestore error, falling back to localStorage",s),we.getDocuments()}return we.getDocuments()},saveDocuments:async s=>{try{for(const e of s)await Fe.saveDocument(e);we.saveDocuments(s)}catch(e){console.error("Failed to save to Firestore",e),we.saveDocuments(s)}},getTemplates:async()=>{try{return await Fe.getTemplates()}catch(s){return console.error("Firestore error, falling back to localStorage",s),we.getTemplates()}return we.getTemplates()},saveTemplates:async s=>{try{for(const e of s)await Fe.saveTemplate(e);we.saveTemplates(s)}catch(e){console.error("Failed to save to Firestore",e),we.saveTemplates(s)}},exportData:async()=>await Fe.exportData(),importData:async s=>await Fe.importData(s),deleteDocument:async s=>{try{await Fe.deleteDocument(s)}catch(e){console.error("Failed to delete document from Firestore",e)}},deleteTemplate:async s=>{try{await Fe.deleteTemplate(s)}catch(e){console.error("Failed to delete template from Firestore",e)}},getFavoriteDocId:async()=>{try{return await Fe.getFavoriteDocId()}catch(s){return console.error("Firestore error, falling back to localStorage",s),we.getFavoriteDocId()}return we.getFavoriteDocId()},setFavoriteDocId:async s=>{try{await Fe.setFavoriteDocId(s),we.setFavoriteDocId(s)}catch(e){console.error("Failed to save favorite doc to Firestore",e),we.setFavoriteDocId(s)}},clearFavoriteDocId:async()=>{try{await Fe.clearFavoriteDocId(),we.clearFavoriteDocId()}catch(s){console.error("Failed to clear favorite doc from Firestore",s),we.clearFavoriteDocId()}}},$_="tm_migration_completed",fR={migrateToFirestore:async()=>{if(localStorage.getItem($_)==="true")return console.log("Migration already completed"),!0;try{console.log("Starting migration from localStorage to Firestore...");const e=we.getDocuments(),i=we.getTemplates();console.log(`Found ${e.length} documents and ${i.length} templates`);for(const r of e)await Fe.saveDocument(r),console.log(`Migrated document: ${r.title}`);for(const r of i)await Fe.saveTemplate(r),console.log(`Migrated template: ${r.title}`);return localStorage.setItem($_,"true"),console.log("Migration completed successfully!"),!0}catch(e){return console.error("Migration failed:",e),!1}}},Ia=768,dR=()=>{var oe;const[s,e]=Ut.useState(window.innerWidth);Ut.useEffect(()=>{const z=()=>{e(window.innerWidth)};return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const i=()=>({id:vr(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!1}),[r,o]=Ut.useState([]),[h,d]=Ut.useState([]),[y,_]=Ut.useState(s>=Ia),[v,A]=Ut.useState("EDITOR"),[S,M]=Ut.useState(()=>i()),[G,W]=Ut.useState(null),[tt,$]=Ut.useState(null),[mt,ct]=Ut.useState(null);Ut.useEffect(()=>{(async()=>{await fR.migrateToFirestore();const J=await Ge.getDocuments(),at=await Ge.getTemplates(),ht=await Ge.getFavoriteDocId();if(o(J),d(at),ct(ht),ht&&J.length>0){const Et=J.find(V=>V.id===ht);Et&&M(Et)}})()},[]);const nt=()=>{M(i()),A("EDITOR"),s<Ia&&_(!1)},pt=z=>{const J={id:vr(),title:z.title,content:z.content,checklist:z.checklist.map(at=>({...at,id:vr(),isChecked:!1})),updatedAt:Date.now(),isTemplate:!1};M(J),A("TEMPLATE_PREVIEW"),$(z.id)},Dt=z=>{M(z),A("EDITOR"),$(null)},vt=()=>{const z={id:vr(),title:"",content:"",checklist:[],updatedAt:Date.now(),isTemplate:!0};M(z),A("EDITOR"),$(null)},I=async z=>{if(z.isTemplate){z.title.trim()||(z.title=" ");const J=h.find(ht=>ht.id===z.id);let at;J?at=h.map(ht=>ht.id===z.id?{...z,isTemplate:!0}:ht):at=[{...z,isTemplate:!0},...h],d(at),await Ge.saveTemplates(at),M(z)}else if(v==="TEMPLATE_PREVIEW"){const J={...z,id:vr(),isTemplate:!1,updatedAt:Date.now()};if(!J.title.trim()&&tt){const ht=h.find(Et=>Et.id===tt);J.title=ht?`${ht.title} ()`:" (Untitled)"}else J.title.trim()||(J.title=" (Untitled)");const at=[J,...r];o(at),await Ge.saveDocuments(at),M(J),A("EDITOR"),$(null)}else{const J=r.find(ht=>ht.id===z.id);let at;J?at=r.map(ht=>ht.id===z.id?{...z,updatedAt:Date.now()}:ht):(z.title.trim()||(z.title=" (Untitled)"),at=[z,...r]),o(at),await Ge.saveDocuments(at),M(z)}},b=async()=>{const z=await Ge.exportData(),J=JSON.stringify(z,null,2),at=new Blob([J],{type:"application/json"}),ht=URL.createObjectURL(at),Et=document.createElement("a");Et.href=ht;const V=new Date,Q=V.getFullYear(),it=V.getMonth()+1,st=V.getDate();Et.download=`${Q}${it}${st}.json`,document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),URL.revokeObjectURL(ht)},C=z=>{const J=new FileReader;J.onload=async at=>{var ht;try{const Et=(ht=at.target)==null?void 0:ht.result,V=JSON.parse(Et),Q=await Ge.importData(V);if(Q.success){const it=await Ge.getDocuments(),st=await Ge.getTemplates();o(it),d(st),alert(Q.message)}else alert(Q.message)}catch(Et){alert(`  : ${Et instanceof Error?Et.message:"   "}`)}},J.readAsText(z)},O=z=>{W({type:"DOC",id:z})},w=z=>{W({type:"TPL",id:z})},x=async()=>{if(G){if(G.type==="DOC"){const z=G.id,J=r.filter(at=>at.id!==z);o(J),await Ge.saveDocuments(J),await Ge.deleteDocument(z),mt===z&&(await Ge.clearFavoriteDocId(),ct(null)),(S==null?void 0:S.id)===z&&M(i())}else{const z=G.id,J=h.filter(at=>at.id!==z);d(J),await Ge.saveTemplates(J),await Ge.deleteTemplate(z),(S==null?void 0:S.id)===z&&M(null)}W(null)}},R=async z=>{await Ge.setFavoriteDocId(z),ct(z)},Xt=async()=>{await Ge.clearFavoriteDocId(),ct(null)};return H.jsxs("div",{className:"flex h-screen overflow-hidden bg-background font-sans text-gray-900",children:[H.jsx(s1,{isMobileOpen:y,isAlwaysOpen:s>=Ia,onClose:()=>_(!1),documents:r,templates:h,favoriteDocId:mt,onSelectDocument:z=>{M(z),A("EDITOR"),s<Ia&&_(!1)},onPreviewTemplate:pt,onCreateTemplate:vt,onCreateNew:()=>{nt(),s<Ia&&_(!1)},onDeleteDocument:O,onDeleteTemplate:w,onEditTemplate:Dt,onBackup:b,onRestore:C,onSetFavoriteDocument:R,onClearFavoriteDocument:Xt}),H.jsx("main",{className:"flex-1 h-full transition-all duration-300 ease-in-out",style:{marginLeft:s>=Ia&&y?"250px":"0px"},children:v==="TEMPLATE_PREVIEW"?H.jsx(Uy,{data:S||i(),onSave:I,isTemplateMode:!1,isTemplatePreview:!0,sourceTemplateName:((oe=h.find(z=>z.id===tt))==null?void 0:oe.title)||"",screenWidth:s,mdBreakpoint:Ia,onCancel:()=>{A("EDITOR"),M(i()),$(null)}}):H.jsx(Uy,{data:S||i(),onSave:I,isTemplateMode:(S==null?void 0:S.isTemplate)||!1,isTemplatePreview:!1,screenWidth:s,mdBreakpoint:Ia,onOpenSidebar:()=>_(!0),onCancel:()=>{M(i()),A("EDITOR")}})}),H.jsx(nv,{isOpen:!!G,title:(G==null?void 0:G.type)==="DOC"?" ":" ",message:(G==null?void 0:G.type)==="DOC"?"   ?":"  ?",onConfirm:x,onClose:()=>W(null)})]})},G0=document.getElementById("root");if(!G0)throw new Error("Could not find root element to mount to");const mR=NT.createRoot(G0);mR.render(H.jsx(tv.StrictMode,{children:H.jsx(dR,{})}));
